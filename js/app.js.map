{"version":3,"sources":["webpack:///app.js","webpack:///webpack/bootstrap 15717a8e9055eca5e530","webpack:///./src/js/app.ts","webpack:///external \"BrowserFS\"","webpack:///./src/js/util.ts","webpack:///./~/underscore/underscore.js","webpack:///./~/async/lib/async.js","webpack:///./src/js/shell.ts","webpack:///./~/xterm/src/xterm.js","webpack:///./src/js/commands/java.ts","webpack:///./src/js/commands/meta.ts","webpack:///external \"Doppio\"","webpack:///./src/js/commands/edit.ts","webpack:///./src/js/commands/fs.ts","webpack:///./src/js/commands/util.ts","webpack:///./build/programs/listings.json"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","uploadFile","f","cb","reader","FileReader","onerror","e","target","error","code","NOT_FOUND_ERR","name","NOT_READABLE_ERR","SECURITY_ERR","onload","fs","writeFile","process","cwd","Buffer","result","err","readAsArrayBuffer","uploadFiles","terminal","ev","stderr","prompt","fileCount","files","length","filesUploaded","stdout","_loop_1","i","str","startDemo","consoleJQuery","$","chdir","fadeIn","consoleElement","get","util_1","disableScroll","shell","shell_1","java_1","JARCommand","demoJars","JavaClassCommand","map","item","join","demoClasses","JavaCommand","fs_1","LSCommand","edit_1","CatCommand","MvCommand","CpCommand","MkdirCommand","CDCommand","RMCommand","RmdirCommand","MountDropboxCommand","util_2","TimeCommand","ProfileCommand","TipCommand","HelpCommand","readFile","data","welcomeText","toString","change","on","loadingCompleted","setupFileSystem","persistentFs","root","BrowserFS","FileSystem","MountableFileSystem","initialize","mkdirSync","mount","InMemory","LocalStorage","XmlHttpRequest","constructPersistantFs","IndexedDB","isAvailable","idbfs_1","HTML5FS","html5fs_1","allocate","setupJavaHome","download","xhr","XMLHttpRequest","startTime","Date","getTime","open","responseType","addEventListener","time","total","rate","remaining","remainingTime","Math","floor","remainingMinutes","remainingSeconds","percent","progressBarText","text","toFixed","progressBar","attr","css","extract","response","removeClass","addClass","send","mfs","ZipFS","recursiveCopy","src","dest","size","slice","indexOf","BFSRequire","json","JSON","parse","expectedURL","Doppio","VM","JVM","getCompiledJDKURL","url","location","protocol","host","document","ready","_fs","readdir","prop","resetStatus","recursiveRm","console","reload","fadeOut","step2","interval_1","setInterval","clearInterval","filterSubstring","prefix","lst","filter","x","substr","processGlob","glob","constructRegExp","pattern","RegExp","replace","split","globNormalized","path","normalize","pathComps","expanded","charAt","async","eachSeries","path_comp","next_item","r","expandDirs","_expanded","dirs","each","dir","contents","test","push","fileNameCompletions","cmd","args","dirPfx","searchPfx","toComplete","_","last","lastSlash","lastIndexOf","dirPath","resolve","dirList","completions","next","stat","stats","isDirectory","longestCommmonPrefix","match","columnize","str_list","line_length","make_row","column_list","col","padRight","max_len","len","num_cols","col_size","ceil","j","splice","row_list","Array","progressCb","processDir","folder","items","rmdir","unlink","srcFolder","destFolder","mkdir","srcItem","destItem","copyFile","srcFile","destFile","preventDefault","window","event","returnValue","element","enableScroll","removeEventListener","onmousewheel","onwheel","ontouchmove","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","createReduce","iterator","obj","iteratee","memo","keys","index","currentKey","context","optimizeCb","isArrayLike","arguments","createPredicateIndexFinder","array","predicate","getLength","createIndexFinder","predicateFind","sortedIndex","idx","max","min","isNaN","collectNonEnumProps","nonEnumIdx","nonEnumerableProps","constructor","proto","isFunction","prototype","ObjProto","has","contains","this","previousUnderscore","ArrayProto","Object","FuncProto","Function","hasOwnProperty","nativeIsArray","isArray","nativeKeys","nativeBind","bind","nativeCreate","create","Ctor","_wrapped","VERSION","func","argCount","value","other","collection","accumulator","apply","identity","isObject","matcher","property","Infinity","createAssigner","keysFunc","undefinedOnly","source","l","key","baseCreate","MAX_ARRAY_INDEX","pow","forEach","collect","results","reduce","foldl","inject","reduceRight","foldr","find","detect","findIndex","findKey","select","list","reject","negate","every","all","some","any","includes","include","fromIndex","guard","values","invoke","method","isFunc","pluck","where","attrs","findWhere","computed","lastComputed","shuffle","rand","set","shuffled","random","sample","n","sortBy","criteria","sort","left","right","a","b","group","behavior","groupBy","indexBy","countBy","toArray","partition","pass","fail","first","head","take","initial","rest","tail","drop","compact","flatten","input","shallow","strict","startIndex","output","isArguments","without","difference","uniq","unique","isSorted","isBoolean","seen","union","intersection","argsLength","zip","unzip","object","findLastIndex","low","high","mid","range","start","stop","step","executeBound","sourceFunc","boundFunc","callingContext","self","TypeError","bound","concat","partial","boundArgs","position","bindAll","Error","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","now","clearTimeout","trailing","debounce","immediate","timestamp","callNow","wrap","wrapper","compose","after","times","before","once","hasEnumBug","propertyIsEnumerable","allKeys","mapObject","pairs","invert","functions","methods","names","extend","extendOwn","assign","pick","oiteratee","omit","String","defaults","props","clone","tap","interceptor","isMatch","eq","aStack","bStack","className","areArrays","aCtor","bCtor","pop","isEqual","isEmpty","isString","isElement","nodeType","type","Int8Array","isFinite","parseFloat","isNumber","isNull","isUndefined","noConflict","constant","noop","propertyOf","matches","accum","escapeMap","&","<",">","\"","'","`","unescapeMap","createEscaper","escaper","testRegexp","replaceRegexp","string","escape","unescape","fallback","idCounter","uniqueId","templateSettings","evaluate","interpolate","noMatch","escapes","\\","\r","\n"," "," ","escapeChar","template","settings","oldSettings","offset","variable","render","argument","chain","instance","_chain","mixin","valueOf","toJSON","undefined","global","v","toBool","notId","only_once","fn","_once","_isArrayLike","arr","_isArray","_arrayEach","_map","_range","count","_reduce","_forEachOf","_keys","_indexOf","_keyIterator","coll","_restParam","_withoutIndex","callback","_eachOfLimit","limit","nextKey","done","running","errored","replenish","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","_filter","_reject","_createTester","check","getResult","_findGetResult","_parallel","tasks","task","_concat","y","_queue","worker","concurrency","payload","_insert","q","pos","started","idle","setImmediate","drain","unshift","saturated","_next","workers","removed","workersList","empty","paused","kill","pause","resume","resumeCount","w","_console_fn","_times","mapper","_applyEach","fns","go","that","ensureAsync","innerArgs","sync","previous_async","_toString","_isObject","k","_setImmediate","_delay","nextTick","forEachSeries","forEachLimit","eachLimit","forEachOf","completed","iter","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","mapSeries","mapLimit","reversed","reverse","transform","selectLimit","filterLimit","selectSeries","filterSeries","rejectLimit","rejectSeries","someLimit","everyLimit","detectSeries","detectLimit","comparator","auto","addListener","listeners","removeListener","taskComplete","remainingTasks","runningTasks","hasError","requires","listener","taskCallback","dep","safeResults","val","rkey","retry","parseTimes","acc","t","parseInt","DEFAULT_TIMES","interval","DEFAULT_INTERVAL","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","opts","attempts","series","waterfall","wrapIterator","parallel","parallelLimit","makeCallback","callArgs","concatSeries","whilst","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","priorityQueue","_compareTasks","priority","_binarySearch","sequence","compare","beg","end","cargo","log","queues","memoized","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","applyEach","applyEachSeries","forever","wrapSync","asyncify","then","message","Terminal","globalTerm","ControlCodes","CURSOR_POSITION","term","row","ybase","SAVE_CURSOR","RESTORE_CURSOR","UP_ARROW","RIGHT_ARROW","LEFT_ARROW","SHOW_CURSOR","Shell","shellElement","commands","loadingText","shellHistoryFile","_this","_terminal","_commands","_activeCommand","_shellEnabled","_psX","_psY","_endX","_endY","_history","_historyOffset","_disableInput","_savedCommand","_bufferedInput","_shellHistoryFile","getCommand","rows","cols","cancelEvents","cursorHidden","keyCode","keyProcessed","ctrlKey","_moveToStart","killProgram","_forwardDelete","_moveToEnd","_nextHistory","_prevHistory","_cursorLeft","_cursorRight","toDelete","_getEnteredText","_getCursorOffset","altKey","stdin","_tabComplete","_getArgs","_runCommand","_cursorX","_cursorY","greeting","backspace","_redrawPrompt","promptX","promptY","termWidth","promptOffset","cursorX","cursorY","cursorOffset","lines","psY","endY","endX","_updateEndLocation","delta","abs","command","suffix","yBefore","yAfter","_updatePrompt","write","trim","raw","_expandArguments","expArgs","run","exitProgram","focus","_ps","getAvailableCommands","_boundCursor","psX","psOffset","endOffset","expandedArgs","arg","expansionTerms","getCompletions","getAutocompleteFilter","backspaceStr","setRawMode","oldCommand","lastArg","completion","commonLen_1","__esModule","xterm","EventEmitter","_events","cancel","handler","colors","_colors","parent","body","getElementsByTagName","geometry","ydisp","cursorState","convertEol","state","scrollTop","scrollBottom","applicationKeypad","applicationCursor","originMode","insertMode","wraparoundMode","normal","charset","gcharset","glevel","charsets","decLocator","x10Mouse","vt200Mouse","vt300Mouse","normalMouse","mouseEvents","sendFocus","utfMouse","sgrMouse","urxvtMouse","children","refreshStart","refreshEnd","savedX","savedY","savedCols","readable","writable","defAttr","curAttr","params","currentParam","postfix","blankLine","tabs","setupStops","el","capture","off","force","stopPropagation","inherits","child","isBoldBroken","createElement","innerHTML","appendChild","w1","scrollWidth","style","fontWeight","w2","removeChild","isWide","ch","matchColor","r1","g1","b1","hash","_cache","r2","g2","b2","diff","ldiff","li","vcolors","distance","con","removeAllListeners","emit","escaped","csi","osc","dcs","ignore","eraseAttr","tangoColors","out","g","hex","color","substring","theme","termName","cursorBlink","visualBell","popOnBell","scrollback","screenKeys","debug","activeElement","textarea","showCursor","blur","refresh","initGlobal","bindPaste","bindKeys","bindCopy","clipboardData","getData","keyDown","keyPress","insertRow","rowContainer","ownerDocument","defaultView","navigator","userAgent","isMac","isIpad","isIphone","isMSIE","classList","add","setAttribute","helperContainer","tabIndex","onfocus","onblur","startBlink","selection","getSelection","collapsed","isCollapsed","isRange","bindMouse","brokenBold","sendButton","button","getButton","getCoords","sendEvent","pressed","wheelEvent","sendMove","encode","page","fromCharCode","shift","meta","ctrl","mod","which","detail","wheelDeltaY","shiftKey","metaKey","h","pageX","pageY","documentElement","offsetLeft","offsetTop","offsetParent","parentNode","clientWidth","clientHeight","round","__proto__","up","scrollDisp","destroy","line","width","bg","fg","flags","focused","_cursorBlink","_blinker","_blink","refreshBlink","scroll","updateRange","disp","cs","maxRange","bell","nextStop","setgLevel","reset","reverseIndex","setgCharset","US","saveCursor","restoreCursor","tabSet","SCLD","UK","Dutch","Finnish","French","FrenchCanadian","German","Italian","NorwegianDanish","Spanish","Swedish","Swiss","ISOLatin","title","handleTitle","charCodeAt","cursorUp","cursorDown","cursorForward","cursorBackward","cursorPos","eraseInDisplay","eraseInLine","charAttributes","deviceStatus","insertChars","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","insertLines","deleteLines","deleteChars","eraseChars","charPosAbsolute","HPositionRelative","sendDeviceAttributes","linePosAbsolute","VPositionRelative","HVPosition","setMode","resetMode","setScrollRegion","cursorForwardTab","scrollUp","scrollDown","cursorBackwardTab","repeatPrecedingCharacter","tabClear","softReset","pt","valid","writeln","charCode","borderColor","resize","prevStop","eraseRight","eraseLeft","eraseLine","cur","is","param","cursor","initMouseTracking","resetTitleModes","mediaCopy","setResources","disableModifiers","setPointerMode","requestAnsiMode","requestPrivateMode","setConformanceLevel","loadLEDs","setCursorStyle","setCharProtectionAttr","restorePrivateValues","setAttrInRectangle","fillRectangle","enableLocatorReporting","eraseRectangle","insertColumns","deleteColumns","copyBuffer","getCopyTextarea","_copyTextarea","top","height","opacity","backgroundColor","borderStyle","outlineStyle","copyText","textContent","setSelectionRange","keyPrefix","keySelect","oy","yb","saw_space","saw_full","found","first_is_space","d","o","s","u","z","{","|","}","~","constructJavaOptions","customArgs","getDefaultOptions","classpath","__extends","__","meta_1","_super","_jvm","_killed","fname","isDir","dot","ext","translateFileToArg","extname","CLI","launcherName","jvm","halt","AbstractShellCommand","jarPath","extraArgs","validExts","_cmd","_jarPath","_extraArgs","_validExts","allArgs","extraJvmArgs","extraProgArgs","_classpath","_className","_extraProgArgs","_extraJvmArgs","SimpleCommand","runCommand","_command","EditCommand","editorElementName","saveButtonElement","closeButtonElement","editorContainer","filenameElement","_isInitialized","_consoleElement","_filenameElement","_editorContainer","_saveButtonElement","_closeButtonElement","_editor","ace","edit","setTheme","click","getSession","getValue","_lastCb","closeEditor","startEditor","consoleHeight","JavaMode","require","Mode","TextMode","setValue","defaultFile","filename","readDir","pretty","columns","numCols","prettyList","nextItem","listing","rename","basename","exists","doesExist","api_key","URL","href","client","Dropbox","Client","authenticate","getRootFS","getRandomTip","tips","commandObj","profile","profileEnd","timeOnce","isWarmup","duration","runs","Bench.class","Bench.java","FrozenCompile.class","FrozenCompile.java","NashornBenchmark.class","NashornBenchmark.java","abandon.jar","abcl-1.3.3.jar","clojure-1.7.0.jar","ecj-4.5.jar","groovy-all-2.4.5-indy.jar","jruby-complete-9.0.1.0.jar","jython-standalone-2.7.0.jar","kawa-2.0.jar","listings.json","rhino1.7.6.jar","scala-2.11.7","bin","fsc","fsc.bat","scala","scala.bat","scalac","scalac.bat","scaladoc","scaladoc.bat","scalap","scalap.bat","doc","LICENSE.md","License.rtf","README","licenses","apache_jansi.txt","bsd_asm.txt","bsd_jline.txt","mit_jquery-layout.txt","mit_jquery-ui.txt","mit_jquery.txt","mit_sizzle.txt","mit_tools.tooltip.txt","tools","style.css","fsc.html","images","external.gif","scala_logo.png","index.html","scala.html","scalac.html","scaladoc.html","scalap.html","lib","akka-actor_2.11-2.3.10.jar","config-1.2.1.jar","jline-2.12.1.jar","scala-actors-2.11.0.jar","scala-actors-migration_2.11-1.1.0.jar","scala-compiler.jar","scala-continuations-library_2.11-1.0.2.jar","scala-continuations-plugin_2.11.7-1.0.2.jar","scala-library.jar","scala-parser-combinators_2.11-1.0.4.jar","scala-reflect.jar","scala-swing_2.11-1.0.2.jar","scala-xml_2.11-1.0.4.jar","scalap-2.11.7.jar","man","man1","fsc.1","scala.1","scalac.1","scaladoc.1","scalap.1","scimark2lib.jar"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,OAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GE5ChC,YAkBA,SAAAW,GAAAC,EAAAC,GACA,GAAAC,GAAA,GAAAC,WACAD,GAAAE,QAAA,SAAAC,GACA,OAAAA,EAAAC,OAAAC,MAAAC,MACA,IAAAH,GAAAC,OAAAC,MAAAE,cACA,MAAAR,GAAA,QAAAD,EAAAU,KAAA,cACA,KAAAL,GAAAC,OAAAC,MAAAI,iBACA,MAAAV,GAAA,QAAAD,EAAAU,KAAA,oBACA,KAAAL,GAAAC,OAAAC,MAAAK,aACA,MAAAX,GAAA,4GAGAC,EAAAW,OAAA,SAAAR,GACAS,EAAAC,UAAAC,EAAAC,MAAA,IAAAjB,EAAAU,KAAA,GAAAQ,GAAAb,EAAAC,OAAAa,QAAA,SAAAC,GACAA,EACAnB,EAAA,GAAAmB,GAGAnB,OAIAC,EAAAmB,kBAAArB,GAMA,QAAAsB,GAAAC,EAAAC,GACA,sBAAArB,aAAA,OAAAA,WAEA,MADAoB,GAAAE,OAAA,iGACAF,EAAAG,QAEA,IAAAC,GAAAH,EAAAlB,OAAAsB,MAAAC,OAAAC,EAAA,CACAH,GAAA,GACAJ,EAAAQ,OAAA,eAAAJ,EAAA,cAqBA,QAnBAC,GAAAJ,EAAAlB,OAAAsB,MACAI,EAAA,SAAAC,GACA,GAAAjC,GAAA4B,EAAAK,EACAlC,GAAAC,EAAA,SAAAK,GACAyB,GACA,IAAAI,GAAA,IAAAJ,EAAA,IAAAH,EAAA,WAAA3B,EAAAU,KAAA,GACAL,IACA6B,GAAA,uBAAA7B,EAAA,MACAkB,EAAAE,OAAAS,KAGAA,GAAA,wBACAX,EAAAQ,OAAAG,IAEAJ,IAAAH,GACAJ,EAAAG,YAIAO,EAAA,EAAmBA,EAAAL,EAAAC,OAAkBI,IACrCD,EAAAC,GAGA,QAAAE,KAEA,GAAAC,GAAAC,EAAA,WACArB,GAAAsB,MAAA,SACAF,EAAAG,OAAA,kBACA,GAAAC,GAAAJ,EAAAK,MAAA,EACAC,GAAAC,cAAAH,EACA,IAAAI,GAAA,GAAAC,GAAA,WAAAL,GACA,GAAAM,GAAAC,WAAA,MAAAC,EAAA,gEACA,GAAAF,GAAAC,WAAA,QAAAC,EAAA,4BACA,GAAAF,GAAAC,WAAA,OAAAC,EAAA,sCACA,GAAAF,GAAAC,WAAA,UAAAC,EAAA,mDAKA,GAAAF,GAAAG,iBAAA,gDACA,sBACA,6BACA,mBACA,mBACA,0BACA,wCACA,qBACA,6CACA,8CACA,oBACA,0CACA,oBACA,6BACA,2BACA,qBACAC,IAAA,SAAAC,GAAuC,MAAAH,GAAA,oBAAAG,IAAkDC,KAAA,KACzF,gBAAAJ,EAAA,wCACA,oBACA,eACA,GAAAF,GAAAC,WAAA,SAAAC,EAAA,4DACA,GAAAF,GAAAC,WAAA,OAAAC,EAAA,6CACA,GAAAF,GAAAC,WAAA,kEACA,GAAAD,GAAAC,WAAA,+CACA,GAAAD,GAAAG,iBAAA,4EACA,GAAAH,GAAAG,iBAAA,QAAAI,EAAA,qCACA,GAAAP,GAAAG,iBAAA,QAAAI,EAAA,sCACA,GAAAP,GAAAQ,YACA,GAAAC,GAAAC,UACA,GAAAC,GAAA,oBAAApB,EAAA,aAAAA,EAAA,cAAAA,EAAA,QAAAA,EAAA,YAAAA,EAAA,cACA,GAAAkB,GAAAG,WACA,GAAAH,GAAAI,UACA,GAAAJ,GAAAK,UACA,GAAAL,GAAAM,aACA,GAAAN,GAAAO,UACA,GAAAP,GAAAQ,UACA,GAAAR,GAAAS,aACA,GAAAT,GAAAU,oBACA,GAAAC,GAAAC,YACA,GAAAD,GAAAE,eACA,GAAAF,GAAAG,WACA,GAAAH,GAAAI,aACA,uEACAxD,GAAAyD,SAAA,sBAAAlE,EAAAmE,GACA,GAAAC,GAAA,EACApE,KACAoE,EAAAD,EAAAE,YAGArC,EAAA,SAAAsC,OAAA,SAAAnD,GACAF,EAAAsB,EAAApB,KAGAR,EAAAe,OAAA6C,GAAA,gBAAAJ,GAAuD,MAAA5B,GAAAb,OAAAyC,EAAAE,cACvD1D,EAAAS,OAAAmD,GAAA,gBAAAJ,GAAuD,MAAA5B,GAAAnB,OAAA+C,EAAAE,cACvD9B,EAAAiC,iBAAAJ,OAOA,QAAAK,GAAAC,EAAA9E,GACA,GAAA+E,GAAA,GAAAC,GAAAC,WAAAC,mBACAF,GAAAG,WAAAJ,GACAlE,EAAAuE,UAAA,QACAL,EAAAM,MAAA,QAAAP,GACAC,EAAAM,MAAA,UAAAL,GAAAC,WAAAK,UACAP,EAAAM,MAAA,uBAAAL,GAAAC,WAAAM,cACAR,EAAAM,MAAA,eAAAL,GAAAC,WAAAO,eAAArG,EAAA,kBACAa,IAEA,QAAAyF,GAAAzF,GACA,GAAAgF,EAAAC,WAAAS,UAAAC,cACA,GAAAC,GAAA,GAAAZ,GAAAC,WAAAS,UAAA,SAAAtF,EAAAS,GAEAb,EADAI,EACA,GAAA4E,GAAAC,WAAAK,SAGAM,IAES,oBAET,IAAAZ,EAAAC,WAAAY,QAAAF,cAAA,CACA,GAAAG,GAAA,GAAAd,GAAAC,WAAAY,QAAA,UACAC,GAAAC,SAAA,SAAA3F,GAEAJ,EADAI,EACA,GAAA4E,GAAAC,WAAAK,SAGAQ,SAKA9F,GAAA,GAAAgF,GAAAC,WAAAK,UAMA,QAAAU,GAAAlB,EAAA9E,GA4BA,QAAAiG,KACA,GAAAC,GAAA,GAAAC,gBACAC,GAAA,GAAAC,OAAAC,SACAJ,GAAAK,KAAA,yBACAL,EAAAM,aAAA,cACAN,EAAAO,iBAAA,oBAAArG,GACA,GAAAsG,IAAA,GAAAL,OAAAC,UACA7G,EAAAW,EAAAX,OACAkH,EAAAvG,EAAAuG,MAEAC,GAAAnH,GAAA,MAAAiH,EAAAN,GAAA,KACAS,EAAAF,EAAAlH,GAAA,GACAqH,EAAAC,KAAAC,MAAAH,EAAAD,GACAK,EAAAF,KAAAC,MAAAF,EAAA,IACAI,EAAAJ,EAAA,GACAK,EAAA1H,EAAAkH,EAAA,KACAS,GAAAC,KAAA,kCAAAT,EAAAU,QAAA,cAAA7H,GAAA,cAAAkH,GAAA,aAAAM,EAAA,IAAAC,EAAA,gBACAK,EAAAC,KAAA,gBAAAL,GACAI,EAAAE,IAAA,QAAAN,EAAA,OAEAjB,EAAAO,iBAAA,gBAAArG,GACAsH,EAAAxB,EAAAyB,YAEAzB,EAAAO,iBAAA,iBAAArG,GACAmH,EAAAK,YAAA,UAAAC,SAAA,uBACAT,EAAAC,KAAA,sCAAAjH,EAAAE,SAEA4F,EAAAO,iBAAA,iBAAArG,GACAmH,EAAAK,YAAA,UAAAC,SAAA,uBACAT,EAAAC,KAAA,0DAEAnB,EAAA4B,OAEA,QAAAJ,GAAAnD,GACA,GAAAwD,GAAA,GAAA/C,GAAAC,WAAAC,mBACA6C,GAAA1C,MAAA,WAAAP,GACAiD,EAAA1C,MAAA,kBAAAL,GAAAC,WAAA+C,MAAA,GAAA/G,GAAAsD,KACAS,EAAAG,WAAA4C,GACAtF,EAAAwF,cAAA,mCAAAC,EAAAC,EAAAC,GACAhB,EAAAC,KAAA,cAAAc,EAAAE,MAAAF,EAAAG,QAAA,kBACS,SAAAnH,GACTA,GACAoG,EAAAK,YAAA,UAAAC,SAAA,uBACAT,EAAAC,KAAA,qCAAAlG,IAGAnB,MAzEA,GAAAoH,GAAAhF,EAAA,sBACAmF,EAAAnF,EAAA,iBACAvB,EAAAmE,EAAAuD,WAAA,KACAnB,GAAAC,KAAA,6BACArC,EAAAG,WAAAL,GACAjE,EAAAyD,SAAA,sCAAAnD,EAAAoD,GACA,GAAApD,EACA8E,QAGA,KACA,GAAAuC,GAAAC,KAAAC,MAAAnE,EAAAE,YACAkE,EAAAC,EAAAC,GAAAC,IAAAC,mBACAP,GAAAQ,MAAAL,EAEA3I,IAIAiG,IAGA,MAAA7F,GACA6F,OA1NA,GAAAjB,GAAA7F,EAAA,GACAsD,EAAAtD,EAAA,GACAyD,EAAAzD,EAAA,GACA0D,EAAA1D,EAAA,GACAqE,EAAArE,EAAA,IACAmE,EAAAnE,EAAA,IACA8E,EAAA9E,EAAA,IACAyJ,EAAAzJ,EAAA,GACA4B,EAAAiE,EAAAuD,WAAA,WAAAtH,EAAA+D,EAAAuD,WAAA,UAAAtH,OAAAJ,EAAAmE,EAAAuD,WAAA,MAAAxF,GAAAiC,EAAAuD,WAAA,sBAAAnF,EAAA,gBAEA,OAAA6F,SAAA,SACAA,SAAA,OAAAA,SAAAC,SAAA,KAAAD,SAAAE,MAsQA/G,EAAAgH,UAAAC,MAAA,WACA,GAAAvE,GAAA,IACAW,GAAA,SAAA6D,GACAxE,EAAAwE,EACAtE,EAAAG,WAAAmE,EACA,IAAAzI,GAAAmE,EAAAuD,WAAA,KACA1H,GAAA0I,QAAA,aAAApI,EAAAQ,GACAA,KAAAC,OAAA,GAEAQ,EAAA,sBAAAE,OAAA,QAAAqC,GAAA,mBACAvC,EAAA,sBAAAoH,KAAA,cACA,IAAAC,GAAArH,EAAA,gBACAK,GAAAiH,YAAA,aAAA7J,GACA4J,EAAApC,KAAA,wBAAAxH,EAAA,QACqB,SAAAsB,GACrBA,GACAwI,QAAArJ,MAAA,mBAAAa,GACAiI,SAAAH,SAAAW,QAAA,WAMAxH,EAAA,gBAAAuC,GAAA,mBACAvC,EAAA,uBAAAyH,QAAA,kBACAzH,EAAA,2BAAAE,OAAA,kBAcA,QAAAwH,KACA9D,EAAAlB,EAAA,WACAD,EAAAC,EAAA,WACA1C,EAAA,2BAAAyH,QAAA,kBACA3H,UAjBA,GAAA4C,EAWAgF,QAXA,CACA,GAAA1C,GAAAhF,EAAA,qBACAgF,GAAAC,KAAA,oEACA,IAAA0C,GAAAC,YAAA,WACAlF,IACAmF,cAAAF,GACAD,MAEqB,eFoEf,SAASvK,EAAQD,GGxXvBC,EAAAD,QAAA0F,WH8XM,SAASzF,EAAQD,EAASH,GI9XhC,YAKA,SAAA+K,GAAAC,EAAAC,GACA,MAAAA,GAAAC,OAAA,SAAAC,GAAoC,MAAAA,GAAAC,OAAA,EAAAJ,EAAAvI,SAAAuI,IAMpC,QAAAK,GAAAC,EAAAzK,GAQA,QAAA0K,GAAAC,GACA,UAAAC,QAAA,IAAAD,EAAAE,QAAA,aAAAC,MAAA,KAAA3H,KAAA,cARA,GAAA4H,GAAAC,EAAAC,UAAAR,GAAAS,EAAAH,EAAAD,MAAA,KAGAK,GAAA,MAAAV,EAAAW,OAAA,WAQAC,GAAAC,WAAAJ,EAAA,SAAAK,EAAAC,GACA,GAAAC,EACA,YAAAF,EAIAC,KAEAC,EAAAf,EAAAa,OACAG,GAAAP,EAAAM,EAAA,SAAAE,GACAR,EAAAQ,EACAH,QAEK,SAAApL,GACLJ,EAAAmL,KASA,QAAAO,GAAAE,EAAAH,EAAAzL,GACA,GAAAmL,KACAE,GAAAQ,KAAAD,EAAA,SAAAE,EAAAN,GACA3K,EAAA0I,QAAAuC,EAAA,SAAA3K,EAAA4K,GACA,GAAA/J,EACA,UAAAb,EACA,IAAAa,EAAA,EAA2BA,EAAA+J,EAAAnK,OAAqBI,IAChDyJ,EAAAO,KAAAD,EAAA/J,KAGAmJ,EAAAc,KAAAjB,EAAA7H,KAAA2I,EAAAC,EAAA/J,IAIAwJ,QAEK,WACLxL,EAAAmL,KAGA,QAAAe,GAAAC,EAAAC,EAAA/B,EAAArK,GACA,GAEAqM,GAAAC,EAFAC,EAAAC,EAAAC,KAAAL,GACAM,EAAAH,EAAAI,YAAA,IAEAD,IAAA,GACAL,EAAAE,EAAAlE,MAAA,EAAAqE,EAAA,GACAJ,EAAAC,EAAAlE,MAAAqE,EAAA,KAGAL,EAAA,GACAC,EAAAC,EAEA,IAAAK,GAAA,IAAAP,EAAA,IAAArB,EAAA6B,QAAAR,EACAxL,GAAA0I,QAAAqD,EAAA,SAAAzL,EAAA2L,GACA,GAAAC,KACA,cAAA5L,EACAnB,EAAA+M,IAEAD,EAAA5C,EAAAoC,EAAAQ,OACAzB,GAAAQ,KAAAiB,EAEA,SAAA5J,EAAA8J,GACAnM,EAAAoM,KAAAjC,EAAA6B,QAAAR,EAAAnJ,GAAA,SAAA/B,EAAA+L,GACA,MAAA/L,IAEA+L,EAAAC,eAAA9C,EAAAnH,GAAA,GACA6J,EAAAd,KAAAI,EAAAnJ,EAAA,KAEAmH,EAAAnH,GAAA,IACA6J,EAAAd,KAAAI,EAAAnJ,IAEA8J,OAIA,WAAqB,MAAAhN,GAAA+M,QAKrB,QAAAK,GAAAhD,GACA,MAAAA,GAAAjH,KAAA,KAAAkK,MAAA,6BAGA,QAAAC,GAAAC,EAAAC,GAcA,QAAAC,GAAAzL,GACA,MAAA0L,GAAArD,OAAA,SAAAsD,GAAkD,aAAAA,EAAA3L,KAClDiB,IAAA,SAAA0K,GAAiC,MAAAC,GAAAD,EAAA3L,GAAA6L,EAAA,KACjC1K,KAAA,IAfA,OADA0K,GAAA,EACA7L,EAAA,EAAmBA,EAAAuL,EAAA3L,OAAqBI,IAAA,CACxC,GAAA8L,GAAAP,EAAAvL,GAAAJ,MACAkM,GAAAD,IACAA,EAAAC,GAMA,OAHAC,GAAAP,GAAAK,EAAA,KACAG,EAAAjH,KAAAkH,KAAAV,EAAA3L,OAAAmM,GACAL,KACAQ,EAAA,EAAmBH,GAAAG,EAAeA,IAClCR,EAAAzB,KAAAsB,EAAAY,OAAA,EAAAH,GAQA,QADAI,MACApM,EAAA,EAAmBgM,EAAAhM,EAAcA,IACjCoM,EAAAnC,KAAAwB,EAAAzL,GAEA,OAAAoM,GAAAjL,KAAA,MAGA,QAAAyK,GAAA3L,EAAA6L,GACA,MAAA7L,GAAAoM,MAAAP,EAAA7L,EAAAL,OAAA,GAAAuB,KAAA,KAGA,QAAAuG,GAAAoC,EAAAwC,EAAAtO,GACA,QAAAuO,GAAAC,EAAAxO,GACAa,EAAA0I,QAAAiF,EAAA,SAAArN,EAAAsN,GACA,MAAAtN,GACAnB,EAAAmB,OAEAkK,GAAAQ,KAAA4C,EAAA,SAAAvL,EAAA8J,GACA,GAAAnN,GAAAmL,EAAA6B,QAAA2B,EAAAtL,EACArC,GAAAoM,KAAApN,EAAA,SAAAO,EAAA6M,GACA7M,EACA4M,EAAA5M,GAGA6M,EAAAE,cACAoB,EAAA1O,EAAA,SAAAO,GACAA,EAIA4M,EAAA5M,GAHAS,EAAA6N,MAAA7O,EAAAmN,MASAsB,EAAAzO,GACAgB,EAAA8N,OAAA9O,EAAAmN,OAIahN,KAGbuO,EAAAzC,EAAA9L,GAGA,QAAAiI,GAAA2G,EAAAC,EAAAP,EAAAtO,GACA,QAAAuO,GAAAK,EAAAC,EAAA7O,GACAa,EAAAiO,MAAAD,EAAA,SAAA1N,GAEAA,GAAA,WAAAA,EAAAZ,KACAP,EAAAmB,GAGAN,EAAA0I,QAAAqF,EAAA,SAAAxO,EAAAqO,GACArO,EACAJ,EAAAI,GAGAiL,EAAAQ,KAAA4C,EAAA,SAAAvL,EAAA8J,GACA,GAAA+B,GAAA/D,EAAA6B,QAAA+B,EAAA1L,GAAA8L,EAAAhE,EAAA6B,QAAAgC,EAAA3L,EACArC,GAAAoM,KAAA8B,EAAA,SAAA3O,EAAA6M,GACA7M,EACAJ,EAAAI,GAGA6M,EAAAE,cACAoB,EAAAQ,EAAAC,EAAAhC,IAGAsB,EAAAS,EAAAC,EAAA/B,GACAgC,EAAAF,EAAAC,EAAAhC,OAIyBhN,OAMzBuO,EAAAK,EAAAC,EAAA7O,GAGA,QAAAiP,GAAAC,EAAAC,EAAAnP,GACAa,EAAAyD,SAAA4K,EAAA,SAAA9O,EAAAmE,GACAnE,EACAJ,EAAAI,GAGAS,EAAAC,UAAAqO,EAAA5K,EAAAvE,KASA,QAAAoP,GAAAhP,GACAA,KAAAiP,OAAAC,MACAlP,EAAAgP,gBACAhP,EAAAgP,iBAEAhP,EAAAmP,aAAA,EAQA,QAAA7M,GAAA8M,GACAA,EAAA/I,kBACA+I,EAAA/I,iBAAA,iBAAA2I,GAAA,GAQA,QAAAK,GAAAD,GACAA,EAAAE,qBACAF,EAAAE,oBAAA,iBAAAN,GAAA,GAEAI,EAAAG,aAAA,KACAH,EAAAI,QAAA,KACAJ,EAAAK,YAAA,KAlQA,GAAArD,GAAArN,EAAA,GACAkM,EAAAlM,EAAA,GACA6F,EAAA7F,EAAA,GACA6L,EAAAhG,EAAAuD,WAAA,QAAA1H,EAAAmE,EAAAuD,WAAA,KAIAjJ,GAAA4K,kBAiCA5K,EAAAkL,cAgEAlL,EAAA4M,sBAKA5M,EAAA8N,uBA0BA9N,EAAAgO,YAIAhO,EAAAsO,WAoCAtO,EAAAoK,cAsCApK,EAAA2I,gBAWA3I,EAAA2P,UA2BA3P,GAAAoD,gBAUApD,EAAAmQ,gBJqYM,SAASlQ,EAAQD,EAASH,GK3oBhC,GAAA2Q,GAAAC,GAKA,WA4KA,QAAAC,GAAAlE,GAGA,QAAAmE,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA1O,GACA,KAAY0O,GAAA,GAAA1O,EAAA0O,EAA8BA,GAAAxE,EAAA,CAC1C,GAAAyE,GAAAF,IAAAC,IACAF,GAAAD,EAAAC,EAAAF,EAAAK,KAAAL,GAEA,MAAAE,GAGA,gBAAAF,EAAAC,EAAAC,EAAAI,GACAL,EAAAM,EAAAN,EAAAK,EAAA,EACA,IAAAH,IAAAK,EAAAR,IAAA1D,EAAA6D,KAAAH,GACAtO,GAAAyO,GAAAH,GAAAtO,OACA0O,EAAAxE,EAAA,IAAAlK,EAAA,CAMA,OAJA+O,WAAA/O,OAAA,IACAwO,EAAAF,EAAAG,IAAAC,MACAA,GAAAxE,GAEAmE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA1O,IA+ZA,QAAAgP,GAAA9E,GACA,gBAAA+E,EAAAC,EAAAN,GACAM,EAAA9Q,EAAA8Q,EAAAN,EAGA,KAFA,GAAA5O,GAAAmP,EAAAF,GACAP,EAAAxE,EAAA,IAAAlK,EAAA,EACY0O,GAAA,GAAA1O,EAAA0O,EAA8BA,GAAAxE,EAC1C,GAAAgF,EAAAD,EAAAP,KAAAO,GAAA,MAAAP,EAEA,WAsBA,QAAAU,GAAAlF,EAAAmF,EAAAC,GACA,gBAAAL,EAAA3N,EAAAiO,GACA,GAAAnP,GAAA,EAAAJ,EAAAmP,EAAAF,EACA,oBAAAM,GACArF,EAAA,EACA9J,EAAAmP,GAAA,EAAAA,EAAApK,KAAAqK,IAAAD,EAAAvP,EAAAI,GAEAJ,EAAAuP,GAAA,EAAApK,KAAAsK,IAAAF,EAAA,EAAAvP,GAAAuP,EAAAvP,EAAA,MAEO,IAAAsP,GAAAC,GAAAvP,EAEP,MADAuP,GAAAD,EAAAL,EAAA3N,GACA2N,EAAAM,KAAAjO,EAAAiO,EAAA,EAEA,IAAAjO,MAEA,MADAiO,GAAAF,EAAA5I,EAAA3I,KAAAmR,EAAA7O,EAAAJ,GAAA4K,EAAA8E,OACAH,GAAA,EAAAA,EAAAnP,EAAA,EAEA,KAAAmP,EAAArF,EAAA,EAAA9J,EAAAJ,EAAA,EAA0CuP,GAAA,GAAAvP,EAAAuP,EAA0BA,GAAArF,EACpE,GAAA+E,EAAAM,KAAAjO,EAAA,MAAAiO,EAEA,WAqPA,QAAAI,GAAArB,EAAAG,GACA,GAAAmB,GAAAC,EAAA7P,OACA8P,EAAAxB,EAAAwB,YACAC,EAAAnF,EAAAoF,WAAAF,MAAAG,WAAAC,EAGAtI,EAAA,aAGA,KAFAgD,EAAAuF,IAAA7B,EAAA1G,KAAAgD,EAAAwF,SAAA3B,EAAA7G,IAAA6G,EAAApE,KAAAzC,GAEAgI,KACAhI,EAAAiI,EAAAD,GACAhI,IAAA0G,MAAA1G,KAAAmI,EAAAnI,KAAAgD,EAAAwF,SAAA3B,EAAA7G,IACA6G,EAAApE,KAAAzC,GA74BA,GAAAzE,GAAAkN,KAGAC,EAAAnN,EAAAyH,EAGA2F,EAAA9D,MAAAwD,UAAAC,EAAAM,OAAAP,UAAAQ,EAAAC,SAAAT,UAIA5F,EAAAkG,EAAAlG,KACA5D,EAAA8J,EAAA9J,MACA5D,EAAAqN,EAAArN,SACA8N,EAAAT,EAAAS,eAKAC,EAAAnE,MAAAoE,QACAC,EAAAN,OAAA/B,KACAsC,EAAAN,EAAAO,KACAC,EAAAT,OAAAU,OAGAC,EAAA,aAGAvG,EAAA,SAAA0D,GACA,MAAAA,aAAA1D,GAAA0D,EACA+B,eAAAzF,QACAyF,KAAAe,SAAA9C,GADA,GAAA1D,GAAA0D,GAQA,oBAAA3Q,MAAAD,UACAA,EAAAC,EAAAD,QAAAkN,GAEAlN,EAAAkN,IAMAA,EAAAyG,QAAA,OAKA,IAAAxC,GAAA,SAAAyC,EAAA1C,EAAA2C,GACA,YAAA3C,EAAA,MAAA0C,EACA,cAAAC,EAAA,EAAAA,GACA,uBAAAC,GACA,MAAAF,GAAAxT,KAAA8Q,EAAA4C,GAEA,wBAAAA,EAAAC,GACA,MAAAH,GAAAxT,KAAA8Q,EAAA4C,EAAAC,GAEA,wBAAAD,EAAA9C,EAAAgD,GACA,MAAAJ,GAAAxT,KAAA8Q,EAAA4C,EAAA9C,EAAAgD,GAEA,wBAAAC,EAAAH,EAAA9C,EAAAgD,GACA,MAAAJ,GAAAxT,KAAA8Q,EAAA+C,EAAAH,EAAA9C,EAAAgD,IAGA,kBACA,MAAAJ,GAAAM,MAAAhD,EAAAG,aAOA3Q,EAAA,SAAAoT,EAAA5C,EAAA2C,GACA,aAAAC,EAAA5G,EAAAiH,SACAjH,EAAAoF,WAAAwB,GAAA3C,EAAA2C,EAAA5C,EAAA2C,GACA3G,EAAAkH,SAAAN,GAAA5G,EAAAmH,QAAAP,GACA5G,EAAAoH,SAAAR,GAEA5G,GAAA2D,SAAA,SAAAiD,EAAA5C,GACA,MAAAxQ,GAAAoT,EAAA5C,EAAAqD,KAIA,IAAAC,GAAA,SAAAC,EAAAC,GACA,gBAAA9D,GACA,GAAAtO,GAAA+O,UAAA/O,MACA,MAAAA,GAAA,MAAAsO,EAAA,MAAAA,EACA,QAAAI,GAAA,EAAyB1O,EAAA0O,EAAgBA,IAIzC,OAHA2D,GAAAtD,UAAAL,GACAD,EAAA0D,EAAAE,GACAC,EAAA7D,EAAAzO,OACAI,EAAA,EAAuBkS,EAAAlS,EAAOA,IAAA,CAC9B,GAAAmS,GAAA9D,EAAArO,EACAgS,IAAA,SAAA9D,EAAAiE,KAAAjE,EAAAiE,GAAAF,EAAAE,IAGA,MAAAjE,KAKAkE,EAAA,SAAAvC,GACA,IAAArF,EAAAkH,SAAA7B,GAAA,QACA,IAAAgB,EAAA,MAAAA,GAAAhB,EACAkB,GAAAlB,WACA,IAAA3Q,GAAA,GAAA6R,EAEA,OADAA,GAAAlB,UAAA,KACA3Q,GAGA0S,EAAA,SAAAO,GACA,gBAAAjE,GACA,aAAAA,EAAA,OAAAA,EAAAiE,KAQAE,EAAAtN,KAAAuN,IAAA,QACAvD,EAAA6C,EAAA,UACAlD,EAAA,SAAA4C,GACA,GAAA1R,GAAAmP,EAAAuC,EACA,uBAAA1R,OAAA,GAAAyS,GAAAzS,EASA4K,GAAAX,KAAAW,EAAA+H,QAAA,SAAArE,EAAAC,EAAAK,GACAL,EAAAM,EAAAN,EAAAK,EACA,IAAAxO,GAAAJ,CACA,IAAA8O,EAAAR,GACA,IAAAlO,EAAA,EAAAJ,EAAAsO,EAAAtO,OAAsCA,EAAAI,EAAYA,IAClDmO,EAAAD,EAAAlO,KAAAkO,OAEK,CACL,GAAAG,GAAA7D,EAAA6D,KAAAH,EACA,KAAAlO,EAAA,EAAAJ,EAAAyO,EAAAzO,OAAuCA,EAAAI,EAAYA,IACnDmO,EAAAD,EAAAG,EAAArO,IAAAqO,EAAArO,GAAAkO,GAGA,MAAAA,IAIA1D,EAAAvJ,IAAAuJ,EAAAgI,QAAA,SAAAtE,EAAAC,EAAAK,GACAL,EAAAnQ,EAAAmQ,EAAAK,EAIA,QAHAH,IAAAK,EAAAR,IAAA1D,EAAA6D,KAAAH,GACAtO,GAAAyO,GAAAH,GAAAtO,OACA6S,EAAApG,MAAAzM,GACA0O,EAAA,EAAuB1O,EAAA0O,EAAgBA,IAAA,CACvC,GAAAC,GAAAF,IAAAC,IACAmE,GAAAnE,GAAAH,EAAAD,EAAAK,KAAAL,GAEA,MAAAuE,IA+BAjI,EAAAkI,OAAAlI,EAAAmI,MAAAnI,EAAAoI,OAAA5E,EAAA,GAGAxD,EAAAqI,YAAArI,EAAAsI,MAAA9E,EAAA,IAGAxD,EAAAuI,KAAAvI,EAAAwI,OAAA,SAAA9E,EAAAY,EAAAN,GACA,GAAA2D,EAMA,OAJAA,GADAzD,EAAAR,GACA1D,EAAAyI,UAAA/E,EAAAY,EAAAN,GAEAhE,EAAA0I,QAAAhF,EAAAY,EAAAN,GAEA,SAAA2D,GAAA,KAAAA,EAAAjE,EAAAiE,GAAA,QAKA3H,EAAAnC,OAAAmC,EAAA2I,OAAA,SAAAjF,EAAAY,EAAAN,GACA,GAAAiE,KAKA,OAJA3D,GAAA9Q,EAAA8Q,EAAAN,GACAhE,EAAAX,KAAAqE,EAAA,SAAAkD,EAAA9C,EAAA8E,GACAtE,EAAAsC,EAAA9C,EAAA8E,IAAAX,EAAAxI,KAAAmH,KAEAqB,GAIAjI,EAAA6I,OAAA,SAAAnF,EAAAY,EAAAN,GACA,MAAAhE,GAAAnC,OAAA6F,EAAA1D,EAAA8I,OAAAtV,EAAA8Q,IAAAN,IAKAhE,EAAA+I,MAAA/I,EAAAgJ,IAAA,SAAAtF,EAAAY,EAAAN,GACAM,EAAA9Q,EAAA8Q,EAAAN,EAGA,QAFAH,IAAAK,EAAAR,IAAA1D,EAAA6D,KAAAH,GACAtO,GAAAyO,GAAAH,GAAAtO,OACA0O,EAAA,EAAuB1O,EAAA0O,EAAgBA,IAAA,CACvC,GAAAC,GAAAF,IAAAC,IACA,KAAAQ,EAAAZ,EAAAK,KAAAL,GAAA,SAEA,UAKA1D,EAAAiJ,KAAAjJ,EAAAkJ,IAAA,SAAAxF,EAAAY,EAAAN,GACAM,EAAA9Q,EAAA8Q,EAAAN,EAGA,QAFAH,IAAAK,EAAAR,IAAA1D,EAAA6D,KAAAH,GACAtO,GAAAyO,GAAAH,GAAAtO,OACA0O,EAAA,EAAuB1O,EAAA0O,EAAgBA,IAAA,CACvC,GAAAC,GAAAF,IAAAC,IACA,IAAAQ,EAAAZ,EAAAK,KAAAL,GAAA,SAEA,UAKA1D,EAAAwF,SAAAxF,EAAAmJ,SAAAnJ,EAAAoJ,QAAA,SAAA1F,EAAAhN,EAAA2S,EAAAC,GAGA,MAFApF,GAAAR,OAAA1D,EAAAuJ,OAAA7F,KACA,gBAAA2F,IAAAC,KAAAD,EAAA,GACArJ,EAAAlE,QAAA4H,EAAAhN,EAAA2S,IAAA,GAIArJ,EAAAwJ,OAAA,SAAA9F,EAAA+F,GACA,GAAA7J,GAAA/D,EAAA3I,KAAAiR,UAAA,GACAuF,EAAA1J,EAAAoF,WAAAqE,EACA,OAAAzJ,GAAAvJ,IAAAiN,EAAA,SAAAkD,GACA,GAAAF,GAAAgD,EAAAD,EAAA7C,EAAA6C,EACA,cAAA/C,MAAAM,MAAAJ,EAAAhH,MAKAI,EAAA2J,MAAA,SAAAjG,EAAAiE,GACA,MAAA3H,GAAAvJ,IAAAiN,EAAA1D,EAAAoH,SAAAO,KAKA3H,EAAA4J,MAAA,SAAAlG,EAAAmG,GACA,MAAA7J,GAAAnC,OAAA6F,EAAA1D,EAAAmH,QAAA0C,KAKA7J,EAAA8J,UAAA,SAAApG,EAAAmG,GACA,MAAA7J,GAAAuI,KAAA7E,EAAA1D,EAAAmH,QAAA0C,KAIA7J,EAAA4E,IAAA,SAAAlB,EAAAC,EAAAK,GACA,GACA4C,GAAAmD,EADArV,IAAA2S,KAAA2C,IAAA3C,IAEA,UAAA1D,GAAA,MAAAD,EAAA,CACAA,EAAAQ,EAAAR,KAAA1D,EAAAuJ,OAAA7F,EACA,QAAAlO,GAAA,EAAAJ,EAAAsO,EAAAtO,OAA0CA,EAAAI,EAAYA,IACtDoR,EAAAlD,EAAAlO,GACAoR,EAAAlS,IACAA,EAAAkS,OAIAjD,GAAAnQ,EAAAmQ,EAAAK,GACAhE,EAAAX,KAAAqE,EAAA,SAAAkD,EAAA9C,EAAA8E,GACAmB,EAAApG,EAAAiD,EAAA9C,EAAA8E,IACAmB,EAAAC,GAAAD,MAAA1C,MAAA3S,MAAA2S,QACA3S,EAAAkS,EACAoD,EAAAD,IAIA,OAAArV,IAIAsL,EAAA6E,IAAA,SAAAnB,EAAAC,EAAAK,GACA,GACA4C,GAAAmD,EADArV,EAAA2S,IAAA2C,EAAA3C,GAEA,UAAA1D,GAAA,MAAAD,EAAA,CACAA,EAAAQ,EAAAR,KAAA1D,EAAAuJ,OAAA7F,EACA,QAAAlO,GAAA,EAAAJ,EAAAsO,EAAAtO,OAA0CA,EAAAI,EAAYA,IACtDoR,EAAAlD,EAAAlO,GACAd,EAAAkS,IACAlS,EAAAkS,OAIAjD,GAAAnQ,EAAAmQ,EAAAK,GACAhE,EAAAX,KAAAqE,EAAA,SAAAkD,EAAA9C,EAAA8E,GACAmB,EAAApG,EAAAiD,EAAA9C,EAAA8E,IACAoB,EAAAD,OAAA1C,KAAA3S,IAAA2S,OACA3S,EAAAkS,EACAoD,EAAAD,IAIA,OAAArV,IAKAsL,EAAAiK,QAAA,SAAAvG,GAIA,OAAAwG,GAHAC,EAAAjG,EAAAR,KAAA1D,EAAAuJ,OAAA7F,GACAtO,EAAA+U,EAAA/U,OACAgV,EAAAvI,MAAAzM,GACA0O,EAAA,EAA6B1O,EAAA0O,EAAgBA,IAC7CoG,EAAAlK,EAAAqK,OAAA,EAAAvG,GACAoG,IAAApG,IAAAsG,EAAAtG,GAAAsG,EAAAF,IACAE,EAAAF,GAAAC,EAAArG,EAEA,OAAAsG,IAMApK,EAAAsK,OAAA,SAAA5G,EAAA6G,EAAAjB,GACA,aAAAiB,GAAAjB,GACApF,EAAAR,OAAA1D,EAAAuJ,OAAA7F,IACAA,EAAA1D,EAAAqK,OAAA3G,EAAAtO,OAAA,KAEA4K,EAAAiK,QAAAvG,GAAA7H,MAAA,EAAAtB,KAAAqK,IAAA,EAAA2F,KAIAvK,EAAAwK,OAAA,SAAA9G,EAAAC,EAAAK,GAEA,MADAL,GAAAnQ,EAAAmQ,EAAAK,GACAhE,EAAA2J,MAAA3J,EAAAvJ,IAAAiN,EAAA,SAAAkD,EAAA9C,EAAA8E,GACA,OACAhC,QACA9C,QACA2G,SAAA9G,EAAAiD,EAAA9C,EAAA8E,MAEK8B,KAAA,SAAAC,EAAAC,GACL,GAAAC,GAAAF,EAAAF,SACAK,EAAAF,EAAAH,QACA,IAAAI,IAAAC,EAAA,CACA,GAAAD,EAAAC,GAAA,SAAAD,EAAA,QACA,IAAAC,EAAAD,GAAA,SAAAC,EAAA,SAEA,MAAAH,GAAA7G,MAAA8G,EAAA9G,QACK,SAIL,IAAAiH,GAAA,SAAAC,GACA,gBAAAtH,EAAAC,EAAAK,GACA,GAAAtP,KAMA,OALAiP,GAAAnQ,EAAAmQ,EAAAK,GACAhE,EAAAX,KAAAqE,EAAA,SAAAkD,EAAA9C,GACA,GAAA6D,GAAAhE,EAAAiD,EAAA9C,EAAAJ,EACAsH,GAAAtW,EAAAkS,EAAAe,KAEAjT,GAMAsL,GAAAiL,QAAAF,EAAA,SAAArW,EAAAkS,EAAAe,GACA3H,EAAAuF,IAAA7Q,EAAAiT,GAAAjT,EAAAiT,GAAAlI,KAAAmH,GAAoDlS,EAAAiT,IAAAf,KAKpD5G,EAAAkL,QAAAH,EAAA,SAAArW,EAAAkS,EAAAe,GACAjT,EAAAiT,GAAAf,IAMA5G,EAAAmL,QAAAJ,EAAA,SAAArW,EAAAkS,EAAAe,GACA3H,EAAAuF,IAAA7Q,EAAAiT,GAAAjT,EAAAiT,KAA0CjT,EAAAiT,GAAA,IAI1C3H,EAAAoL,QAAA,SAAA1H,GACA,MAAAA,GACA1D,EAAAiG,QAAAvC,GAAA7H,EAAA3I,KAAAwQ,GACAQ,EAAAR,GAAA1D,EAAAvJ,IAAAiN,EAAA1D,EAAAiH,UACAjH,EAAAuJ,OAAA7F,OAIA1D,EAAApE,KAAA,SAAA8H,GACA,aAAAA,EAAA,EACAQ,EAAAR,KAAAtO,OAAA4K,EAAA6D,KAAAH,GAAAtO,QAKA4K,EAAAqL,UAAA,SAAA3H,EAAAY,EAAAN,GACAM,EAAA9Q,EAAA8Q,EAAAN,EACA,IAAAsH,MAAAC,IAIA,OAHAvL,GAAAX,KAAAqE,EAAA,SAAAkD,EAAAe,EAAAjE,IACAY,EAAAsC,EAAAe,EAAAjE,GAAA4H,EAAAC,GAAA9L,KAAAmH,MAEA0E,EAAAC,IASAvL,EAAAwL,MAAAxL,EAAAyL,KAAAzL,EAAA0L,KAAA,SAAArH,EAAAkG,EAAAjB,GACA,aAAAjF,EACA,MAAAkG,GAAAjB,EAAAjF,EAAA,GACArE,EAAA2L,QAAAtH,IAAAjP,OAAAmV,GAFA,QAQAvK,EAAA2L,QAAA,SAAAtH,EAAAkG,EAAAjB,GACA,MAAAzN,GAAA3I,KAAAmR,EAAA,EAAA9J,KAAAqK,IAAA,EAAAP,EAAAjP,QAAA,MAAAmV,GAAAjB,EAAA,EAAAiB,MAKAvK,EAAAC,KAAA,SAAAoE,EAAAkG,EAAAjB,GACA,aAAAjF,EACA,MAAAkG,GAAAjB,EAAAjF,IAAAjP,OAAA,GACA4K,EAAA4L,KAAAvH,EAAA9J,KAAAqK,IAAA,EAAAP,EAAAjP,OAAAmV,IAFA,QAQAvK,EAAA4L,KAAA5L,EAAA6L,KAAA7L,EAAA8L,KAAA,SAAAzH,EAAAkG,EAAAjB,GACA,MAAAzN,GAAA3I,KAAAmR,EAAA,MAAAkG,GAAAjB,EAAA,EAAAiB,IAIAvK,EAAA+L,QAAA,SAAA1H,GACA,MAAArE,GAAAnC,OAAAwG,EAAArE,EAAAiH,UAIA,IAAA+E,GAAA,SAAAC,EAAAC,EAAAC,EAAAC,GAEA,OADAC,MAAA1H,EAAA,EACAnP,EAAA4W,GAAA,EAAAhX,EAAAmP,EAAA0H,GAA4D7W,EAAAI,EAAYA,IAAA,CACxE,GAAAoR,GAAAqF,EAAAzW,EACA,IAAA0O,EAAA0C,KAAA5G,EAAAiG,QAAAW,IAAA5G,EAAAsM,YAAA1F,IAAA,CAEAsF,IAAAtF,EAAAoF,EAAApF,EAAAsF,EAAAC,GACA,IAAAzK,GAAA,EAAAJ,EAAAsF,EAAAxR,MAEA,KADAiX,EAAAjX,QAAAkM,EACAA,EAAAI,GACA2K,EAAA1H,KAAAiC,EAAAlF,SAEOyK,KACPE,EAAA1H,KAAAiC,GAGA,MAAAyF,GAIArM,GAAAgM,QAAA,SAAA3H,EAAA6H,GACA,MAAAF,GAAA3H,EAAA6H,GAAA,IAIAlM,EAAAuM,QAAA,SAAAlI,GACA,MAAArE,GAAAwM,WAAAnI,EAAAxI,EAAA3I,KAAAiR,UAAA,KAMAnE,EAAAyM,KAAAzM,EAAA0M,OAAA,SAAArI,EAAAsI,EAAAhJ,EAAAK,GACAhE,EAAA4M,UAAAD,KACA3I,EAAAL,EACAA,EAAAgJ,EACAA,GAAA,GAEA,MAAAhJ,MAAAnQ,EAAAmQ,EAAAK,GAGA,QAFAtP,MACAmY,KACArX,EAAA,EAAAJ,EAAAmP,EAAAF,GAA8CjP,EAAAI,EAAYA,IAAA,CAC1D,GAAAoR,GAAAvC,EAAA7O,GACAuU,EAAApG,IAAAiD,EAAApR,EAAA6O,GAAAuC,CACA+F,IACAnX,GAAAqX,IAAA9C,GAAArV,EAAA+K,KAAAmH,GACAiG,EAAA9C,GACOpG,EACP3D,EAAAwF,SAAAqH,EAAA9C,KACA8C,EAAApN,KAAAsK,GACArV,EAAA+K,KAAAmH,IAEO5G,EAAAwF,SAAA9Q,EAAAkS,IACPlS,EAAA+K,KAAAmH,GAGA,MAAAlS,IAKAsL,EAAA8M,MAAA,WACA,MAAA9M,GAAAyM,KAAAT,EAAA7H,WAAA,QAKAnE,EAAA+M,aAAA,SAAA1I,GAGA,OAFA3P,MACAsY,EAAA7I,UAAA/O,OACAI,EAAA,EAAAJ,EAAAmP,EAAAF,GAA8CjP,EAAAI,EAAYA,IAAA,CAC1D,GAAAkB,GAAA2N,EAAA7O,EACA,KAAAwK,EAAAwF,SAAA9Q,EAAAgC,GAAA,CACA,OAAAgL,GAAA,EAAqBsL,EAAAtL,GACrB1B,EAAAwF,SAAArB,UAAAzC,GAAAhL,GADqCgL,KAGrCA,IAAAsL,GAAAtY,EAAA+K,KAAA/I,IAEA,MAAAhC,IAKAsL,EAAAwM,WAAA,SAAAnI,GACA,GAAAuH,GAAAI,EAAA7H,WAAA,OACA,OAAAnE,GAAAnC,OAAAwG,EAAA,SAAAuC,GACA,OAAA5G,EAAAwF,SAAAoG,EAAAhF,MAMA5G,EAAAiN,IAAA,WACA,MAAAjN,GAAAkN,MAAA/I,YAKAnE,EAAAkN,MAAA,SAAA7I,GAIA,OAHAjP,GAAAiP,GAAArE,EAAA4E,IAAAP,EAAAE,GAAAnP,QAAA,EACAV,EAAAmN,MAAAzM,GAEA0O,EAAA,EAAuB1O,EAAA0O,EAAgBA,IACvCpP,EAAAoP,GAAA9D,EAAA2J,MAAAtF,EAAAP,EAEA,OAAApP,IAMAsL,EAAAmN,OAAA,SAAAvE,EAAAW,GAEA,OADA7U,MACAc,EAAA,EAAAJ,EAAAmP,EAAAqE,GAA6CxT,EAAAI,EAAYA,IACzD+T,EACA7U,EAAAkU,EAAApT,IAAA+T,EAAA/T,GAEAd,EAAAkU,EAAApT,GAAA,IAAAoT,EAAApT,GAAA,EAGA,OAAAd,IAiBAsL,EAAAyI,UAAArE,EAAA,GACApE,EAAAoN,cAAAhJ,EAAA,IAIApE,EAAA0E,YAAA,SAAAL,EAAAX,EAAAC,EAAAK,GACAL,EAAAnQ,EAAAmQ,EAAAK,EAAA,EAGA,KAFA,GAAA4C,GAAAjD,EAAAD,GACA2J,EAAA,EAAAC,EAAA/I,EAAAF,GACAiJ,EAAAD,GAAA,CACA,GAAAE,GAAAhT,KAAAC,OAAA6S,EAAAC,GAAA,EACA3J,GAAAU,EAAAkJ,IAAA3G,EAAAyG,EAAAE,EAAA,EAAsDD,EAAAC,EAEtD,MAAAF,IAgCArN,EAAAlE,QAAA0I,EAAA,EAAAxE,EAAAyI,UAAAzI,EAAA0E,aACA1E,EAAAG,YAAAqE,EAAA,GAAAxE,EAAAoN,eAKApN,EAAAwN,MAAA,SAAAC,EAAAC,EAAAC,GACA,MAAAD,IACAA,EAAAD,GAAA,EACAA,EAAA,GAEAE,KAAA,CAKA,QAHAvY,GAAAmF,KAAAqK,IAAArK,KAAAkH,MAAAiM,EAAAD,GAAAE,GAAA,GACAH,EAAA3L,MAAAzM,GAEAuP,EAAA,EAAqBvP,EAAAuP,EAAcA,IAAA8I,GAAAE,EACnCH,EAAA7I,GAAA8I,CAGA,OAAAD,GAQA,IAAAI,GAAA,SAAAC,EAAAC,EAAA9J,EAAA+J,EAAAnO,GACA,KAAAmO,YAAAD,IAAA,MAAAD,GAAA7G,MAAAhD,EAAApE,EACA,IAAAoO,GAAApG,EAAAiG,EAAAxI,WACA3Q,EAAAmZ,EAAA7G,MAAAgH,EAAApO,EACA,OAAAI,GAAAkH,SAAAxS,KACAsZ,EAMAhO,GAAAoG,KAAA,SAAAM,EAAA1C,GACA,GAAAmC,GAAAO,EAAAN,OAAAD,EAAA,MAAAA,GAAAa,MAAAN,EAAA7K,EAAA3I,KAAAiR,UAAA,GACA,KAAAnE,EAAAoF,WAAAsB,GAAA,SAAAuH,WAAA,oCACA,IAAArO,GAAA/D,EAAA3I,KAAAiR,UAAA,GACA+J,EAAA,WACA,MAAAN,GAAAlH,EAAAwH,EAAAlK,EAAAyB,KAAA7F,EAAAuO,OAAAtS,EAAA3I,KAAAiR,aAEA,OAAA+J,IAMAlO,EAAAoO,QAAA,SAAA1H,GACA,GAAA2H,GAAAxS,EAAA3I,KAAAiR,UAAA,GACA+J,EAAA,WAGA,OAFAI,GAAA,EAAAlZ,EAAAiZ,EAAAjZ,OACAwK,EAAAiC,MAAAzM,GACAI,EAAA,EAAqBJ,EAAAI,EAAYA,IACjCoK,EAAApK,GAAA6Y,EAAA7Y,KAAAwK,EAAAmE,UAAAmK,KAAAD,EAAA7Y,EAEA,MAAA8Y,EAAAnK,UAAA/O,QAAAwK,EAAAH,KAAA0E,UAAAmK,KACA,OAAAV,GAAAlH,EAAAwH,EAAAzI,UAAA7F,GAEA,OAAAsO,IAMAlO,EAAAuO,QAAA,SAAA7K,GACA,GAAAlO,GAAAmS,EAAAvS,EAAA+O,UAAA/O,MACA,OAAAA,EAAA,SAAAoZ,OAAA,wCACA,KAAAhZ,EAAA,EAAeJ,EAAAI,EAAYA,IAC3BmS,EAAAxD,UAAA3O,GACAkO,EAAAiE,GAAA3H,EAAAoG,KAAA1C,EAAAiE,GAAAjE,EAEA,OAAAA,IAIA1D,EAAAyO,QAAA,SAAA/H,EAAAgI,GACA,GAAAD,GAAA,SAAA9G,GACA,GAAAgH,GAAAF,EAAAE,MACAC,EAAA,IAAAF,IAAA1H,MAAAvB,KAAAtB,WAAAwD,EAEA,OADA3H,GAAAuF,IAAAoJ,EAAAC,KAAAD,EAAAC,GAAAlI,EAAAM,MAAAvB,KAAAtB,YACAwK,EAAAC,GAGA,OADAH,GAAAE,SACAF,GAKAzO,EAAA6O,MAAA,SAAAnI,EAAAoI,GACA,GAAAlP,GAAA/D,EAAA3I,KAAAiR,UAAA,EACA,OAAA4K,YAAA,WACA,MAAArI,GAAAM,MAAA,KAAApH,IACKkP,IAKL9O,EAAAgP,MAAAhP,EAAAoO,QAAApO,EAAA6O,MAAA7O,EAAA,GAOAA,EAAAiP,SAAA,SAAAvI,EAAAoI,EAAAI,GACA,GAAAlL,GAAApE,EAAAlL,EACAya,EAAA,KACAC,EAAA,CACAF,UACA,IAAAG,GAAA,WACAD,EAAAF,EAAAI,WAAA,IAAAtP,EAAAuP,MACAJ,EAAA,KACAza,EAAAgS,EAAAM,MAAAhD,EAAApE,GACAuP,IAAAnL,EAAApE,EAAA,MAEA,mBACA,GAAA2P,GAAAvP,EAAAuP,KACAH,IAAAF,EAAAI,WAAA,IAAAF,EAAAG,EACA,IAAAlV,GAAAyU,GAAAS,EAAAH,EAcA,OAbApL,GAAAyB,KACA7F,EAAAuE,UACA,GAAA9J,KAAAyU,GACAK,IACAK,aAAAL,GACAA,EAAA,MAEAC,EAAAG,EACA7a,EAAAgS,EAAAM,MAAAhD,EAAApE,GACAuP,IAAAnL,EAAApE,EAAA,OACOuP,GAAAD,EAAAO,YAAA,IACPN,EAAAJ,WAAAM,EAAAhV,IAEA3F,IAQAsL,EAAA0P,SAAA,SAAAhJ,EAAAoI,EAAAa,GACA,GAAAR,GAAAvP,EAAAoE,EAAA4L,EAAAlb,EAEA2a,EAAA,WACA,GAAApP,GAAAD,EAAAuP,MAAAK,CAEAd,GAAA7O,MAAA,EACAkP,EAAAJ,WAAAM,EAAAP,EAAA7O,IAEAkP,EAAA,KACAQ,IACAjb,EAAAgS,EAAAM,MAAAhD,EAAApE,GACAuP,IAAAnL,EAAApE,EAAA,QAKA,mBACAoE,EAAAyB,KACA7F,EAAAuE,UACAyL,EAAA5P,EAAAuP,KACA,IAAAM,GAAAF,IAAAR,CAOA,OANAA,OAAAJ,WAAAM,EAAAP,IACAe,IACAnb,EAAAgS,EAAAM,MAAAhD,EAAApE,GACAoE,EAAApE,EAAA,MAGAlL,IAOAsL,EAAA8P,KAAA,SAAApJ,EAAAqJ,GACA,MAAA/P,GAAAoO,QAAA2B,EAAArJ,IAIA1G,EAAA8I,OAAA,SAAAxE,GACA,kBACA,OAAAA,EAAA0C,MAAAvB,KAAAtB,aAMAnE,EAAAgQ,QAAA,WACA,GAAApQ,GAAAuE,UACAsJ,EAAA7N,EAAAxK,OAAA,CACA,mBAGA,IAFA,GAAAI,GAAAiY,EACA/Y,EAAAkL,EAAA6N,GAAAzG,MAAAvB,KAAAtB,WACA3O,KAAAd,EAAAkL,EAAApK,GAAAtC,KAAAuS,KAAA/Q,EACA,OAAAA,KAKAsL,EAAAiQ,MAAA,SAAAC,EAAAxJ,GACA,kBACA,QAAAwJ,EAAA,EACAxJ,EAAAM,MAAAvB,KAAAtB,WADA,SAOAnE,EAAAmQ,OAAA,SAAAD,EAAAxJ,GACA,GAAA9C,EACA,mBAKA,QAJAsM,EAAA,IACAtM,EAAA8C,EAAAM,MAAAvB,KAAAtB,YAEA,GAAA+L,IAAAxJ,EAAA,MACA9C,IAMA5D,EAAAoQ,KAAApQ,EAAAoO,QAAApO,EAAAmQ,OAAA,EAMA,IAAAE,KAAqBpY,SAAA,MAAeqY,qBAAA,YACpCrL,GAAA,qCACA,yDAqBAjF,GAAA6D,KAAA,SAAAH,GACA,IAAA1D,EAAAkH,SAAAxD,GAAA,QACA,IAAAwC,EAAA,MAAAA,GAAAxC,EACA,IAAAG,KACA,QAAA8D,KAAAjE,GAAA1D,EAAAuF,IAAA7B,EAAAiE,IAAA9D,EAAApE,KAAAkI,EAGA,OADA0I,IAAAtL,EAAArB,EAAAG,GACAA,GAIA7D,EAAAuQ,QAAA,SAAA7M,GACA,IAAA1D,EAAAkH,SAAAxD,GAAA,QACA,IAAAG,KACA,QAAA8D,KAAAjE,GAAAG,EAAApE,KAAAkI,EAGA,OADA0I,IAAAtL,EAAArB,EAAAG,GACAA,GAIA7D,EAAAuJ,OAAA,SAAA7F,GAIA,OAHAG,GAAA7D,EAAA6D,KAAAH,GACAtO,EAAAyO,EAAAzO,OACAmU,EAAA1H,MAAAzM,GACAI,EAAA,EAAmBJ,EAAAI,EAAYA,IAC/B+T,EAAA/T,GAAAkO,EAAAG,EAAArO,GAEA,OAAA+T,IAKAvJ,EAAAwQ,UAAA,SAAA9M,EAAAC,EAAAK,GACAL,EAAAnQ,EAAAmQ,EAAAK,EAKA,QADAD,GAHAF,EAAA7D,EAAA6D,KAAAH,GACAtO,EAAAyO,EAAAzO,OACA6S,KAEAnE,EAAA,EAAyB1O,EAAA0O,EAAgBA,IACzCC,EAAAF,EAAAC,GACAmE,EAAAlE,GAAAJ,EAAAD,EAAAK,KAAAL,EAEA,OAAAuE,IAIAjI,EAAAyQ,MAAA,SAAA/M,GAIA,OAHAG,GAAA7D,EAAA6D,KAAAH,GACAtO,EAAAyO,EAAAzO,OACAqb,EAAA5O,MAAAzM,GACAI,EAAA,EAAmBJ,EAAAI,EAAYA,IAC/Bib,EAAAjb,IAAAqO,EAAArO,GAAAkO,EAAAG,EAAArO,IAEA,OAAAib,IAIAzQ,EAAA0Q,OAAA,SAAAhN,GAGA,OAFAhP,MACAmP,EAAA7D,EAAA6D,KAAAH,GACAlO,EAAA,EAAAJ,EAAAyO,EAAAzO,OAAyCA,EAAAI,EAAYA,IACrDd,EAAAgP,EAAAG,EAAArO,KAAAqO,EAAArO,EAEA,OAAAd,IAKAsL,EAAA2Q,UAAA3Q,EAAA4Q,QAAA,SAAAlN,GACA,GAAAmN,KACA,QAAAlJ,KAAAjE,GACA1D,EAAAoF,WAAA1B,EAAAiE,KAAAkJ,EAAApR,KAAAkI,EAEA,OAAAkJ,GAAAnG,QAIA1K,EAAA8Q,OAAAxJ,EAAAtH,EAAAuQ,SAIAvQ,EAAA+Q,UAAA/Q,EAAAgR,OAAA1J,EAAAtH,EAAA6D,MAGA7D,EAAA0I,QAAA,SAAAhF,EAAAY,EAAAN,GACAM,EAAA9Q,EAAA8Q,EAAAN,EAEA,QADA2D,GAAA9D,EAAA7D,EAAA6D,KAAAH,GACAlO,EAAA,EAAAJ,EAAAyO,EAAAzO,OAAyCA,EAAAI,EAAYA,IAErD,GADAmS,EAAA9D,EAAArO,GACA8O,EAAAZ,EAAAiE,KAAAjE,GAAA,MAAAiE,IAKA3H,EAAAiR,KAAA,SAAA9D,EAAA+D,EAAAlN,GACA,GAAmBL,GAAAE,EAAnBnP,KAAmBgP,EAAAyJ,CACnB,UAAAzJ,EAAA,MAAAhP,EACAsL,GAAAoF,WAAA8L,IACArN,EAAA7D,EAAAuQ,QAAA7M,GACAC,EAAAM,EAAAiN,EAAAlN,KAEAH,EAAAmI,EAAA7H,WAAA,QACAR,EAAA,SAAAiD,EAAAe,EAAAjE,GAA4C,MAAAiE,KAAAjE,IAC5CA,EAAAkC,OAAAlC,GAEA,QAAAlO,GAAA,EAAAJ,EAAAyO,EAAAzO,OAAyCA,EAAAI,EAAYA,IAAA,CACrD,GAAAmS,GAAA9D,EAAArO,GACAoR,EAAAlD,EAAAiE,EACAhE,GAAAiD,EAAAe,EAAAjE,KAAAhP,EAAAiT,GAAAf,GAEA,MAAAlS,IAIAsL,EAAAmR,KAAA,SAAAzN,EAAAC,EAAAK,GACA,GAAAhE,EAAAoF,WAAAzB,GACAA,EAAA3D,EAAA8I,OAAAnF,OACK,CACL,GAAAE,GAAA7D,EAAAvJ,IAAAuV,EAAA7H,WAAA,QAAAiN,OACAzN,GAAA,SAAAiD,EAAAe,GACA,OAAA3H,EAAAwF,SAAA3B,EAAA8D,IAGA,MAAA3H,GAAAiR,KAAAvN,EAAAC,EAAAK,IAIAhE,EAAAqR,SAAA/J,EAAAtH,EAAAuQ,SAAA,GAKAvQ,EAAAsG,OAAA,SAAAjB,EAAAiM,GACA,GAAA5c,GAAAkT,EAAAvC,EAEA,OADAiM,IAAAtR,EAAA+Q,UAAArc,EAAA4c,GACA5c,GAIAsL,EAAAuR,MAAA,SAAA7N,GACA,MAAA1D,GAAAkH,SAAAxD,GACA1D,EAAAiG,QAAAvC,KAAA7H,QAAAmE,EAAA8Q,UAAqDpN,GADrDA,GAOA1D,EAAAwR,IAAA,SAAA9N,EAAA+N,GAEA,MADAA,GAAA/N,GACAA,GAIA1D,EAAA0R,QAAA,SAAAvE,EAAAtD,GACA,GAAAhG,GAAA7D,EAAA6D,KAAAgG,GAAAzU,EAAAyO,EAAAzO,MACA,UAAA+X,EAAA,OAAA/X,CAEA,QADAsO,GAAAkC,OAAAuH,GACA3X,EAAA,EAAmBJ,EAAAI,EAAYA,IAAA,CAC/B,GAAAmS,GAAA9D,EAAArO,EACA,IAAAqU,EAAAlC,KAAAjE,EAAAiE,UAAAjE,IAAA,SAEA,SAKA,IAAAiO,GAAA,SAAA9G,EAAAC,EAAA8G,EAAAC,GAGA,GAAAhH,IAAAC,EAAA,WAAAD,GAAA,EAAAA,IAAA,EAAAC,CAEA,UAAAD,GAAA,MAAAC,EAAA,MAAAD,KAAAC,CAEAD,aAAA7K,KAAA6K,IAAArE,UACAsE,YAAA9K,KAAA8K,IAAAtE,SAEA,IAAAsL,GAAA7Z,EAAA/E,KAAA2X,EACA,IAAAiH,IAAA7Z,EAAA/E,KAAA4X,GAAA,QACA,QAAAgH,GAEA,sBAEA,sBAGA,SAAAjH,GAAA,GAAAC,CACA,uBAGA,OAAAD,QAAAC,OAEA,KAAAD,EAAA,GAAAA,IAAA,EAAAC,GAAAD,KAAAC,CACA,qBACA,uBAIA,OAAAD,KAAAC,EAGA,GAAAiH,GAAA,mBAAAD,CACA,KAAAC,EAAA,CACA,mBAAAlH,IAAA,gBAAAC,GAAA,QAIA,IAAAkH,GAAAnH,EAAA3F,YAAA+M,EAAAnH,EAAA5F,WACA,IAAA8M,IAAAC,KAAAjS,EAAAoF,WAAA4M,oBACAhS,EAAAoF,WAAA6M,qBACA,eAAApH,IAAA,eAAAC,GACA,SAQA8G,QACAC,OAEA,KADA,GAAAzc,GAAAwc,EAAAxc,OACAA,KAGA,GAAAwc,EAAAxc,KAAAyV,EAAA,MAAAgH,GAAAzc,KAAA0V,CAQA,IAJA8G,EAAAnS,KAAAoL,GACAgH,EAAApS,KAAAqL,GAGAiH,EAAA,CAGA,GADA3c,EAAAyV,EAAAzV,OACAA,IAAA0V,EAAA1V,OAAA,QAEA,MAAAA,KACA,IAAAuc,EAAA9G,EAAAzV,GAAA0V,EAAA1V,GAAAwc,EAAAC,GAAA,aAEK,CAEL,GAAAlK,GAAA9D,EAAA7D,EAAA6D,KAAAgH,EAGA,IAFAzV,EAAAyO,EAAAzO,OAEA4K,EAAA6D,KAAAiH,GAAA1V,WAAA,QACA,MAAAA,KAGA,GADAuS,EAAA9D,EAAAzO,IACA4K,EAAAuF,IAAAuF,EAAAnD,KAAAgK,EAAA9G,EAAAlD,GAAAmD,EAAAnD,GAAAiK,EAAAC,GAAA,SAMA,MAFAD,GAAAM,MACAL,EAAAK,OACA,EAIAlS,GAAAmS,QAAA,SAAAtH,EAAAC,GACA,MAAA6G,GAAA9G,EAAAC,IAKA9K,EAAAoS,QAAA,SAAA1O,GACA,aAAAA,GAAA,EACAQ,EAAAR,KAAA1D,EAAAiG,QAAAvC,IAAA1D,EAAAqS,SAAA3O,IAAA1D,EAAAsM,YAAA5I,IAAA,IAAAA,EAAAtO,OACA,IAAA4K,EAAA6D,KAAAH,GAAAtO,QAIA4K,EAAAsS,UAAA,SAAA5O,GACA,SAAAA,GAAA,IAAAA,EAAA6O,WAKAvS,EAAAiG,QAAAD,GAAA,SAAAtC,GACA,yBAAAzL,EAAA/E,KAAAwQ,IAIA1D,EAAAkH,SAAA,SAAAxD,GACA,GAAA8O,SAAA9O,EACA,oBAAA8O,GAAA,WAAAA,KAAA9O,GAIA1D,EAAAX,MAAA,2EAAApL,GACA+L,EAAA,KAAA/L,GAAA,SAAAyP,GACA,MAAAzL,GAAA/E,KAAAwQ,KAAA,WAAAzP,EAAA,OAMA+L,EAAAsM,YAAAnI,aACAnE,EAAAsM,YAAA,SAAA5I,GACA,MAAA1D,GAAAuF,IAAA7B,EAAA,YAMA,uCAAA+O,aACAzS,EAAAoF,WAAA,SAAA1B,GACA,wBAAAA,KAAA,IAKA1D,EAAA0S,SAAA,SAAAhP,GACA,MAAAgP,UAAAhP,KAAAoB,MAAA6N,WAAAjP,KAIA1D,EAAA8E,MAAA,SAAApB,GACA,MAAA1D,GAAA4S,SAAAlP,YAIA1D,EAAA4M,UAAA,SAAAlJ,GACA,MAAAA,MAAA,GAAAA,KAAA,wBAAAzL,EAAA/E,KAAAwQ,IAIA1D,EAAA6S,OAAA,SAAAnP,GACA,cAAAA,GAIA1D,EAAA8S,YAAA,SAAApP,GACA,gBAAAA,GAKA1D,EAAAuF,IAAA,SAAA7B,EAAAiE,GACA,aAAAjE,GAAAqC,EAAA7S,KAAAwQ,EAAAiE,IAQA3H,EAAA+S,WAAA,WAEA,MADAxa,GAAAyH,EAAA0F,EACAD,MAIAzF,EAAAiH,SAAA,SAAAL,GACA,MAAAA,IAIA5G,EAAAgT,SAAA,SAAApM,GACA,kBACA,MAAAA,KAIA5G,EAAAiT,KAAA,aAEAjT,EAAAoH,WAGApH,EAAAkT,WAAA,SAAAxP,GACA,aAAAA,EAAA,aAAqC,SAAAiE,GACrC,MAAAjE,GAAAiE,KAMA3H,EAAAmH,QAAAnH,EAAAmT,QAAA,SAAAtJ,GAEA,MADAA,GAAA7J,EAAA+Q,aAA0BlH,GAC1B,SAAAnG,GACA,MAAA1D,GAAA0R,QAAAhO,EAAAmG,KAKA7J,EAAAkQ,MAAA,SAAA3F,EAAA5G,EAAAK,GACA,GAAAoP,GAAAvR,MAAAtH,KAAAqK,IAAA,EAAA2F,GACA5G,GAAAM,EAAAN,EAAAK,EAAA,EACA,QAAAxO,GAAA,EAAmB+U,EAAA/U,EAAOA,IAAA4d,EAAA5d,GAAAmO,EAAAnO,EAC1B,OAAA4d,IAIApT,EAAAqK,OAAA,SAAAxF,EAAAD,GAKA,MAJA,OAAAA,IACAA,EAAAC,EACAA,EAAA,GAEAA,EAAAtK,KAAAC,MAAAD,KAAA8P,UAAAzF,EAAAC,EAAA,KAIA7E,EAAAuP,IAAA1V,KAAA0V,KAAA,WACA,UAAA1V,OAAAC,UAIA,IAAAuZ,IACAC,IAAA,QACAC,IAAA,OACAC,IAAA,OACAC,IAAA,SACAC,IAAA,SACAC,IAAA,UAEAC,EAAA5T,EAAA0Q,OAAA2C,GAGAQ,EAAA,SAAApd,GACA,GAAAqd,GAAA,SAAAjT,GACA,MAAApK,GAAAoK,IAGA4G,EAAA,MAAAzH,EAAA6D,KAAApN,GAAAE,KAAA,SACAod,EAAA3V,OAAAqJ,GACAuM,EAAA5V,OAAAqJ,EAAA,IACA,iBAAAwM,GAEA,MADAA,GAAA,MAAAA,EAAA,MAAAA,EACAF,EAAAvU,KAAAyU,KAAA5V,QAAA2V,EAAAF,GAAAG,GAGAjU,GAAAkU,OAAAL,EAAAR,GACArT,EAAAmU,SAAAN,EAAAD,GAIA5T,EAAAtL,OAAA,SAAAyY,EAAA/F,EAAAgN,GACA,GAAAxN,GAAA,MAAAuG,EAAA,OAAAA,EAAA/F,EAIA,OAHA,UAAAR,IACAA,EAAAwN,GAEApU,EAAAoF,WAAAwB,KAAA1T,KAAAia,GAAAvG,EAKA,IAAAyN,GAAA,CACArU,GAAAsU,SAAA,SAAA3W,GACA,GAAA3K,KAAAqhB,EAAA,EACA,OAAA1W,KAAA3K,KAKAgN,EAAAuU,kBACAC,SAAA,kBACAC,YAAA,mBACAP,OAAA,mBAMA,IAAAQ,GAAA,OAIAC,GACAjB,IAAA,IACAkB,KAAA,KACAC,KAAA,IACAC,KAAA,IACAC,SAAA,QACAC,SAAA,SAGAlB,EAAA,4BAEAmB,EAAA,SAAApU,GACA,WAAA8T,EAAA9T,GAOAb,GAAAkV,SAAA,SAAAra,EAAAsa,EAAAC,IACAD,GAAAC,IAAAD,EAAAC,GACAD,EAAAnV,EAAAqR,YAA4B8D,EAAAnV,EAAAuU,iBAG5B,IAAApN,GAAA/I,SACA+W,EAAAjB,QAAAQ,GAAAjN,QACA0N,EAAAV,aAAAC,GAAAjN,QACA0N,EAAAX,UAAAE,GAAAjN,QACA9Q,KAAA,eAGAmN,EAAA,EACA2D,EAAA,QACA5M,GAAAwD,QAAA8I,EAAA,SAAAtG,EAAAqT,EAAAO,EAAAD,EAAAa,GAaA,MAZA5N,IAAA5M,EAAAgB,MAAAiI,EAAAuR,GAAAhX,QAAAyV,EAAAmB,GACAnR,EAAAuR,EAAAxU,EAAAzL,OAEA8e,EACAzM,GAAA,cAAAyM,EAAA,iCACOO,EACPhN,GAAA,cAAAgN,EAAA,uBACOD,IACP/M,GAAA,OAAqB+M,EAAA,YAIrB3T,IAEA4G,GAAA,OAGA0N,EAAAG,WAAA7N,EAAA,mBAAoDA,EAAA,OAEpDA,EAAA,4FAEAA,EAAA,eAEA,KACA,GAAA8N,GAAA,GAAAzP,UAAAqP,EAAAG,UAAA,UAAA7N,GACK,MAAA7T,GAEL,KADAA,GAAA6T,SACA7T,EAGA,GAAAshB,GAAA,SAAAnd,GACA,MAAAwd,GAAAriB,KAAAuS,KAAA1N,EAAAiI,IAIAwV,EAAAL,EAAAG,UAAA,KAGA,OAFAJ,GAAAzN,OAAA,YAAA+N,EAAA,OAAkD/N,EAAA,IAElDyN,GAIAlV,EAAAyV,MAAA,SAAA/R,GACA,GAAAgS,GAAA1V,EAAA0D,EAEA,OADAgS,GAAAC,QAAA,EACAD,EAUA,IAAAhhB,GAAA,SAAAghB,EAAAhS,GACA,MAAAgS,GAAAC,OAAA3V,EAAA0D,GAAA+R,QAAA/R,EAIA1D,GAAA4V,MAAA,SAAAlS,GACA1D,EAAAX,KAAAW,EAAA2Q,UAAAjN,GAAA,SAAAzP,GACA,GAAAyS,GAAA1G,EAAA/L,GAAAyP,EAAAzP,EACA+L,GAAAqF,UAAApR,GAAA,WACA,GAAA2L,IAAA6F,KAAAe,SAEA,OADA/G,GAAAuH,MAAApH,EAAAuE,WACAzP,EAAA+Q,KAAAiB,EAAAM,MAAAhH,EAAAJ,QAMAI,EAAA4V,MAAA5V,GAGAA,EAAAX,MAAA,mEAAApL,GACA,GAAAwV,GAAA9D,EAAA1R,EACA+L,GAAAqF,UAAApR,GAAA,WACA,GAAAyP,GAAA+B,KAAAe,QAGA,OAFAiD,GAAAzC,MAAAtD,EAAAS,WACA,UAAAlQ,GAAA,WAAAA,GAAA,IAAAyP,EAAAtO,cAAAsO,GAAA,GACAhP,EAAA+Q,KAAA/B,MAKA1D,EAAAX,MAAA,kCAAApL,GACA,GAAAwV,GAAA9D,EAAA1R,EACA+L,GAAAqF,UAAApR,GAAA,WACA,MAAAS,GAAA+Q,KAAAgE,EAAAzC,MAAAvB,KAAAe,SAAArC,eAKAnE,EAAAqF,UAAAuB,MAAA,WACA,MAAAnB,MAAAe,UAKAxG,EAAAqF,UAAAwQ,QAAA7V,EAAAqF,UAAAyQ,OAAA9V,EAAAqF,UAAAuB,MAEA5G,EAAAqF,UAAApN,SAAA,WACA,SAAAwN,KAAAe,UAWAlD,KAAAC,EAAA,WACA,MAAAvD,IACKgH,MAAAlU,EAAAwQ,KAAAyS,SAAAxS,IAAAxQ,EAAAD,QAAAyQ,MAEJrQ,KAAAuS,OLkpBK,SAAS1S,EAAQD,EAASH,GAE/B,GAAI2Q,GAA8BC,GM/pEnC,SAAAyS;;;;;;;CAOA,WAGA,QAAA/C,MACA,QAAAhM,GAAAgP,GACA,MAAAA,GAEA,QAAAC,GAAAD,GACA,QAAAA,EAEA,QAAAE,GAAAF,GACA,OAAAA,EAsBA,QAAAG,GAAAC,GACA,kBACA,UAAAA,EAAA,SAAA7H,OAAA,+BACA6H,GAAArP,MAAAvB,KAAAtB,WACAkS,EAAA,MAIA,QAAAC,GAAAD,GACA,kBACA,OAAAA,IACAA,EAAArP,MAAAvB,KAAAtB,WACAkS,EAAA,OAkBA,QAAAE,GAAAC,GACA,MAAAC,GAAAD,IAEA,gBAAAA,GAAAphB,QACAohB,EAAAphB,QAAA,GACAohB,EAAAphB,OAAA,MAIA,QAAAshB,GAAAF,EAAA/S,GAIA,IAHA,GAAAK,GAAA,GACA1O,EAAAohB,EAAAphB,SAEA0O,EAAA1O,GACAqO,EAAA+S,EAAA1S,KAAA0S,GAIA,QAAAG,GAAAH,EAAA/S,GAKA,IAJA,GAAAK,GAAA,GACA1O,EAAAohB,EAAAphB,OACAV,EAAAmN,MAAAzM,KAEA0O,EAAA1O,GACAV,EAAAoP,GAAAL,EAAA+S,EAAA1S,KAAA0S,EAEA,OAAA9hB,GAGA,QAAAkiB,GAAAC,GACA,MAAAF,GAAA9U,MAAAgV,GAAA,SAAAZ,EAAAzgB,GAAmD,MAAAA,KAGnD,QAAAshB,GAAAN,EAAA/S,EAAAG,GAIA,MAHA8S,GAAAF,EAAA,SAAA1Y,EAAAtI,EAAAqV,GACAjH,EAAAH,EAAAG,EAAA9F,EAAAtI,EAAAqV,KAEAjH,EAGA,QAAAmT,GAAA5J,EAAA1J,GACAiT,EAAAM,EAAA7J,GAAA,SAAAxF,GACAlE,EAAA0J,EAAAxF,QAIA,QAAAsP,GAAAT,EAAA9f,GACA,OAAAlB,GAAA,EAAuBA,EAAAghB,EAAAphB,OAAgBI,IACvC,GAAAghB,EAAAhhB,KAAAkB,EAAA,MAAAlB,EAEA,UAaA,QAAA0hB,GAAAC,GACA,GACA7V,GACAuC,EAFArO,EAAA,EAGA,OAAA+gB,GAAAY,IACA7V,EAAA6V,EAAA/hB,OACA,WAEA,MADAI,KACA8L,EAAA9L,IAAA,QAGAqO,EAAAmT,EAAAG,GACA7V,EAAAuC,EAAAzO,OACA,WAEA,MADAI,KACA8L,EAAA9L,EAAAqO,EAAArO,GAAA,OAQA,QAAA4hB,GAAA1Q,EAAA0F,GAEA,MADAA,GAAA,MAAAA,EAAA1F,EAAAtR,OAAA,GAAAgX,EACA,WAGA,OAFAhX,GAAAmF,KAAAqK,IAAAT,UAAA/O,OAAAgX,EAAA,GACAR,EAAA/J,MAAAzM,GACA0O,EAAA,EAA+B1O,EAAA0O,EAAgBA,IAC/C8H,EAAA9H,GAAAK,UAAAL,EAAAsI,EAEA,QAAAA,GACA,aAAA1F,GAAAxT,KAAAuS,KAAAmG,EACA,cAAAlF,GAAAxT,KAAAuS,KAAAtB,UAAA,GAAAyH,KAYA,QAAAyL,GAAA5T,GACA,gBAAAmD,EAAA9C,EAAAwT,GACA,MAAA7T,GAAAmD,EAAA0Q,IA8GA,QAAAC,GAAAC,GAEA,gBAAA9T,EAAAD,EAAA6T,GACAA,EAAAhB,EAAAgB,GAAArE,GACAvP,OACA,IAAA+T,GAAAP,EAAAxT,EACA,OAAA8T,EACA,MAAAF,GAAA,KAEA,IAAAI,IAAA,EACAC,EAAA,EACAC,GAAA,GAEA,QAAAC,KACA,GAAAH,GAAA,GAAAC,EACA,MAAAL,GAAA,KAGA,MAAAE,EAAAG,IAAAC,GAAA,CACA,GAAAjQ,GAAA8P,GACA,WAAA9P,EAKA,MAJA+P,IAAA,OACA,GAAAC,GACAL,EAAA,MAIAK,IAAA,EACAlU,EAAAC,EAAAiE,KAAAyO,EAAA,SAAAzhB,GACAgjB,GAAA,EACAhjB,GACA2iB,EAAA3iB,GACAijB,GAAA,GAGAC,YASA,QAAAC,GAAAzB,GACA,gBAAA3S,EAAAD,EAAA6T,GACA,MAAAjB,GAAAxX,EAAAkZ,OAAArU,EAAAD,EAAA6T,IAGA,QAAAU,GAAA3B,GACA,gBAAA3S,EAAA8T,EAAA/T,EAAA6T,GACA,MAAAjB,GAAAkB,EAAAC,GAAA9T,EAAAD,EAAA6T,IAGA,QAAAW,GAAA5B,GACA,gBAAA3S,EAAAD,EAAA6T,GACA,MAAAjB,GAAAxX,EAAAqZ,aAAAxU,EAAAD,EAAA6T,IAIA,QAAAa,GAAAC,EAAA5B,EAAA/S,EAAA6T,GACAA,EAAAhB,EAAAgB,GAAArE,GACAuD,OACA,IAAAvO,GAAAsO,EAAAC,QACA4B,GAAA5B,EAAA,SAAA5P,EAAA9C,EAAAwT,GACA7T,EAAAmD,EAAA,SAAAjS,EAAAshB,GACAhO,EAAAnE,GAAAmS,EACAqB,EAAA3iB,MAES,SAAAA,GACT2iB,EAAA3iB,EAAAsT,KA2CA,QAAAoQ,GAAAD,EAAA5B,EAAA/S,EAAA6T,GACA,GAAArP,KACAmQ,GAAA5B,EAAA,SAAA1Y,EAAAgG,EAAAwT,GACA7T,EAAA3F,EAAA,SAAAmY,GACAA,GACAhO,EAAAxI,MAAkCqE,QAAA8C,MAAA9I,IAElCwZ,OAES,WACTA,EAAAX,EAAA1O,EAAAyC,KAAA,SAAAG,EAAAC,GACA,MAAAD,GAAA/G,MAAAgH,EAAAhH,QACa,SAAAhG,GACb,MAAAA,GAAA8I,WAcA,QAAA0R,GAAAF,EAAA5B,EAAA/S,EAAA6T,GACAe,EAAAD,EAAA5B,EAAA,SAAA5P,EAAApT,GACAiQ,EAAAmD,EAAA,SAAAqP,GACAziB,GAAAyiB,MAESqB,GAMT,QAAAiB,GAAAH,EAAAI,EAAAC,GACA,gBAAAjC,EAAAgB,EAAA/T,EAAAjQ,GACA,QAAAkkB,KACAlkB,KAAAilB,GAAA,WAEA,QAAA9U,GAAA7F,EAAAkC,EAAAsX,GACA,MAAA9jB,OACAiQ,GAAA3F,EAAA,SAAAmY,GACAziB,GAAAglB,EAAAvC,KACAziB,EAAAilB,GAAA,EAAA3a,IACAtK,EAAAiQ,GAAA,GAEA6T,MANAA,IASAnT,UAAA/O,OAAA,EACAgjB,EAAA5B,EAAAgB,EAAA7T,EAAA+T,IAEAlkB,EAAAiQ,EACAA,EAAA+T,EACAY,EAAA5B,EAAA7S,EAAA+T,KAeA,QAAAgB,GAAAzC,EAAAnY,GACA,MAAAA,GA2OA,QAAA6a,GAAAP,EAAAQ,EAAAtB,GACAA,KAAArE,CACA,IAAAhL,GAAAsO,EAAAqC,QAEAR,GAAAQ,EAAA,SAAAC,EAAAlR,EAAA2P,GACAuB,EAAAzB,EAAA,SAAAziB,EAAAiL,GACAA,EAAAxK,QAAA,IACAwK,IAAA,IAEAqI,EAAAN,GAAA/H,EACA0X,EAAA3iB,OAES,SAAAA,GACT2iB,EAAA3iB,EAAAsT,KAwCA,QAAA6Q,GAAAV,EAAA5B,EAAAH,EAAAiB,GACA,GAAA5iB,KACA0jB,GAAA5B,EAAA,SAAA1Y,EAAAgG,EAAAtQ,GACA6iB,EAAAvY,EAAA,SAAAnJ,EAAAokB,GACArkB,IAAAyZ,OAAA4K,OACAvlB,EAAAmB,MAES,SAAAA,GACT2iB,EAAA3iB,EAAAD,KA+EA,QAAAskB,GAAAC,EAAAC,EAAAC,GAOA,QAAAC,GAAAC,EAAAthB,EAAAuhB,EAAAhC,GACA,SAAAA,GAAA,kBAAAA,GACA,SAAA9I,OAAA,mCAMA,OAJA6K,GAAAE,SAAA,EACA9C,EAAA1e,KACAA,OAEA,IAAAA,EAAA3C,QAAAikB,EAAAG,OAEA3a,EAAA4a,aAAA,WACAJ,EAAAK,WAGAhD,EAAA3e,EAAA,SAAA8gB,GACA,GAAAniB,IACAqB,KAAA8gB,EACAvB,YAAArE,EAGAqG,GACAD,EAAAT,MAAAe,QAAAjjB,GAEA2iB,EAAAT,MAAAnZ,KAAA/I,GAGA2iB,EAAAT,MAAAxjB,SAAAikB,EAAAH,aACAG,EAAAO,kBAGA/a,GAAA4a,aAAAJ,EAAA9kB,UAEA,QAAAslB,GAAAR,EAAAT,GACA,kBACAkB,GAAA,CAEA,IAAAC,IAAA,EACAna,EAAAuE,SACAuS,GAAAkC,EAAA,SAAAC,GACAnC,EAAAsD,EAAA,SAAAf,EAAAnV,GACAmV,IAAAJ,GAAAkB,IACAC,EAAArY,OAAAmC,EAAA,GACAiW,GAAA,KAIAlB,EAAAvB,SAAAtQ,MAAA6R,EAAAjZ,KAEAyZ,EAAAT,MAAAxjB,OAAA0kB,IAAA,GACAT,EAAAK,QAEAL,EAAA9kB,WAzDA,SAAA2kB,EACAA,EAAA,MAEA,QAAAA,EACA,SAAA1K,OAAA,+BAyDA,IAAAsL,GAAA,EACAE,KACAX,GACAT,SACAM,cACAC,UACAS,UAAA3G,EACAgH,MAAAhH,EACAyG,MAAAzG,EACAsG,SAAA,EACAW,QAAA,EACAza,KAAA,SAAA1H,EAAAuf,GACA8B,EAAAC,EAAAthB,GAAA,EAAAuf,IAEA6C,KAAA,WACAd,EAAAK,MAAAzG,EACAoG,EAAAT,UAEAe,QAAA,SAAA5hB,EAAAuf,GACA8B,EAAAC,EAAAthB,GAAA,EAAAuf,IAEA/iB,QAAA,WACA,MAAA8kB,EAAAa,QAAAJ,EAAAT,EAAAH,aAAAG,EAAAT,MAAAxjB,QAAA,CAEA,GAAAwjB,GAAAS,EAAAF,QACAE,EAAAT,MAAAjX,OAAA,EAAA0X,EAAAF,SACAE,EAAAT,MAAAjX,OAAA,EAAA0X,EAAAT,MAAAxjB,QAEA2C,EAAA4e,EAAAiC,EAAA,SAAAC,GACA,MAAAA,GAAA9gB,MAGA,KAAAshB,EAAAT,MAAAxjB,QACAikB,EAAAY,QAEAH,GAAA,EACAE,EAAAva,KAAAmZ,EAAA,GACA,IAAAplB,GAAA4iB,EAAAyD,EAAAR,EAAAT,GACAK,GAAAlhB,EAAAvE,KAGA4B,OAAA,WACA,MAAAikB,GAAAT,MAAAxjB,QAEAuiB,QAAA,WACA,MAAAmC,IAEAE,YAAA,WACA,MAAAA,IAEAR,KAAA,WACA,MAAAH,GAAAT,MAAAxjB,OAAA0kB,IAAA,GAEAM,MAAA,WACAf,EAAAa,QAAA,GAEAG,OAAA,WACA,GAAAhB,EAAAa,UAAA,GACAb,EAAAa,QAAA,CAIA,QAHAI,GAAA/f,KAAAsK,IAAAwU,EAAAH,YAAAG,EAAAT,MAAAxjB,QAGAmlB,EAAA,EAA+BD,GAAAC,EAAkBA,IACjD1b,EAAA4a,aAAAJ,EAAA9kB,WAIA,OAAA8kB,GA+EA,QAAAmB,GAAAvmB,GACA,MAAAmjB,GAAA,SAAAf,EAAAzW,GACAyW,EAAArP,MAAA,KAAApH,EAAAuO,QAAAiJ,EAAA,SAAAziB,EAAAiL,GACA,gBAAAzC,WACAxI,EACAwI,QAAArJ,OACAqJ,QAAArJ,MAAAa,GAGAwI,QAAAlJ,IACAyiB,EAAA9W,EAAA,SAAA9B,GACAX,QAAAlJ,GAAA6J,aAoDA,QAAA2c,GAAAC,GACA,gBAAA7D,EAAApT,EAAA6T,GACAoD,EAAA9D,EAAAC,GAAApT,EAAA6T,IAsCA,QAAAqD,GAAAvC,GACA,MAAAhB,GAAA,SAAAwD,EAAAhb,GACA,GAAAib,GAAAzD,EAAA,SAAAxX,GACA,GAAAkb,GAAArV,KACA6R,EAAA1X,EAAAsS,KACA,OAAAkG,GAAAwC,EAAA,SAAAvE,EAAArW,EAAAxM,GACA6iB,EAAArP,MAAA8T,EAAAlb,EAAAuO,QAAA3a,MAEA8jB,IAEA,OAAA1X,GAAAxK,OACAylB,EAAA7T,MAAAvB,KAAA7F,GAGAib,IAqBA,QAAAE,GAAA1E,GACA,MAAAe,GAAA,SAAAxX,GACA,GAAA0X,GAAA1X,EAAAsS,KACAtS,GAAAH,KAAA,WACA,GAAAub,GAAA7W,SACA8W,GACApc,EAAA4a,aAAA,WACAnC,EAAAtQ,MAAA,KAAAgU,KAGA1D,EAAAtQ,MAAA,KAAAgU,IAGA,IAAAC,IAAA,CACA5E,GAAArP,MAAAvB,KAAA7F,GACAqb,GAAA,IAprCA,GAaAC,GAbArc,KAkBAtG,EAAA,gBAAAyV,+BACA,gBAAAgI,qBACAvQ,IAEA,OAAAlN,IACA2iB,EAAA3iB,EAAAsG,OAGAA,EAAAkU,WAAA,WAEA,MADAxa,GAAAsG,MAAAqc,EACArc,EAqBA,IAAAsc,GAAAvV,OAAAP,UAAApN,SAEAwe,EAAA5U,MAAAoE,SAAA,SAAAvC,GACA,yBAAAyX,EAAAjoB,KAAAwQ,IAIA0X,EAAA,SAAA1X,GACA,GAAA8O,SAAA9O,EACA,oBAAA8O,GAAA,WAAAA,KAAA9O,GAwDAsT,EAAApR,OAAA/B,MAAA,SAAAH,GACA,GAAAG,KACA,QAAAwX,KAAA3X,GACAA,EAAAqC,eAAAsV,IACAxX,EAAApE,KAAA4b,EAGA,OAAAxX,IA2DAyX,EAAA,kBAAA7B,4BAEA8B,EAAAD,EAAA,SAAAjF,GAEAiF,EAAAjF,IACK,SAAAA,GACLtH,WAAAsH,EAAA,GAGA,iBAAA9hB,UAAA,kBAAAA,SAAAinB,SACA3c,EAAA2c,SAAAjnB,QAAAinB,SAEA3c,EAAA2c,SAAAD,EAEA1c,EAAA4a,aAAA6B,EAAAC,EAAA1c,EAAA2c,SAGA3c,EAAAkJ,QACAlJ,EAAAQ,KAAA,SAAAmX,EAAA/S,EAAA6T,GACA,MAAAzY,GAAAkZ,OAAAvB,EAAAa,EAAA5T,GAAA6T,IAGAzY,EAAA4c,cACA5c,EAAAC,WAAA,SAAA0X,EAAA/S,EAAA6T,GACA,MAAAzY,GAAAqZ,aAAA1B,EAAAa,EAAA5T,GAAA6T,IAIAzY,EAAA6c,aACA7c,EAAA8c,UAAA,SAAAnF,EAAAgB,EAAA/T,EAAA6T,GACA,MAAAC,GAAAC,GAAAhB,EAAAa,EAAA5T,GAAA6T,IAGAzY,EAAA+c,UACA/c,EAAAkZ,OAAA,SAAA5K,EAAA1J,EAAA6T,GAcA,QAAAI,GAAA/iB,GACAknB,IACAlnB,EACA2iB,EAAA3iB,GAIA,OAAAgT,GAAA,GAAAkU,GACAvE,EAAA,MArBAA,EAAAhB,EAAAgB,GAAArE,GACA9F,OAKA,KAHA,GACAxF,GADAmU,EAAA5E,EAAA/J,GACA0O,EAAA,EAEA,OAAAlU,EAAAmU,MACAD,GAAA,EACApY,EAAA0J,EAAAxF,KAAAyO,EAAAsB,GAGA,KAAAmE,GAAAvE,EAAA,OAeAzY,EAAAkd,gBACAld,EAAAqZ,aAAA,SAAAxU,EAAAD,EAAA6T,GAKA,QAAA0E,KACA,GAAAf,IAAA,CACA,eAAAtT,EACA2P,EAAA,OAEA7T,EAAAC,EAAAiE,KAAAyO,EAAA,SAAAzhB,GACA,GAAAA,EACA2iB,EAAA3iB,OAEA,CAEA,GADAgT,EAAA8P,IACA,OAAA9P,EACA,MAAA2P,GAAA,KAEA2D,GACApc,EAAA4a,aAAAuC,GAEAA,aAKAf,GAAA,IA1BA3D,EAAAhB,EAAAgB,GAAArE,GACAvP,OACA,IAAA+T,GAAAP,EAAAxT,GACAiE,EAAA8P,GAyBAuE,MAKAnd,EAAAod,eACApd,EAAAqd,YAAA,SAAAxY,EAAA8T,EAAA/T,EAAA6T,GACAC,EAAAC,GAAA9T,EAAAD,EAAA6T,IA6EAzY,EAAApI,IAAAqhB,EAAAK,GACAtZ,EAAAsd,UAAAlE,EAAAE,GACAtZ,EAAAud,SAAApE,EAAAG,GAIAtZ,EAAAuJ,OACAvJ,EAAAsJ,MACAtJ,EAAAqJ,OAAA,SAAAsO,EAAA5S,EAAAH,EAAA6T,GACAzY,EAAAqZ,aAAA1B,EAAA,SAAA1Y,EAAAtI,EAAA8hB,GACA7T,EAAAG,EAAA9F,EAAA,SAAAnJ,EAAAshB,GACArS,EAAAqS,EACAqB,EAAA3iB,MAES,SAAAA,GACT2iB,EAAA3iB,EAAAiP,MAIA/E,EAAAyJ,MACAzJ,EAAAwJ,YAAA,SAAAmO,EAAA5S,EAAAH,EAAA6T,GACA,GAAA+E,GAAA1F,EAAAH,EAAAvP,GAAAqV,SACAzd,GAAAqJ,OAAAmU,EAAAzY,EAAAH,EAAA6T,IAGAzY,EAAA0d,UAAA,SAAA/F,EAAA5S,EAAAH,EAAA6T,GACA,IAAAnT,UAAA/O,SACAkiB,EAAA7T,EACAA,EAAAG,EACAA,EAAA6S,EAAAD,UAGA3X,EAAAkZ,OAAAvB,EAAA,SAAAP,EAAAoF,EAAA7nB,GACAiQ,EAAAG,EAAAqS,EAAAoF,EAAA7nB,IACS,SAAAmB,GACT2iB,EAAA3iB,EAAAiP,MAsBA/E,EAAA8J,OACA9J,EAAAhB,OAAAia,EAAAO,GAEAxZ,EAAA2d,YACA3d,EAAA4d,YAAAzE,EAAAK,GAEAxZ,EAAA6d,aACA7d,EAAA8d,aAAA1E,EAAAI,GASAxZ,EAAAgK,OAAAiP,EAAAQ,GACAzZ,EAAA+d,YAAA5E,EAAAM,GACAzZ,EAAAge,aAAA5E,EAAAK,GA2BAzZ,EAAAqK,IACArK,EAAAoK,KAAAsP,EAAA1Z,EAAAkZ,OAAA7B,EAAAjP,GAEApI,EAAAie,UAAAvE,EAAA1Z,EAAAqd,YAAAhG,EAAAjP,GAEApI,EAAAmK,IACAnK,EAAAkK,MAAAwP,EAAA1Z,EAAAkZ,OAAA5B,KAEAtX,EAAAke,WAAAxE,EAAA1Z,EAAAqd,YAAA/F,KAKAtX,EAAA2J,OAAA+P,EAAA1Z,EAAAkZ,OAAA9Q,EAAAyR,GACA7Z,EAAAme,aAAAzE,EAAA1Z,EAAAqZ,aAAAjR,EAAAyR,GACA7Z,EAAAoe,YAAA1E,EAAA1Z,EAAAqd,YAAAjV,EAAAyR,GAEA7Z,EAAA2L,OAAA,SAAAgM,EAAA/S,EAAA6T,GAsBA,QAAA4F,GAAAvS,EAAAC,GACA,GAAAC,GAAAF,EAAAF,SAAAK,EAAAF,EAAAH,QACA,OAAAK,GAAAD,EAAA,GAAAA,EAAAC,EAAA,IAvBAjM,EAAApI,IAAA+f,EAAA,SAAA1Y,EAAAwZ,GACA7T,EAAA3F,EAAA,SAAAnJ,EAAA8V,GACA9V,EACA2iB,EAAA3iB,GAGA2iB,EAAA,MAAoC1Q,MAAA9I,EAAA2M,gBAG3B,SAAA9V,EAAAsT,GACT,MAAAtT,GACA2iB,EAAA3iB,OAGA2iB,GAAA,KAAAX,EAAA1O,EAAAyC,KAAAwS,GAAA,SAAApf,GACA,MAAAA,GAAA8I,YAYA/H,EAAAse,KAAA,SAAAvE,EAAAM,EAAA5B,GAsBA,QAAA8F,GAAA/G,GACAgH,EAAA1D,QAAAtD,GAEA,QAAAiH,GAAAjH,GACA,GAAA1R,GAAAsS,EAAAoG,EAAAhH,EACA1R,IAAA,GAAA0Y,EAAA1b,OAAAgD,EAAA,GAEA,QAAA4Y,KACAC,IACA9G,EAAA2G,EAAAxhB,MAAA,YAAAwa,GACAA,MA/BA,kBAAAlS,WAAA,KAEAmT,EAAA4B,EACAA,EAAA,MAEA5B,EAAAhB,EAAAgB,GAAArE,EACA,IAAApP,GAAAmT,EAAA4B,GACA4E,EAAA3Z,EAAAzO,MACA,KAAAooB,EACA,MAAAlG,GAAA,KAEA4B,KACAA,EAAAsE,EAGA,IAAAvV,MACAwV,EAAA,EAEAC,GAAA,EAEAL,IAeAD,GAAA,WACAI,GACAlG,EAAA,KAAArP,KAIAyO,EAAA7S,EAAA,SAAAwX,GAmCA,QAAAxe,KACA,MAAAqc,GAAAuE,GAAA3G,EAAA6G,EAAA,SAAA9S,EAAA/M,GACA,MAAA+M,IAAA5C,EAAAlC,eAAAjI,KACiB,KAAAmK,EAAAlC,eAAAsV,GASjB,QAAAuC,KACA/gB,MACA4gB,IACAH,EAAAM,GACA/E,IAAAzjB,OAAA,GAAAyoB,EAAA5V,IAlDA,IAAAyV,EAAA,CA0BA,IAzBA,GAwBAI,GAxBAjF,EAAApC,EAAAmC,EAAAyC,IAAAzC,EAAAyC,IAAAzC,EAAAyC,IACAwC,EAAAzG,EAAA,SAAAziB,EAAAiL,GAKA,GAJA6d,IACA7d,EAAAxK,QAAA,IACAwK,IAAA,IAEAjL,EAAA,CACA,GAAAopB,KACAhH,GAAA9O,EAAA,SAAA+V,EAAAC,GACAF,EAAAE,GAAAD,IAEAD,EAAA1C,GAAAzb,EACA8d,GAAA,EAEApG,EAAA3iB,EAAAopB,OAGA9V,GAAAoT,GAAAzb,EACAf,EAAA4a,aAAA8D,KAGAI,EAAA9E,EAAAhd,MAAA,EAAAgd,EAAAzjB,OAAA,GAEAkM,EAAAqc,EAAAvoB,OAEAkM,KAAA,CACA,KAAAwc,EAAAlF,EAAA+E,EAAArc,KACA,SAAAkN,OAAA,iCAAAmP,EAAAhnB,KAAA,MAEA,IAAA8f,EAAAqH,IAAA7G,EAAA6G,EAAAzC,IAAA,EACA,SAAA7M,OAAA,2BAQA3R,KACA4gB,IACA5E,IAAAzjB,OAAA,GAAAyoB,EAAA5V,IAGAmV,EAAAQ,OAcA/e,EAAAqf,MAAA,SAAAhO,EAAA2I,EAAAvB,GAWA,QAAA6G,GAAAC,EAAAC,GACA,mBAAAA,GACAD,EAAAlO,MAAAoO,SAAAD,EAAA,KAAAE,MACa,oBAAAF,GAIb,SAAA7P,OAAA,gDAAA6P,GAHAD,GAAAlO,MAAAoO,SAAAD,EAAAnO,MAAA,KAAAqO,EACAH,EAAAI,SAAAF,SAAAD,EAAAG,SAAA,KAAAC,GAmBA,QAAAC,GAAAC,EAAAC,GACA,QAAAC,GAAAhG,EAAAiG,GACA,gBAAAC,GACAlG,EAAA,SAAAlkB,EAAAD,GACAqqB,GAAApqB,GAAAmqB,GAA8DnqB,MAAAD,YACzCkqB,IAIrB,QAAAI,GAAAR,GACA,gBAAAO,GACAhQ,WAAA,WACAgQ,EAAA,OACqBP,IAIrB,KAAAS,EAAA/O,OAAA,CAEA,GAAA4O,KAAAG,EAAA/O,OAAA,EACAgP,GAAAzf,KAAAof,EAAAI,EAAApG,KAAAiG,KACAA,GAAAG,EAAAT,SAAA,GACAU,EAAAzf,KAAAuf,EAAAC,EAAAT,WAIA3f,EAAAsgB,OAAAD,EAAA,SAAAxH,EAAA3f,GACAA,MAAA3C,OAAA,IACAupB,GAAAM,EAAA3H,UAAAvf,EAAApD,IAAAoD,EAAArD,UA9DA,GAAA6pB,GAAA,EACAE,EAAA,EAEAS,KAEAD,GACA/O,MAAAqO,EACAC,SAAAC,GAcArpB,EAAA+O,UAAA/O,MACA,MAAAA,KAAA,EACA,SAAAoZ,OAAA,wGA4CA,OA3CS,IAAApZ,GAAA,kBAAA8a,KACToH,EAAAuB,EACAA,EAAA3I,GAEA,kBAAAA,IACAiO,EAAAc,EAAA/O,GAEA+O,EAAA3H,WACA2H,EAAApG,OAmCAoG,EAAA3H,SAAAoH,OAGA7f,EAAAugB,UAAA,SAAAxG,EAAAtB,GASA,QAAA+H,GAAA5b,GACA,MAAA2T,GAAA,SAAAziB,EAAAiL,GACA,GAAAjL,EACA2iB,EAAAtQ,MAAA,MAAArS,GAAAwZ,OAAAvO,QAEA,CACA,GAAAY,GAAAiD,EAAAjD,MACAA,GACAZ,EAAAH,KAAA4f,EAAA7e,IAGAZ,EAAAH,KAAA6X,GAEAyD,EAAAtX,GAAAuD,MAAA,KAAApH,MApBA,GADA0X,EAAAhB,EAAAgB,GAAArE,IACAwD,EAAAmC,GAAA,CACA,GAAAjkB,GAAA,GAAA6Z,OAAA,4DACA,OAAA8I,GAAA3iB,GAEA,MAAAikB,GAAAxjB,WAoBAiqB,GAAAxgB,EAAA4E,SAAAmV,MAnBAtB,KAuCAzY,EAAAygB,SAAA,SAAA1G,EAAAtB,GACAqB,EAAA9Z,EAAAkZ,OAAAa,EAAAtB,IAGAzY,EAAA0gB,cAAA,SAAA3G,EAAApB,EAAAF,GACAqB,EAAApB,EAAAC,GAAAoB,EAAAtB,IAGAzY,EAAAsgB,OAAA,SAAAvG,EAAAtB,GACAqB,EAAA9Z,EAAAqZ,aAAAU,EAAAtB,IAGAzY,EAAA4E,SAAA,SAAAmV,GACA,QAAA4G,GAAA1b,GACA,QAAAuS,KAIA,MAHAuC,GAAAxjB,QACAwjB,EAAA9U,GAAAkD,MAAA,KAAA7C,WAEAkS,EAAA7V,OAKA,MAHA6V,GAAA7V,KAAA,WACA,MAAAsD,GAAA8U,EAAAxjB,OAAA,EAAAoqB,EAAA1b,EAAA,SAEAuS,EAEA,MAAAmJ,GAAA,IAGA3gB,EAAAmI,MAAAoQ,EAAA,SAAAf,EAAAzW,GACA,MAAAwX,GAAA,SAAAqI,GACA,MAAApJ,GAAArP,MACA,KAAApH,EAAAuO,OAAAsR,QAgBA5gB,EAAAsP,OAAA2J,EAAAgB,GACAja,EAAA6gB,aAAAzH,EAAAa,GAEAja,EAAA8gB,OAAA,SAAAngB,EAAAiE,EAAA6T,GAEA,GADAA,KAAArE,EACAzT,IAAA,CACA,GAAAgB,GAAA4W,EAAA,SAAAziB,EAAAiL,GACAjL,EACA2iB,EAAA3iB,GACiB6K,EAAAwH,MAAAvB,KAAA7F,GACjB6D,EAAAjD,GAEA8W,EAAAtQ,MAAA,YAAAmH,OAAAvO,KAGA6D,GAAAjD,OAEA8W,GAAA,OAIAzY,EAAA+gB,SAAA,SAAAnc,EAAAjE,EAAA8X,GACA,GAAAuI,GAAA,CACA,OAAAhhB,GAAA8gB,OAAA,WACA,QAAAE,GAAA,GAAArgB,EAAAwH,MAAAvB,KAAAtB,YACSV,EAAA6T,IAGTzY,EAAAihB,MAAA,SAAAtgB,EAAAiE,EAAA6T,GACA,MAAAzY,GAAA8gB,OAAA,WACA,OAAAngB,EAAAwH,MAAAvB,KAAAtB,YACSV,EAAA6T,IAGTzY,EAAAkhB,QAAA,SAAAtc,EAAAjE,EAAA8X,GACA,MAAAzY,GAAA+gB,SAAAnc,EAAA,WACA,OAAAjE,EAAAwH,MAAAvB,KAAAtB,YACSmT,IAGTzY,EAAAmhB,OAAA,SAAAxgB,EAAAiE,EAAA6T,GACAA,KAAArE,CAEA,IAAAzS,GAAA4W,EAAA,SAAAziB,EAAAiL,GACAjL,EACA2iB,EAAA3iB,IAEAiL,EAAAH,KAAA+Y,GACAhZ,EAAAwH,MAAAvB,KAAA7F,MAIA4Y,EAAA,SAAA7jB,EAAAsrB,GACAtrB,EACA2iB,EAAA3iB,GACasrB,EACbxc,EAAAjD,GAEA8W,EAAA,MAIA9X,GAAAgZ,IAGA3Z,EAAAqhB,SAAA,SAAAzc,EAAAjE,EAAA8X,GACA,GAAAuI,GAAA,CACAhhB,GAAAmhB,OAAA,SAAAxf,GACAqf,IAAA,EACArf,EAAA,SAEAhB,EAAAwH,MAAAvB,KAAAtB,YAESV,EAAA6T,IAuITzY,EAAAshB,MAAA,SAAAlH,EAAAC,GACA,GAAAG,GAAAL,EAAA,SAAA/W,EAAAzO,GACAylB,EAAAhX,EAAA,GAAAzO,IACS0lB,EAAA,EAET,OAAAG,IAGAxa,EAAAuhB,cAAA,SAAAnH,EAAAC,GAEA,QAAAmH,GAAAxV,EAAAC,GACA,MAAAD,GAAAyV,SAAAxV,EAAAwV,SAGA,QAAAC,GAAAC,EAAA9pB,EAAA+pB,GAGA,IAFA,GAAAC,GAAA,GACAC,EAAAH,EAAAprB,OAAA,EACAurB,EAAAD,GAAA,CACA,GAAAnT,GAAAmT,GAAAC,EAAAD,EAAA,MACAD,GAAA/pB,EAAA8pB,EAAAjT,KAAA,EACAmT,EAAAnT,EAEAoT,EAAApT,EAAA,EAGA,MAAAmT,GAGA,QAAAtH,GAAAC,EAAAthB,EAAAuoB,EAAAhJ,GACA,SAAAA,GAAA,kBAAAA,GACA,SAAA9I,OAAA,mCAMA,OAJA6K,GAAAE,SAAA,EACA9C,EAAA1e,KACAA,OAEA,IAAAA,EAAA3C,OAEAyJ,EAAA4a,aAAA,WACAJ,EAAAK,cAGAhD,GAAA3e,EAAA,SAAA8gB,GACA,GAAAniB,IACAqB,KAAA8gB,EACAyH,WACAhJ,SAAA,kBAAAA,KAAArE,EAGAoG,GAAAT,MAAAjX,OAAA4e,EAAAlH,EAAAT,MAAAliB,EAAA2pB,GAAA,IAAA3pB,GAEA2iB,EAAAT,MAAAxjB,SAAAikB,EAAAH,aACAG,EAAAO,YAEA/a,EAAA4a,aAAAJ,EAAA9kB,WAKA,GAAA8kB,GAAAxa,EAAAshB,MAAAlH,EAAAC,EAUA,OAPAG,GAAA5Z,KAAA,SAAA1H,EAAAuoB,EAAAhJ,GACA8B,EAAAC,EAAAthB,EAAAuoB,EAAAhJ,UAIA+B,GAAAM,QAEAN,GAGAxa,EAAA+hB,MAAA,SAAA3H,EAAAE,GACA,MAAAH,GAAAC,EAAA,EAAAE,IAqBAta,EAAAgiB,IAAArG,EAAA,OACA3b,EAAAS,IAAAkb,EAAA,OAKA3b,EAAA4P,QAAA,SAAA4H,EAAA3H,GACA,GAAA9K,MACAkd,KACAvb,EAAAK,OAAAP,UAAAU,cACA2I,MAAAzH,CACA,IAAA8Z,GAAA3J,EAAA,SAAAxX,GACA,GAAA0X,GAAA1X,EAAAsS,MACAvK,EAAA+G,EAAA1H,MAAA,KAAApH,EACA2F,GAAArS,KAAA0Q,EAAA+D,GACA9I,EAAA4a,aAAA,WACAnC,EAAAtQ,MAAA,KAAApD,EAAA+D,MAGApC,EAAArS,KAAA4tB,EAAAnZ,GACAmZ,EAAAnZ,GAAAlI,KAAA6X,IAGAwJ,EAAAnZ,IAAA2P,GACAjB,EAAArP,MAAA,KAAApH,EAAAuO,QAAAiJ,EAAA,SAAAxX,GACAgE,EAAA+D,GAAA/H,CACA,IAAAyZ,GAAAyH,EAAAnZ,SACAmZ,GAAAnZ,EACA,QAAAnS,GAAA,EAAAkS,EAAA2R,EAAAjkB,OAAiDsS,EAAAlS,EAAOA,IACxD6jB,EAAA7jB,GAAAwR,MAAA,KAAApH,UAOA,OAFAmhB,GAAAnd,OACAmd,EAAAC,WAAA3K,EACA0K,GAGAliB,EAAAoiB,UAAA,SAAA5K,GACA,kBACA,OAAAA,EAAA2K,YAAA3K,GAAArP,MAAA,KAAA7C,aAUAtF,EAAAqR,MAAAuK,EAAA5b,EAAApI,KACAoI,EAAAqiB,YAAAzG,EAAA5b,EAAAsd,WACAtd,EAAAsiB,WAAA,SAAAtK,EAAAW,EAAA/T,EAAA6T,GACA,MAAAzY,GAAAud,SAAAxF,EAAAC,GAAAW,EAAA/T,EAAA6T,IAGAzY,EAAAuiB,IAAA,WACA,GAAAxG,GAAAzW,SACA,OAAAiT,GAAA,SAAAxX,GACA,GAAAkb,GAAArV,KAEA6R,EAAA1X,IAAAxK,OAAA,EACA,mBAAAkiB,GACA1X,EAAAsS,MAEAoF,EAAArE,EAGApU,EAAAqJ,OAAA0S,EAAAhb,EAAA,SAAAyhB,EAAAhL,EAAA7iB,GACA6iB,EAAArP,MAAA8T,EAAAuG,EAAAlT,QAAAiJ,EAAA,SAAAziB,EAAA2sB,GACA9tB,EAAAmB,EAAA2sB,SAGA,SAAA3sB,EAAAsT,GACAqP,EAAAtQ,MAAA8T,GAAAnmB,GAAAwZ,OAAAlG,SAKApJ,EAAAmR,QAAA,WACA,MAAAnR,GAAAuiB,IAAApa,MAAA,KAAAnF,MAAAwD,UAAAiX,QAAAppB,KAAAiR,aAuBAtF,EAAA0iB,UAAA5G,EAAA9b,EAAAkZ,QACAlZ,EAAA2iB,gBAAA7G,EAAA9b,EAAAqZ,cAGArZ,EAAA4iB,QAAA,SAAApL,EAAAiB,GAGA,QAAA9W,GAAA7L,GACA,MAAAA,GACA+iB,EAAA/iB,OAEAkkB,GAAArY,GANA,GAAAkX,GAAAtB,EAAAkB,GAAArE,GACA4F,EAAAkC,EAAA1E,EAOA7V,MAsBA3B,EAAAkc,cAEAlc,EAAAmU,SAAAoE,EAAA,SAAA7N,GACA,GAAA3J,IAAA,MAAAuO,OAAA5E,EACA,iBAAA+N,GACA,MAAAA,GAAAtQ,MAAAvB,KAAA7F,MAIAf,EAAA6iB,SACA7iB,EAAA8iB,SAAA,SAAAjb,GACA,MAAA0Q,GAAA,SAAAxX,GACA,GACAlL,GADA4iB,EAAA1X,EAAAsS,KAEA,KACAxd,EAAAgS,EAAAM,MAAAvB,KAAA7F,GACa,MAAAhM,GACb,MAAA0jB,GAAA1jB,GAGAwnB,EAAA1mB,IAAA,kBAAAA,GAAAktB,KACAltB,EAAAktB,KAAA,SAAAhb,GACA0Q,EAAA,KAAA1Q,KACiB,kBAAAjS,GACjB2iB,EAAA3iB,EAAAktB,QAAAltB,EAAA,GAAA6Z,OAAA7Z,MAGA2iB,EAAA,KAAA5iB,MAMA,gBAAA3B,MAAAD,QACAC,EAAAD,QAAA+L,GAIAyE,KAAAC,EAAA,WACA,MAAA1E,IACSmI,MAAAlU,EAAAwQ,KAAAyS,SAAAxS,IAAAxQ,EAAAD,QAAAyQ,UNwqEqBrQ,KAAKJ,EAAU,WAAa,MAAO2S,WAI3D,SAAS1S,EAAQD,EAASH,IOr5GhC,SAAAqjB,GAAA,YACA,IAAAnX,GAAAlM,EAAA,GACAsD,EAAAtD,EAAA,GACAqN,EAAArN,EAAA,GACA6F,EAAA7F,EAAA,GACAmvB,EAAAnvB,EAAA,GACA4B,EAAAiE,EAAAuD,WAAA,WACAtH,EAAA+D,EAAAuD,WAAA,UAAAtH,OACAJ,EAAAmE,EAAAuD,WAAA,KACAia,GAAA+L,WAAA,IACA,IAAAC,GAAA,WACA,QAAAA,MAWA,MATAA,GAAAC,gBAAA,SAAAC,EAAA/gB,EAAAghB,GACA,YAAAA,EAAA,EAAAD,EAAAE,OAAA,KAAsDjhB,EAAA,QAEtD6gB,EAAAK,YAAA,KACAL,EAAAM,eAAA,KACAN,EAAAO,SAAA,MACAP,EAAAQ,YAAA,MACAR,EAAAS,WAAA,MACAT,EAAAU,YAAA,SACAV,KAKAW,EAAA,WACA,QAAAA,GAAAC,EAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAAvd,IACAA,MAAAwd,UAAA,KACAxd,KAAAyd,aACAzd,KAAA0d,eAAA,KAEA1d,KAAA2d,eAAA,EACA3d,KAAA4d,KAAA,EACA5d,KAAA6d,KAAA,EACA7d,KAAA8d,MAAA,EACA9d,KAAA+d,MAAA,EACA/d,KAAAge,YACAhe,KAAAie,eAAA,EACAje,KAAAke,eAAA,EACAle,KAAAme,cAAA,GACAne,KAAAoe,eAAA,GACApe,KAAAqe,kBAAAf,EACAF,EAAA9a,QAAA,SAAA3U,GACA4vB,EAAAE,UAAA9vB,EAAA2wB,cAAA3wB,GAEA,IAAA4wB,GAAA,GACA9B,EAAAzc,KAAAwd,UAAAlB,WAAA,GAAAD,IACAmC,KAAA,GACAD,OACAE,cAAA,GAEAhC,GAAAnoB,KAAA6oB,GACAV,EAAAiC,cAAA,EACAjC,EAAA/pB,GAAA,eAAAwP,EAAA/T,GACA,IAAAovB,EAAAW,cAAA,CAGA,GAAAS,GAAAxwB,EAAAwwB,QACAC,GAAA,CACA,IAAAzwB,EAAA0wB,QACA,OAAAF,GACA,QAEApB,EAAAI,gBACAiB,GAAA,EACArB,EAAAuB,eAEA,MACA,SAEAF,GAAA,EACArB,EAAAwB,aACA,MACA,SAEAxB,EAAAI,gBACAiB,GAAA,EACArB,EAAAyB,iBAEA,MACA,SAEAzB,EAAAI,gBACAiB,GAAA,EACArB,EAAA0B,aAEA,MACA,SAEA1B,EAAAI,gBACAiB,GAAA,EACArB,EAAA2B,eAEA,MACA,SAEA3B,EAAAI,gBACAiB,GAAA,EACArB,EAAA4B,eAEA,MACA,SAEA5B,EAAAI,gBACAiB,GAAA,EACArB,EAAA6B,cAEA,MACA,SAEA7B,EAAAI,gBACAiB,GAAA,EACArB,EAAA8B,eAEA,MACA,SAEA,GAAA9B,EAAAI,cAAA,CACAiB,GAAA,CAEA,QADAU,GAAA/B,EAAAgC,kBAAA5vB,OAAA4tB,EAAAiC,mBACAzvB,EAAA,EAA2CuvB,EAAAvvB,EAAcA,IACzDwtB,EAAAyB,iBAGA,KACA,SACAJ,GAAA,MAIA,IAAAzwB,EAAAsxB,OACA,OAAAd,GACA,QAEA,KACA,SAEA,KACA,cAKA,CACA,OAAAA,GACA,QAEApB,EAAAI,gBACAiB,GAAA,EACArB,EAAA4B,eAEA,MACA,SAEA5B,EAAAI,gBACAiB,GAAA,EACArB,EAAA2B,eAEA,MACA,SACA3B,EAAAI,gBACAiB,GAAA,EACArB,EAAA6B,cAEA,MACA,SACA7B,EAAAI,gBACAiB,GAAA,EACArB,EAAA8B,eAEA,MACA,QAEAT,GAAA,EACArB,EAAAmC,MAAA,KACA,MACA,QACA,GAAAnC,EAAAI,cAAA,CACAiB,GAAA,EACArB,EAAAW,eAAA,CACA,IAAAhkB,GAAAqjB,EAAAgC,iBACAhC,GAAAoC,aAAAzlB,EAAAqjB,EAAAqC,SAAA1lB,GAAA,WACAqjB,EAAAW,eAAA,IAGA,KACA,SAGAX,EAAAI,eAAA,YAAAxvB,EAAA4e,OACA6R,GAAA,EACArB,EAAAyB,iBAEA,MACA,SAEAzB,EAAAI,gBACAiB,GAAA,EACArB,EAAA0B,aAEA,MACA,SAEA1B,EAAAI,gBACAiB,GAAA,EACArB,EAAAuB,eAEA,MACA,SAEA,GAAAvB,EAAAI,cAAA,CACAiB,GAAA,CACA,IAAA1kB,GAAAqjB,EAAAgC,iBACAhC,GAAA1tB,OAAA0sB,EAAAC,gBAAAe,EAAAC,UAAAD,EAAAO,MAAAP,EAAAQ,OAAA,MACAR,EAAAsC,YAAA3lB,EAAAqjB,EAAAqC,SAAA1lB,KAIA0kB,GACArB,EAAAmC,MAAAxd,OAIAlC,KAAAwd,UA2ZA,MAtZAN,GAAAtd,UAAA4e,KAAA,WACA,MAAAxe,MAAAwd,UAAAgB,MAEAtB,EAAAtd,UAAAkgB,SAAA,WACA,MAAA9f,MAAAwd,UAAAnlB,GAEA6kB,EAAAtd,UAAAmgB,SAAA,WACA,MAAA/f,MAAAwd,UAAAb,MAAA3c,KAAAwd,UAAAlK,GAKA4J,EAAAtd,UAAAjN,iBAAA,SAAAqtB,GACA,GAAAzC,GAAAvd,IACApR,GAAAyD,SAAA2N,KAAAqe,kBAAA,SAAAnvB,EAAAoD,GACApD,IACAquB,EAAAS,SAAA1rB,EAAAE,WAAAqG,MAAA,MACA0kB,EAAAU,eAAAV,EAAAS,SAAAruB,QAEA,OAAAqwB,IAAArwB,OAAA,KACAqwB,GAAA,MAEAzC,EAAAW,eAAA,EACAX,EAAA0C,UAAA1C,EAAAiB,QACAjB,EAAA1tB,OAAAmwB,GACAzC,EAAA/tB,YAGA0tB,EAAAtd,UAAAwf,YAAA,WACA,IAAApf,KAAA8f,YAAA9f,KAAA+f,WAAA,EAEA/f,KAAAnQ,OAAA0sB,EAAAC,gBAAAxc,KAAAwd,UAAAxd,KAAAwd,UAAAgB,KAAA,EAAAxe,KAAA+f,WAAA,IAGA/f,KAAAnQ,OAAA0sB,EAAAS,aAGAE,EAAAtd,UAAAyf,aAAA,WACArf,KAAA8f,aAAA9f,KAAAwd,UAAAgB,KAAA,GAAAxe,KAAA+d,MAAA/d,KAAA+f,WACA/f,KAAAnQ,OAAA0sB,EAAAC,gBAAAxc,KAAAwd,UAAA,EAAAxd,KAAA+f,WAAA,IAGA/f,KAAAnQ,OAAA0sB,EAAAQ,cAGAG,EAAAtd,UAAAuf,aAAA,WACAnf,KAAAge,SAAAruB,OAAA,GAAAqQ,KAAAie,eAAA,IACAje,KAAAie,iBAAAje,KAAAge,SAAAruB,SACAqQ,KAAAme,cAAAne,KAAAuf,mBAEAvf,KAAAie,iBACAje,KAAAkgB,cAAAlgB,KAAAge,SAAAhe,KAAAie,mBAGAf,EAAAtd,UAAAsf,aAAA,WACAlf,KAAAge,SAAAruB,OAAA,GAAAqQ,KAAAie,eAAAje,KAAAge,SAAAruB,SACAqQ,KAAAie,iBACAje,KAAAie,iBAAAje,KAAAge,SAAAruB,OACAqQ,KAAAkgB,cAAAlgB,KAAAme,eAGAne,KAAAkgB,cAAAlgB,KAAAge,SAAAhe,KAAAie,mBAIAf,EAAAtd,UAAAkf,aAAA,WACA9e,KAAA0f,MAAAnD,EAAAC,gBAAAxc,KAAAwd,UAAAxd,KAAA4d,KAAA5d,KAAA6d,QAEAX,EAAAtd,UAAAqf,WAAA,WACAjf,KAAA0f,MAAAnD,EAAAC,gBAAAxc,KAAAwd,UAAAxd,KAAA8d,MAAA9d,KAAA+d,SAEAb,EAAAtd,UAAAof,eAAA,WACAhf,KAAAqf,eACArf,KAAA0f,MAAA,OAKAxC,EAAAtd,UAAA4f,iBAAA,WACA,GAAA/C,GAAAzc,KAAAwd,UACA2C,EAAAngB,KAAA4d,KACAwC,EAAApgB,KAAA6d,KACAwC,EAAA5D,EAAA+B,KACA8B,EAAAF,EAAAC,EAAAF,EACAI,EAAAvgB,KAAA8f,WACAU,EAAAxgB,KAAA+f,WACAU,EAAAD,EAAAH,EAAAE,CACA,OAAAE,GAAAH,GAKApD,EAAAtd,UAAA2f,gBAAA,WAQA,OAPAnqB,GAAA,GACAqnB,EAAAzc,KAAAwd,UAEAkD,GADAjE,EAAA+B,KACA/B,EAAAiE,OACAC,EAAA3gB,KAAA6d,KACA+C,EAAA5gB,KAAA+d,MACA8C,EAAA7gB,KAAA8d,MACAxK,EAAAqN,EAAyBC,GAAAtN,EAAWA,IAEpC,OADAoJ,GAAAgE,EAAApN,GACAjb,EAAAib,IAAAqN,EAAA3gB,KAAA4d,KAAA,EAAqDvlB,GAAAib,IAAAsN,EAAAC,EAAAnE,EAAA/sB,QAAsC0I,IAC3FjD,GAAAsnB,EAAArkB,GAAA,EAGA,OAAAjD,IAEA8nB,EAAAtd,UAAAkhB,mBAAA,SAAAC,GACA,GAAAvC,GAAAxe,KAAAwd,UAAAgB,IAEA,IADAxe,KAAA8d,OAAAiD,EACA/gB,KAAA8d,MAAAU,EAAA,CACA,GAAAD,GAAAzpB,KAAAC,MAAAiL,KAAA8d,MAAAU,EACAxe,MAAA8d,OAAAU,EAAAD,EACAve,KAAA+d,OAAAQ,MAEA,IAAAve,KAAA8d,MAAA,GACA,GAAAS,GAAAzpB,KAAAkH,KAAAlH,KAAAksB,IAAAhhB,KAAA8d,OAAAU,EACAxe,MAAA+d,OAAAQ,EACAve,KAAA8d,OAAAU,EAAAD,IAOArB,EAAAtd,UAAA8f,MAAA,SAAAxd,GACA,GAAAlC,KAAA2d,cAEA,UAAAzb,EAAA,CAEA,GAAA+e,GAAAjhB,KAAAuf,kBAAAkB,EAAAzgB,KAAAwf,kBACAiB,GAAA,IACAzgB,KAAAof,cAEApf,KAAAnQ,OAAA,GAAA0sB,EAAAK,YAAAqE,EAAA7qB,MAAAqqB,GAAA,IAAAlE,EAAAM,gBACA7c,KAAA8gB,mBAAA,SAGA,CACA,GAAAI,GAAA,IAEA,QAAAhf,EAAA,IAEA,QACA,QACA,QACA,QACA,KACA,SACAgf,EAAA,GAAA3E,EAAAK,YAAA5c,KAAAuf,kBAAAnpB,MAAA4J,KAAAwf,oBAAAjD,EAAAM,eACA7c,KAAA8gB,mBAAA,GAIA9gB,KAAAnQ,OAAAqS,GACAlC,KAAAwd,UAAAnlB,IAAA2H,KAAAwd,UAAAgB,OAEAxe,KAAAwd,UAAAnlB,IACA2H,KAAAqf,eAEA,IAAA8B,GAAAnhB,KAAA+f,UACAmB,IACAlhB,KAAAnQ,OAAAqxB,EAEA,IAAAE,GAAAphB,KAAA+f,UACAqB,KAAAD,GAEAnhB,KAAAnQ,OAAA0sB,EAAAO,UAGA9c,KAAAqhB,oBAKA,OAAAnf,EACAlC,KAAAoe,eAAAzuB,OAAA,IACAqQ,KAAAof,cACApf,KAAAnQ,OAAA,KACAmQ,KAAAof,cACApf,KAAAoe,eAAApe,KAAAoe,eAAAhoB,MAAA,EAAA4J,KAAAoe,eAAAzuB,OAAA,IAGA,OAAAuS,GACAlC,KAAAnQ,OAAA,QACAmQ,KAAAoe,gBAAA,KAEAtvB,EAAA4wB,MAAA4B,MAAAthB,KAAAoe,gBACApe,KAAAoe,eAAA,IAEA,MAAAlc,EAAA,KACAlC,KAAAoe,gBAAAlc,EACAlC,KAAAnQ,OAAAqS,KAIAgb,EAAAtd,UAAA/P,OAAA,SAAAuF,GACA,GAAAqnB,GAAAzc,KAAAwd,SACAf,GAAA6E,MAAAlsB,EAAAwD,QAAA,gBAEAskB,EAAAtd,UAAArQ,OAAA,SAAA6F,GAKA4K,KAAAnQ,OAAAuF,IAEA8nB,EAAAtd,UAAAggB,SAAA,SAAAqB,GACA,MAAAjhB,MAAAuf,kBAAAgC,OAAA1oB,MAAA,SAEAqkB,EAAAtd,UAAAigB,YAAA,SAAA2B,EAAArnB,GACA,GAAAojB,GAAAvd,IAKA,IAJAA,KAAAoe,eAAA,GACApe,KAAA2d,eAAA,EACA3d,KAAAie,eAAAje,KAAAge,SAAAhkB,KAAAwnB,GACA5yB,EAAAC,UAAAmR,KAAAqe,kBAAA,GAAArvB,GAAAgR,KAAAge,SAAA9sB,KAAA,qBACA,KAAAiJ,EAAA,GAEA,WADA6F,MAAAxQ,QAGA,IAAAwQ,KAAA0d,eAEA,WADA1d,MAAAzQ,OAAA,sCAGA,IAAA0xB,GAAAjhB,KAAAyd,UAAAtjB,EAAA,GACA8mB,GAKAjhB,KAAAyhB,iBAAAtnB,EAAA/D,MAAA,YAAAsrB,EAAAxyB,GACAA,GACAquB,EAAAhuB,OAAA0xB,EAAA3C,aAAA,KAAApvB,EAAA,MACAquB,EAAA/tB,WAGA+tB,EAAAG,eAAAuD,EACAA,EAAAU,IAAApE,EAAAmE,EAAA,WACAnE,EAAAqE,oBAZA5hB,KAAAzQ,OAAA,mBAAA4K,EAAA,8CACA6F,KAAAxQ,WAiBA0tB,EAAAtd,UAAAmf,YAAA,WACA/e,KAAA0d,iBACA1d,KAAA0d,eAAAhJ,OACA1U,KAAA4hB,gBAGA1E,EAAAtd,UAAAgiB,YAAA,WACA5hB,KAAA0d,iBACA1d,KAAA0d,eAAA,KACA,IAAA1d,KAAA8f,YACA9f,KAAAnQ,OAAA,MAEAmQ,KAAAxQ,WAGA0tB,EAAAtd,UAAAiiB,MAAA,WACA7hB,KAAAwd,UAAAqE,SAEA3E,EAAAtd,UAAAkiB,IAAA,WACA,MAAAhzB,GAAAC,MAAA,MAEAmuB,EAAAtd,UAAAmiB,qBAAA,WACA,MAAAxnB,GAAAuR,MAAA9L,KAAAyd,YAMAP,EAAAtd,UAAAoiB,aAAA,WACA,GACAzB,IADAvgB,KAAAwd,UACAxd,KAAA8f,YACAU,EAAAxgB,KAAA+f,WACAkC,EAAAjiB,KAAA4d,KACA+C,EAAA3gB,KAAA6d,KACAgD,EAAA7gB,KAAA8d,MACA8C,EAAA5gB,KAAA+d,MACAS,EAAAxe,KAAAwd,UAAAgB,KACAiC,EAAAD,EAAAhC,EAAA+B,EACA2B,EAAAvB,EAAAnC,EAAAyD,EACAE,EAAAvB,EAAApC,EAAAqC,CACAqB,GAAAzB,EACAzgB,KAAAnQ,OAAA0sB,EAAAC,gBAAAxc,KAAAwd,UAAAyE,EAAAtB,IAEAF,EAAA0B,GACAniB,KAAAnQ,OAAA0sB,EAAAC,gBAAAxc,KAAAwd,UAAAqD,EAAAD,KAGA1D,EAAAtd,UAAA6hB,iBAAA,SAAAtnB,EAAApM,GACA,GAAAq0B,KACAhpB,GAAAQ,KAAAO,EAAA,SAAAkoB,EAAAt0B,GACA,IAAAs0B,EAAAhsB,QAAA,MACA+rB,EAAApoB,KAAAqoB,GACAt0B,KAGAyC,EAAA+H,YAAA8pB,EAAA,SAAAC,GACAA,EAAA3yB,OAAA,GACAyyB,IAAA1Z,OAAA4Z,GACAv0B,KAGAA,EAAAs0B,EAAA,kCAIS,SAAAl0B,GACTJ,EAAAq0B,EAAAj0B,MAGA+uB,EAAAtd,UAAA2iB,eAAA,SAAApoB,EAAApM,GACA,MAAAoM,EAAAxK,OACA5B,EAAAyC,EAAAyH,gBAAAkC,EAAA,GAAAgG,OAAA/B,KAAA4B,KAAA+hB,8BAEA,aAAA5nB,EAAA,GACA6F,KAAAuiB,eAAApoB,EAAA/D,MAAA,GAAArI,OAEA,CACA,GAAAmM,GAAA8F,KAAA+hB,uBAAA5nB,EAAA,IAAA/B,EAAA,WAAkF,SAClF,OAAA8B,IACA9B,EAAA8B,EAAAsoB,yBAEAhyB,EAAAyJ,oBAAAE,EAAA,GAAAA,EAAA/B,EAAArK,KAGAmvB,EAAAtd,UAAAqgB,UAAA,SAAAtwB,GAEA,OADA8yB,GAAA,GACA1yB,EAAA,EAAuBJ,EAAAI,EAAYA,IAGnC0yB,GAAA,OAEAziB,MAAAwd,UAAA8D,MAAAmB,IAKAvF,EAAAtd,UAAApQ,OAAA,WACAV,EAAA4wB,MAAAgD,YAAA,GACA1iB,KAAA2d,eAAA,EACA3d,KAAAwd,UAAA8D,MAAAthB,KAAA8hB,MAAA,KACA9hB,KAAA4d,KAAA5d,KAAA8d,MAAA9d,KAAA8f,WACA9f,KAAA6d,KAAA7d,KAAA+d,MAAA/d,KAAA+f,WACA/f,KAAAnQ,OAAA0sB,EAAAU,cAMAC,EAAAtd,UAAAyhB,cAAA,WAIArhB,KAAAgiB,gBAMA9E,EAAAtd,UAAAsgB,cAAA,SAAAe,GACAjhB,KAAA2d,eAAA,CACA,IAAAgF,GAAA3iB,KAAAuf,iBACAvf,MAAAnQ,OAAA0sB,EAAAC,gBAAAxc,KAAAwd,UAAAxd,KAAA8d,MAAA9d,KAAA+d,OACA,QAAAhuB,GAAA,EAAuBA,EAAA4yB,EAAAhzB,OAAuBI,IAC9CiQ,KAAA0f,MAAA,KAEA1f,MAAAwd,UAAA8D,MAAAL,GACAjhB,KAAA8gB,mBAAAG,EAAAtxB,SAEAutB,EAAAtd,UAAA+f,aAAA,SAAA6B,EAAArnB,EAAApM,GACA,GAAAwvB,GAAAvd,KAEAyc,EAAAzc,KAAAwd,UACAoF,EAAAroB,EAAAC,KAAAL,EACA6F,MAAAuiB,eAAApoB,EAAA,SAAAW,GACA,MAAAA,EAAAnL,OAAA,CACA,GAAAkzB,GAAA/nB,EAAA,EACAX,KAAAxK,OAAA,GAAAkzB,CACA,IAAA5B,GAAA9mB,EAAAjJ,KAAA,YAAA2xB,IAAAlzB,OAAA,UACA4tB,GAAA2C,cAAAe,OAEA,IAAAnmB,EAAAnL,OAAA,GACA,GAAAuI,GAAA1H,EAAA2K,qBAAAL,EACA,SAAA5C,OAAA0qB,EAAA,CAEA,GAAAE,GAAAF,EAAAloB,YAAA,OACA+O,EAAA3O,EAAA9J,IAAA,SAAArD,GAAgE,MAAAA,GAAAyI,MAAA0sB,IAChErZ,GAAAxE,OACAsY,EAAA1tB,OAAA,KAAAW,EAAA6K,UAAAoO,EAAAgT,EAAA+B,MAAA,MAEAjB,EAAA/tB,SACA+tB,EAAA2C,cAAAsB,OAGArnB,KAAAxK,OAAA,GAAAuI,EACAqlB,EAAA2C,cAAA/lB,EAAAjJ,KAAA,MAIAnD,OAGAmvB,IAEA7vB,GAAA01B,YAAA,EACA11B,EAAA,WAAA6vB,IPy5G8BzvB,KAAKJ,EAAU,WAAa,MAAO2S,WAI3D,SAAS1S,EAAQD,EAASH,IQ5/HhC,SAAA81B,GAKA11B,EAAAD,QAAA21B,EAAAv1B,KAAAuS,OAaC,WAYD,YAYA,SAAAijB,KACAjjB,KAAAkjB,QAAAljB,KAAAkjB,YAmEA,QAAA7G,GAAA5S,GACA,GAAAlB,GAAAvI,IAEA,MAAAA,eAAAqc,IACA,UAAAA,GAAA3d,UAAA,GAAAA,UAAA,GAAAA,UAAA,GAGA6J,GAAA4a,OAAA9G,EAAA8G,OAEAF,EAAAx1B,KAAAuS,MAEA,gBAAAyJ,KACAA,GACA+U,KAAA9f,UAAA,GACA6f,KAAA7f,UAAA,GACA0kB,QAAA1kB,UAAA,KAIA+K,QAGAtJ,OAAA/B,KAAAie,EAAAzQ,UAAAtJ,QAAA,SAAAJ,GACA,MAAAuH,EAAAvH,KACAuH,EAAAvH,GAAAma,EAAA5S,QAAAvH,GAEAma,EAAAna,KAAAma,EAAAzQ,SAAA1J,KACAuH,EAAAvH,GAAAma,EAAAna,KAGAqG,EAAArG,GAAAuH,EAAAvH,KAGA,IAAAuH,EAAA4Z,OAAA1zB,OACA8Z,EAAA4Z,OAAA5Z,EAAA4Z,OAAA3a,OAAA2T,EAAAiH,QAAAltB,MAAA,IACO,KAAAqT,EAAA4Z,OAAA1zB,OACP8Z,EAAA4Z,OAAA5Z,EAAA4Z,OAAA3a,OAAA2T,EAAAiH,QAAAltB,MAAA,KACO,KAAAqT,EAAA4Z,OAAA1zB,OACP8Z,EAAA4Z,OAAA5Z,EAAA4Z,OAAAjtB,MAAA,MAAAsS,OACA2T,EAAAiH,QAAAltB,MAAA,MAAAqT,EAAA4Z,OAAAjtB,MAAA,KACO,KAAAqT,EAAA4Z,OAAA1zB,SACP8Z,EAAA4Z,OAAA5Z,EAAA4Z,OAAA3a,OACA2T,EAAAiH,QAAAltB,MAAA,OAAAqT,EAAA4Z,OAAAjtB,MAAA,MAEA4J,KAAAqjB,OAAA5Z,EAAA4Z,OAEArjB,KAAAyJ,UAIAzJ,KAAAujB,OAAA9Z,EAAA+Z,MAAA/Z,EAAA8Z,SACApsB,IAAAssB,qBAAA,iBAEAzjB,KAAAwe,KAAA/U,EAAA+U,MAAA/U,EAAAia,SAAA,GACA1jB,KAAAue,KAAA9U,EAAA8U,MAAA9U,EAAAia,SAAA,GAEAja,EAAA2Z,SACApjB,KAAAtN,GAAA,OAAA+W,EAAA2Z,SAGApjB,KAAA2c,MAAA,EACA3c,KAAA2jB,MAAA,EACA3jB,KAAA3H,EAAA,EACA2H,KAAAsT,EAAA,EACAtT,KAAA4jB,YAAA,EACA5jB,KAAA0e,cAAA,EACA1e,KAAA6jB,WACA7jB,KAAA8jB,MAAA,EACA9jB,KAAA0a,MAAA,GACA1a,KAAA+jB,UAAA,EACA/jB,KAAAgkB,aAAAhkB,KAAAue,KAAA,EAGAve,KAAAikB,mBAAA,EACAjkB,KAAAkkB,mBAAA,EACAlkB,KAAAmkB,YAAA,EACAnkB,KAAAokB,YAAA,EACApkB,KAAAqkB,gBAAA,EACArkB,KAAAskB,OAAA,KAGAtkB,KAAAukB,QAAA,KACAvkB,KAAAwkB,SAAA,KACAxkB,KAAAykB,OAAA,EACAzkB,KAAA0kB,UAAA,MAGA1kB,KAAA2kB,WACA3kB,KAAA4kB,SACA5kB,KAAA6kB,WACA7kB,KAAA8kB,WACA9kB,KAAA+kB,YACA/kB,KAAAglB,YACAhlB,KAAAilB,UACAjlB,KAAAklB,SACAllB,KAAAmlB,SACAnlB,KAAAolB,WAGAplB,KAAAzC,QACAyC,KAAAqlB,SACArlB,KAAAslB,aACAtlB,KAAAulB,WACAvlB,KAAAwlB,OACAxlB,KAAAylB,OACAzlB,KAAA0lB,UAGA1lB,KAAA2lB,UAAA,EACA3lB,KAAA4lB,UAAA,EAEA5lB,KAAA6lB,QAAA,OACA7lB,KAAA8lB,QAAA9lB,KAAA6lB,QAEA7lB,KAAA+lB,UACA/lB,KAAAgmB,aAAA,EACAhmB,KAAA9H,OAAA,GACA8H,KAAAimB,QAAA,GAEAjmB,KAAA0gB,QAEA,KADA,GAAA3wB,GAAAiQ,KAAAue,KACAxuB,KACAiQ,KAAA0gB,MAAA1mB,KAAAgG,KAAAkmB,YAGAlmB,MAAAmmB,KACAnmB,KAAAomB,aAoyIA,QAAA1zB,GAAA2zB,EAAAtZ,EAAAqW,EAAAkD,GACAlqB,MAAAoE,QAAA6lB,KACAA,OAEAA,EAAA/jB,QAAA,SAAA/E,GACAA,EAAA/I,iBAAAuY,EAAAqW,EAAAkD,IAAA,KAIA,QAAAC,GAAAF,EAAAtZ,EAAAqW,EAAAkD,GACAD,EAAA5oB,oBAAAsP,EAAAqW,EAAAkD,IAAA,GAGA,QAAAnD,GAAA7zB,EAAAk3B,GACA,MAAAxmB,MAAAye,cAAA+H,GAGAl3B,EAAA6N,iBACA7N,EAAAm3B,mBACA,GALA,OAQA,QAAAC,GAAAC,EAAApD,GACA,QAAAz1B,KACAkS,KAAAP,YAAAknB,EAEA74B,EAAA8R,UAAA2jB,EAAA3jB,UACA+mB,EAAA/mB,UAAA,GAAA9R,GAKA,QAAA84B,GAAAzvB,GACA,GAAAqsB,GAAArsB,EAAAssB,qBAAA,WACA4C,EAAAlvB,EAAA0vB,cAAA,OACAR,GAAAS,UAAA,cACAtD,EAAAuD,YAAAV,EACA,IAAAW,GAAAX,EAAAY,WACAZ,GAAAa,MAAAC,WAAA,MACA,IAAAC,GAAAf,EAAAY,WAEA,OADAzD,GAAA6D,YAAAhB,GACAW,IAAAI,EAeA,QAAAE,GAAAC,GACA,WAAAA,GAAA,EACAA,GAAA,UAAAA,GACAA,GAAA,UAAAA,GACAA,GAAA,UAAAA,GACAA,GAAA,UAAAA,GACAA,GAAA,UAAAA,GACAA,GAAA,UAAAA,GACAA,GAAA,UAAAA,EAGA,QAAAC,GAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAAH,GAAA,GAAAC,GAAA,EAAAC,CAEA,UAAAH,EAAAK,OAAAD,GACA,MAAAJ,GAAAK,OAAAD,EAYA,KATA,GAGAj6B,GACAm6B,EACAC,EACAC,EACAC,EAPAC,EAAAtmB,IACAumB,EAAA,GACAp4B,EAAA,EAOYA,EAAAssB,EAAA+L,QAAAz4B,OAA6BI,IAAA,CAQzC,GAPApC,EAAA0uB,EAAA+L,QAAAr4B,GACA+3B,EAAAn6B,EAAA,GACAo6B,EAAAp6B,EAAA,GACAq6B,EAAAr6B,EAAA,GAEAs6B,EAAAT,EAAAa,SAAAZ,EAAAC,EAAAC,EAAAG,EAAAC,EAAAC,GAEA,IAAAC,EAAA,CACAE,EAAAp4B,CACA,OAGAm4B,EAAAD,IACAC,EAAAD,EACAE,EAAAp4B,GAIA,MAAAy3B,GAAAK,OAAAD,GAAAO,EAYA,QAAAvuB,GAAAqE,EAAAoY,EAAAiS,GACA,GAAArqB,EAAAqE,QAAA,MAAArE,GAAAqE,QAAA+T,EAAAiS,EACA,QAAAv4B,GAAA,EAAqBA,EAAAkO,EAAAtO,OAAgBI,IACrCsmB,EAAA5oB,KAAA66B,EAAArqB,EAAAlO,KAAAkO,GAIA,QAAAG,GAAAH,GACA,GAAAkC,OAAA/B,KAAA,MAAA+B,QAAA/B,KAAAH,EACA,IAAAiE,GAAA9D,IACA,KAAA8D,IAAAjE,GACAkC,OAAAP,UAAAU,eAAA7S,KAAAwQ,EAAAiE,IACA9D,EAAApE,KAAAkI,EAGA,OAAA9D,GA7mJA,GAAAjH,GAAA6I,KAAA7I,QAUA8rB,GAAArjB,UAAA+X,YAAA,SAAA5K,EAAAoL,GACAnY,KAAAkjB,QAAAnW,GAAA/M,KAAAkjB,QAAAnW,OACA/M,KAAAkjB,QAAAnW,GAAA/S,KAAAme,IAGA8K,EAAArjB,UAAAlN,GAAAuwB,EAAArjB,UAAA+X,YAEAsL,EAAArjB,UAAAiY,eAAA,SAAA9K,EAAAoL,GACA,GAAAnY,KAAAkjB,QAAAnW,GAKA,IAHA,GAAA9O,GAAA+B,KAAAkjB,QAAAnW,GACAhd,EAAAkO,EAAAtO,OAEAI,KACA,GAAAkO,EAAAlO,KAAAooB,GAAAla,EAAAlO,GAAAooB,aAEA,WADAla,GAAA/B,OAAAnM,EAAA,IAMAkzB,EAAArjB,UAAA2mB,IAAAtD,EAAArjB,UAAAiY,eAEAoL,EAAArjB,UAAA2oB,mBAAA,SAAAxb,GACA/M,KAAAkjB,QAAAnW,UAAA/M,MAAAkjB,QAAAnW,IAGAkW,EAAArjB,UAAA+K,KAAA,SAAAoC,EAAAoL,GACA,QAAAzlB,KACA,GAAAyH,GAAAiC,MAAAwD,UAAAxJ,MAAA3I,KAAAiR,UAEA,OADAsB,MAAA6X,eAAA9K,EAAAra,GACAylB,EAAA5W,MAAAvB,KAAA7F,GAGA,MADAzH,GAAAylB,WACAnY,KAAAtN,GAAAqa,EAAAra,IAGAuwB,EAAArjB,UAAA4oB,KAAA,SAAAzb,GACA,GAAA/M,KAAAkjB,QAAAnW,GAOA,IALA,GAAA5S,GAAAiC,MAAAwD,UAAAxJ,MAAA3I,KAAAiR,UAAA,GACAT,EAAA+B,KAAAkjB,QAAAnW,GACA9K,EAAAhE,EAAAtO,OACAI,EAAA,EAEYkS,EAAAlS,EAAOA,IACnBkO,EAAAlO,GAAAwR,MAAAvB,KAAA7F,IAIA8oB,EAAArjB,UAAAgY,UAAA,SAAA7K,GACA,MAAA/M,MAAAkjB,QAAAnW,GAAA/M,KAAAkjB,QAAAnW,OAOA,IAAAuX,GAAA,EAAAmE,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAApE,EAAA,EAAAqE,EAAA,EAAAC,EAAA,CAuIAnC,GAAArK,EAAA4G,GAGA5G,EAAAzc,UAAAkpB,UAAA,WAEA,WAAA9oB,KAAA6lB,QAAA,IAAA7lB,KAAA8lB,SAQAzJ,EAAA0M,aAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAKA1M,EAAAgH,OAAA,WAkBA,QAAA2F,GAAAxvB,EAAAyvB,EAAA5jB,GACAge,EAAArpB,KAAA,IAAAkvB,EAAA1vB,GAAA0vB,EAAAD,GAAAC,EAAA7jB,IAGA,QAAA6jB,GAAAv7B,GAEA,MADAA,KAAA6E,SAAA,IACA7E,EAAAgC,OAAA,MAAAhC,IAvBA,GAEAoC,GAFAszB,EAAAhH,EAAA0M,YAAA3yB,QACAoD,GAAA,qBAKA,KADAzJ,EAAA,EACY,IAAAA,EAASA,IACrBi5B,EAAAxvB,EAAAzJ,EAAA,QAAAyJ,EAAAzJ,EAAA,OAAAyJ,EAAAzJ,EAAA,GAKA,KADAA,EAAA,EACY,GAAAA,EAAQA,IACpByJ,EAAA,KAAAzJ,EACAi5B,EAAAxvB,MAYA,OAAA6pB,MAGAhH,EAAAiH,QAAAjH,EAAAgH,OAAAjtB,QAEAimB,EAAA+L,QAAA,WAMA,IALA,GAGAe,GAHAH,KACA3F,EAAAhH,EAAAgH,OACAtzB,EAAA,EAGY,IAAAA,EAASA,IACrBo5B,EAAAtQ,SAAAwK,EAAAtzB,GAAAq5B,UAAA,OACAJ,EAAAhvB,MACAmvB,GAAA,OACAA,GAAA,MACA,IAAAA,GAIA,OAAAH,MAOA3M,EAAAzQ,UACAyX,OAAAhH,EAAAgH,OACAgG,MAAA,UACAxF,YAAA,EACAyF,SAAA,QACA5F,UAAA,OACA6F,aAAA,EACAC,YAAA,EACAC,WAAA,EACAC,WAAA,IACAC,YAAA,EACAC,OAAA,EACAnL,cAAA,GAKApC,EAAA5S,WAEA4S,EAAAwF,MAAA,KAEAjoB,EAAAwE,EAAAie,EAAAzQ,UAAA,SAAA1J,GACAma,EAAAna,GAAAma,EAAAzQ,SAAA1J,GACAma,EAAA5S,QAAAvH,GAAAma,EAAAzQ,SAAA1J,KAMAma,EAAAzc,UAAAiiB,MAAA,WACA1qB,EAAA0yB,gBAAA7pB,KAAA8pB,WAIA9pB,KAAAilB,WACAjlB,KAAAnK,KAAA,OAGAmK,KAAA+pB,aACA/pB,KAAA8pB,SAAAjI,QACAxF,EAAAwF,MAAA7hB,OAGAqc,EAAAzc,UAAAoqB,KAAA,WACA3N,EAAAwF,QAAA7hB,OAIAA,KAAA4jB,YAAA,EACA5jB,KAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,GACAtT,KAAA8pB,SAAAE,OAEAhqB,KAAAilB,WACAjlB,KAAAnK,KAAA,OAEAwmB,EAAAwF,MAAA,OAOAxF,EAAAzc,UAAAsqB,WAAA,WACA7N,EAAA8N,UAAAnqB,MACAqc,EAAA+N,SAAApqB,MACAqc,EAAAgO,SAAArqB,OAMAqc,EAAA8N,UAAA,SAAA1N,GACA/pB,GAAA+pB,EAAAqN,SAAArN,EAAAlf,SAAA,iBAAAjO,GAEA,GADAA,EAAAm3B,kBACAn3B,EAAAg7B,cAAA,CACA,GAAAl1B,GAAA9F,EAAAg7B,cAAAC,QAAA,aACA9N,GAAA2G,QAAAhuB,GAGA,MADAqnB,GAAAqN,SAAA3oB,MAAA,GACAsb,EAAA0G,OAAA7zB,MAQA+sB,EAAA+N,SAAA,SAAA3N,GACA/pB,EAAA+pB,EAAAlf,QAAA,mBAAAjO,GACA6H,EAAA0yB,eAAA7pB,MAGAyc,EAAA+N,QAAAl7B,KACO,GAEPoD,EAAA+pB,EAAAlf,QAAA,oBAAAjO,GACA6H,EAAA0yB,eAAA7pB,MAGAyc,EAAAgO,SAAAn7B,KACO,GAEPoD,EAAA+pB,EAAAlf,QAAA,QAAAkf,EAAAoF,MAAAlhB,KAAA8b,IAEA/pB,EAAA+pB,EAAAqN,SAAA,mBAAAx6B,GACAmtB,EAAA+N,QAAAl7B,KACO,GAEPoD,EAAA+pB,EAAAqN,SAAA,oBAAAx6B,GACAmtB,EAAAgO,SAAAn7B,GAKA0Q,KAAAmB,MAAA,KACO,IAOPkb,EAAAgO,SAAA,SAAA5N,GACA/pB,EAAA+pB,EAAAlf,QAAA,gBAAAjO,OAUA+sB,EAAAzc,UAAA8qB,UAAA,SAAAhO,GAQA,MAPA,gBAAAA,KACAA,EAAAvlB,EAAA0vB,cAAA,QAGA7mB,KAAA2qB,aAAA5D,YAAArK,GACA1c,KAAAqlB,SAAArrB,KAAA0iB,GAEAA,GAOAL,EAAAzc,UAAAtL,KAAA,SAAAivB,GACA,GAAAhb,GAAAvI,KAAAjQ,EAAA,CAIA,IAFAiQ,KAAAujB,UAAAvjB,KAAAujB,QAEAvjB,KAAAujB,OACA,SAAAxa,OAAA,sCA2DA,KArDA/I,KAAAzB,QAAAyB,KAAAujB,OAAAqH,cAAAC,YACA7qB,KAAA7I,SAAA6I,KAAAujB,OAAAqH,cACA5qB,KAAAwjB,KAAAxjB,KAAA7I,SAAAssB,qBAAA,WAKAzjB,KAAAzB,QAAAusB,WAAA9qB,KAAAzB,QAAAusB,UAAAC,YACA/qB,KAAAgrB,SAAAhrB,KAAAzB,QAAAusB,UAAAC,UAAA10B,QAAA,OACA2J,KAAAirB,UAAAjrB,KAAAzB,QAAAusB,UAAAC,UAAA10B,QAAA,QACA2J,KAAAkrB,YAAAlrB,KAAAzB,QAAAusB,UAAAC,UAAA10B,QAAA,UACA2J,KAAAmrB,UAAAnrB,KAAAzB,QAAAusB,UAAAC,UAAA10B,QAAA,SAMA2J,KAAAzC,QAAAyC,KAAA7I,SAAA0vB,cAAA,OACA7mB,KAAAzC,QAAA6tB,UAAAC,IAAA,YACArrB,KAAAzC,QAAA6tB,UAAAC,IAAA,SACArrB,KAAAzC,QAAA6tB,UAAAC,IAAA,eAAArrB,KAAAqpB,OACArpB,KAAAzC,QAAA+tB,aAAA,cAMAtrB,KAAA2qB,aAAAxzB,EAAA0vB,cAAA,OACA7mB,KAAA2qB,aAAAS,UAAAC,IAAA,cACArrB,KAAAzC,QAAAwpB,YAAA/mB,KAAA2qB,cACA3qB,KAAAqlB,YAMArlB,KAAAurB,gBAAAp0B,EAAA0vB,cAAA,OACA7mB,KAAAurB,gBAAAH,UAAAC,IAAA,iBACArrB,KAAAzC,QAAAwpB,YAAA/mB,KAAAurB,iBACAvrB,KAAA8pB,SAAA3yB,EAAA0vB,cAAA,YACA7mB,KAAA8pB,SAAAsB,UAAAC,IAAA,yBACArrB,KAAA8pB,SAAAwB,aAAA,qBACAtrB,KAAA8pB,SAAAwB,aAAA,wBACAtrB,KAAA8pB,SAAAwB,aAAA,sBACAtrB,KAAA8pB,SAAA0B,SAAA,EACAxrB,KAAA8pB,SAAA2B,QAAA,WACAljB,EAAAigB,KAAA,SAA4Bn5B,SAAAkZ,KAE5BvI,KAAA8pB,SAAA4B,OAAA,WACAnjB,EAAAigB,KAAA,QAA2Bn5B,SAAAkZ,KAE3BvI,KAAAurB,gBAAAxE,YAAA/mB,KAAA8pB,UAEY/5B,EAAAiQ,KAAAue,KAAexuB,IAC3BiQ,KAAA0qB,WAEA1qB,MAAAujB,OAAAwD,YAAA/mB,KAAAzC,SAGAyC,KAAAiqB,QAAA,EAAAjqB,KAAAue,KAAA,GAIAve,KAAAkqB,aAGAlqB,KAAA6hB,QAGA7hB,KAAA2rB,aAEAj5B,EAAAsN,KAAAzC,QAAA,qBACA,GAAAquB,GAAAz0B,EAAA00B,eACAC,EAAAF,EAAAG,YACAC,EAAA,iBAAAF,MAAA,SAAAF,EAAA7e,IACAif,IACAzjB,EAAAsZ,UAMA7hB,KAAAisB,YAIA,MAAA5P,EAAA6P,aACA7P,EAAA6P,WAAAtF,EAAA5mB,KAAA7I,WAGA6I,KAAAwoB,KAAA,SAWAnM,EAAAzc,UAAAqsB,UAAA,WAYA,QAAAE,GAAA78B,GACA,GAAA88B,GACAvY,CAOA,IAJAuY,EAAAC,EAAA/8B,GAGAukB,EAAAyY,EAAAh9B,GAKA,OAFAi9B,EAAAH,EAAAvY,GAEAvkB,EAAAyd,MACA,gBACAyf,EAAAJ,CACA,MACA,eAGAI,EAAA,EACA,MACA,KAAAC,KAUA,QAAAC,GAAAp9B,GACA,GACAukB,GADAuY,EAAAI,CAGA3Y,GAAAyY,EAAAh9B,GACAukB,IAIAuY,GAAA,GAEAG,EAAAH,EAAAvY,IAKA,QAAA8Y,GAAAr6B,EAAAi1B,GACA,GAAAhf,EAAA2c,SAIS,CACT,UAAAqC,EAAA,MAAAj1B,GAAA0H,KAAA,EACA,KAAAutB,EACAj1B,EAAA0H,KAAAutB,IAEAA,EAAA,OAAAA,EAAA,MACAj1B,EAAA0H,KAAA,IAAAutB,GAAA,GACAj1B,EAAA0H,KAAA,OAAAutB,QAXA,CACA,SAAAA,EAAA,MAAAj1B,GAAA0H,KAAA,EACAutB,GAAA,MAAAA,EAAA,KACAj1B,EAAA0H,KAAAutB,IAmBA,QAAAgF,GAAAH,EAAAvY,GAOA,GAAAtL,EAAAuc,WAAA,CAGAsH,GAAA,EACAvY,EAAAxb,GAAA,GACAwb,EAAAP,GAAA,EACA,IAAAhhB,GAAA,MACA,QAAA85B,EAAA95B,GAAA,QACA,QAAA85B,EAAA95B,GAAA,QACA,QAAA85B,EAAA95B,GAAA,QACA,QAAA85B,EAAA,MACA95B,IAAA,IAGA,MAFAA,IAAA,KAAAuhB,EAAAxb,EAAA,IAAAwb,EAAAP,EAAA,UACA/K,GAAA1S,KAAAvD,GAIA,GAAAiW,EAAAoc,WAoBA,MAlBAyH,IAAA,EACAvY,EAAAxb,GAAA,GACAwb,EAAAP,GAAA,GACA,IAAA8Y,IAAA,EACA,IAAAA,IAAA,EACA,IAAAA,IAAA,EACA,IAAAA,MAAA,OACA7jB,GAAA1S,KAAA,KACAu2B,EACA,KACA,IAAAA,EAAA,KACA,IACAvY,EAAAP,EACA,IACAO,EAAAxb,EACA,KACAwb,EAAA+Y,MAAA,GACA,KAIA,IAAArkB,EAAA6c,WAMA,MALAvR,GAAAxb,GAAA,GACAwb,EAAAP,GAAA,GACAO,EAAAxb,IACAwb,EAAAP,QACA/K,GAAA1S,KAAA,KAAAu2B,EAAA,IAAyCvY,EAAAxb,EAAA,IAAcwb,EAAAP,EAAA,IAIvD,IAAA/K,EAAA4c,SAUA,MATAtR,GAAAxb,GAAA,GACAwb,EAAAP,GAAA,OACA/K,GAAA1S,KAAA,OACA,OAAAu2B,GAAA,GAAAA,KACA,IACAvY,EAAAxb,EACA,IACAwb,EAAAP,GACA,OAAA8Y,GAAA,SAIA,IAAA95B,KAEAq6B,GAAAr6B,EAAA85B,GACAO,EAAAr6B,EAAAuhB,EAAAxb,GACAs0B,EAAAr6B,EAAAuhB,EAAAP,GAEA/K,EAAA1S,KAAA,MAAA8V,EAAAkhB,aAAAtrB,MAAAoK,EAAArZ,IAGA,QAAA+5B,GAAA/8B,GACA,GAAA88B,GACAU,EACAC,EACAC,EACAC,CASA,QAAA39B,EAAAyd,MACA,gBACAqf,EAAA,MAAA98B,EAAA88B,QACA98B,EAAA88B,OACA,MAAA98B,EAAA49B,MACA59B,EAAA49B,MAAA,EACA,KAEA3kB,EAAA4iB,SACAiB,EAAA,IAAAA,EAAA,MAAAA,EAAA,EAAAA,EAEA,MACA,eACAA,EAAA,CACA,MACA,sBACAA,EAAA98B,EAAA69B,OAAA,EACA,GACA,EACA,MACA,kBACAf,EAAA98B,EAAA89B,YAAA,EACA,GACA,GAsBA,MAhBAN,GAAAx9B,EAAA+9B,SAAA,IACAN,EAAAz9B,EAAAg+B,QAAA,IACAN,EAAA19B,EAAAuvB,QAAA,KACAoO,EAAAH,EAAAC,EAAAC,EAGAzkB,EAAAsc,WAEAoI,GAAAD,EACSzkB,EAAAwc,cACTkI,EAAA,GAIAb,EAAA,IAAAa,GAAA,GAAAb,EAMA,QAAAE,GAAAh9B,GACA,GAAA+I,GAAAib,EAAAwB,EAAAyY,EAAAlH,CAGA,UAAA/2B,EAAAk+B,MAAA,CAQA,IANAn1B,EAAA/I,EAAAk+B,MACAla,EAAAhkB,EAAAm+B,MACApH,EAAA9d,EAAAhL,QAIA8oB,OAAA9d,EAAApR,SAAAu2B,iBACAr1B,GAAAguB,EAAAsH,WACAra,GAAA+S,EAAAuH,UACAvH,EAAA,gBAAAA,GACAA,EAAAwH,aACAxH,EAAAyH,UAqBA,OAjBAhZ,GAAAvM,EAAAhL,QAAAwwB,YACAR,EAAAhlB,EAAAhL,QAAAywB,aACA31B,EAAAvD,KAAAm5B,MAAA51B,EAAAyc,EAAAvM,EAAAiW,MACAlL,EAAAxe,KAAAm5B,MAAA3a,EAAAia,EAAAhlB,EAAAgW,MAIA,EAAAlmB,MAAA,GACAA,EAAAkQ,EAAAiW,OAAAnmB,EAAAkQ,EAAAiW,MACA,EAAAlL,MAAA,GACAA,EAAA/K,EAAAgW,OAAAjL,EAAA/K,EAAAgW,MAIAlmB,GAAA,GACAib,GAAA,IAGAjb,IACAib,IACAvG,KAAAzd,EAAAyd,OAAA0f,EACA,aACAn9B,EAAAyd,OA1QA,GAAAsZ,GAAArmB,KAAAzC,QACAgL,EAAAvI,KACAwsB,EAAA,GAEAC,EAAA,gBAAAzsB,MAAAzB,QACA,aACA,gBAwQA7L,GAAA2zB,EAAA,qBAAA/2B,GACA,MAAAiZ,GAAAyc,aAGAmH,EAAA78B,GAGAiZ,EAAAsZ,QAIAtZ,EAAAsc,YACAsH,GAAsB+B,UAAA5+B,EAAAyd,KAAA,YACtBxE,EAAA4a,OAAA7zB,KAIAiZ,EAAAwc,aAAAryB,EAAA6V,EAAApR,SAAA,YAAAu1B,GAGAnkB,EAAAqc,UACAlyB,EAAA6V,EAAApR,SAAA,kBAAAg3B,GAAA7+B,GAIA,MAHA68B,GAAA78B,GACAiZ,EAAAwc,aAAAwB,EAAAhe,EAAApR,SAAA,YAAAu1B,GACAnG,EAAAhe,EAAApR,SAAA,UAAAg3B,GACA5lB,EAAA4a,OAAA7zB,KAIAiZ,EAAA4a,OAAA7zB,KA5BA,SAmCAoD,EAAA2zB,EAAAoG,EAAA,SAAAn9B,GACA,MAAAiZ,GAAAyc,eACAzc,EAAAqc,UACArc,EAAAuc,YACAvc,EAAAoc,aACAwH,EAAA78B,GACAiZ,EAAA4a,OAAA7zB,IALA,SAUAoD,EAAA2zB,EAAAoG,EAAA,SAAAn9B,GACA,MAAAiZ,GAAAyc,aACAzc,EAAA0b,kBADA,QAEA,mBAAA30B,EAAAyd,KACAxE,EAAA6lB,WAAA9+B,EAAA69B,OAAA,QAEA5kB,EAAA6lB,WAAA9+B,EAAA89B,YAAA,QAEA7kB,EAAA4a,OAAA7zB,OAQA+sB,EAAAzc,UAAAyuB,QAAA,WACAruB,KAAA2lB,UAAA;AACA3lB,KAAA4lB,UAAA,EACA5lB,KAAAkjB,WACAljB,KAAAojB,QAAA,aACApjB,KAAAshB,MAAA,aACAthB,KAAAzC,QAAAuwB,YACA9tB,KAAAzC,QAAAuwB,WAAAzG,YAAArnB,KAAAzC,UAmBA8e,EAAAzc,UAAAqqB,QAAA,SAAAjiB,EAAAkT,GACA,GAAA7iB,GAAAib,EAAAvjB,EAAAu+B,EAAAtF,EAAAzB,EAAAgH,EAAAj8B,EAAAiD,EAAAi5B,EAAAC,EAAAC,EAAAhS,EAAA6G,EAAAoL,EAAAx3B,EAAA0yB,aAeA,KAbA3O,EAAAlT,GAAAhI,KAAAue,KAAA,IACAgF,EAAAvjB,KAAAzC,QAAAuwB,WACAvK,KAAA8D,YAAArnB,KAAAzC,UAGAgxB,EAAAvuB,KAAAwe,KACAlL,EAAAtL,EAEAkT,GAAAlb,KAAA0gB,MAAA/wB,SACAqQ,KAAAob,IAAA,8CACAF,EAAAlb,KAAA0gB,MAAA/wB,OAAA,GAGYurB,GAAA5H,EAAUA,IAAA,CAkBtB,IAjBAoJ,EAAApJ,EAAAtT,KAAA2jB,MAEA2K,EAAAtuB,KAAA0gB,MAAAhE,GACAsM,EAAA,GAMA3wB,EAJAib,IAAAtT,KAAAsT,GACAtT,KAAA4jB,aACA5jB,KAAA2jB,QAAA3jB,KAAA2c,QACA3c,KAAA0e,aACA1e,KAAA3H,EAEA,GAGA9C,EAAAyK,KAAA6lB,QACA91B,EAAA,EAEcw+B,EAAAx+B,EAAWA,IAAA,CAkEzB,OAjEAuC,EAAAg8B,EAAAv+B,GAAA,GACAw3B,EAAA+G,EAAAv+B,GAAA,GAEAA,IAAAsI,IAAA/F,EAAA,IAEAA,IAAAiD,IACAA,IAAAyK,KAAA6lB,UACAmD,GAAA,WAEA12B,IAAA0N,KAAA6lB,UACA,KAAAvzB,EACA02B,GAAA,gDAEAA,GAAA,gBAEAwF,EAAA,IAAAl8B,EACAm8B,EAAAn8B,GAAA,MACAo8B,EAAAp8B,GAAA,GAGA,EAAAo8B,IACArS,EAAA6P,aACAlD,GAAA,gBAGA,EAAAyF,OAAA,IAIA,EAAAC,IACA1F,GAAA,qBAIA,EAAA0F,IACA1F,GAAA,iBAIA,EAAA0F,IACAF,EAAAl8B,GAAA,MACAm8B,EAAA,IAAAn8B,EAGA,EAAAo8B,GAAA,EAAAD,OAAA,IAIA,GAAAC,IACA1F,GAAA,kBAGA,MAAAwF,IACAxF,GAAA,mBAAAwF,EAAA,KAGA,MAAAC,IACAzF,GAAA,gBAAAyF,EAAA,KAGAzF,GAAA,QAKAzB,GACA,QACAyB,GAAA,OACA,MACA,SACAA,GAAA,MACA,MACA,SACAA,GAAA,MACA,MACA,SACA,KAAAzB,EACAyB,GAAA,UAEA1B,EAAAC,IAAAx3B,IACAi5B,GAAAzB,GAKAhyB,EAAAjD,EAGAiD,IAAAyK,KAAA6lB,UACAmD,GAAA,WAGAhpB,KAAAqlB,SAAA/R,GAAAwT,UAAAkC,EAGAzF,GACAA,EAAAwD,YAAA/mB,KAAAzC,SAMAoxB,EAAA9M,QACA7hB,KAAAwoB,KAAA,WAA4BjrB,QAAAyC,KAAAzC,QAAAyK,QAAAkT,SAG5BmB,EAAAzc,UAAAgvB,aAAA,WACAvS,EAAAwF,QAAA7hB,OACAA,KAAA4jB,aAAA,EACA5jB,KAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,KAGA+I,EAAAzc,UAAAmqB,WAAA,WACA/pB,KAAA4jB,cACA5jB,KAAA4jB,YAAA,EACA5jB,KAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,KAOA+I,EAAAzc,UAAA+rB,WAAA,WACA,GAAA3rB,KAAAupB,YAAA,CACA,GAAAhhB,GAAAvI,IACAA,MAAA6uB,SAAA,WACAtmB,EAAAqmB,gBAEA5uB,KAAA8uB,OAAA/2B,EAAAiI,KAAA6uB,SAAA,OAGAxS,EAAAzc,UAAAmvB,aAAA,WACA/uB,KAAAupB,cACAvxB,cAAAgI,KAAA8uB,QACA9uB,KAAA8uB,OAAA/2B,EAAAiI,KAAA6uB,SAAA,OAGAxS,EAAAzc,UAAAovB,OAAA,WACA,GAAAtS,KAEA1c,KAAA2c,QAAA3c,KAAA0pB,aACA1pB,KAAA2c,MAAA3c,KAAA2c,MAAA,IACA3c,KAAA0gB,MAAA1gB,KAAA0gB,MAAAtqB,QAAA4J,KAAA2c,MAAA3c,KAAAue,MAAA,IAGAve,KAAA2jB,MAAA3jB,KAAA2c,MAGAD,EAAA1c,KAAA2c,MAAA3c,KAAAue,KAAA,EAGA7B,GAAA1c,KAAAue,KAAA,EAAAve,KAAAgkB,aAEAtH,IAAA1c,KAAA0gB,MAAA/wB,OAKAqQ,KAAA0gB,MAAA1mB,KAAAgG,KAAAkmB,aAGAlmB,KAAA0gB,MAAAxkB,OAAAwgB,EAAA,EAAA1c,KAAAkmB,aAGA,IAAAlmB,KAAA+jB,YACA,IAAA/jB,KAAA2c,QACA3c,KAAA2c,QACA3c,KAAA2jB,MAAA3jB,KAAA2c,OAEA3c,KAAA0gB,MAAAxkB,OAAA8D,KAAA2c,MAAA3c,KAAA+jB,UAAA,IAIA/jB,KAAAivB,YAAAjvB,KAAA+jB,WACA/jB,KAAAivB,YAAAjvB,KAAAgkB,eAGA3H,EAAAzc,UAAAwuB,WAAA,SAAAc,GACAlvB,KAAA2jB,OAAAuL,EAEAlvB,KAAA2jB,MAAA3jB,KAAA2c,MACA3c,KAAA2jB,MAAA3jB,KAAA2c,MACO3c,KAAA2jB,MAAA,IACP3jB,KAAA2jB,MAAA,GAGA3jB,KAAAiqB,QAAA,EAAAjqB,KAAAue,KAAA,IAGAlC,EAAAzc,UAAA0hB,MAAA,SAAAhvB,GACA,GAAA2J,GAAAkzB,EAAA5H,EAAAtlB,EAAA3P,EAAA3C,OAAAI,EAAA,CAUA,KARAiQ,KAAAslB,aAAAtlB,KAAAsT,EACAtT,KAAAulB,WAAAvlB,KAAAsT,EAEAtT,KAAA2c,QAAA3c,KAAA2jB,QACA3jB,KAAA2jB,MAAA3jB,KAAA2c,MACA3c,KAAAovB,YAGYntB,EAAAlS,EAAOA,IAEnB,OADAw3B,EAAAj1B,EAAAvC,GACAiQ,KAAA8jB,OACA,IAAAQ,GACA,OAAAiD,GACA,QACAvnB,KAAAqvB,MACA,MAGA,UACA,WACA,SACArvB,KAAA6jB,aACA7jB,KAAA3H,EAAA,GAEA2H,KAAAsT,IACAtT,KAAAsT,EAAAtT,KAAAgkB,eACAhkB,KAAAsT,IACAtT,KAAAgvB,SAEA,MAGA,UACAhvB,KAAA3H,EAAA,CACA,MAGA,UACA2H,KAAA3H,EAAA,GACA2H,KAAA3H,GAEA,MAGA,SACA2H,KAAA3H,EAAA2H,KAAAsvB,UACA,MAGA,SACAtvB,KAAAuvB,UAAA,EACA,MAGA,SACAvvB,KAAAuvB,UAAA,EACA,MAGA,SACAvvB,KAAA8jB,MAAA2E,CACA,MAEA,SAEA,GAAAlB,GAAA,MACAvnB,KAAAukB,SAAAvkB,KAAAukB,QAAAgD,KACAA,EAAAvnB,KAAAukB,QAAAgD,IAGAvnB,KAAA3H,GAAA2H,KAAAwe,OACAxe,KAAA3H,EAAA,EACA2H,KAAAsT,IACAtT,KAAAsT,EAAAtT,KAAAgkB,eACAhkB,KAAAsT,IACAtT,KAAAgvB,WAIAhvB,KAAA0gB,MAAA1gB,KAAAsT,EAAAtT,KAAA2c,OAAA3c,KAAA3H,IAAA2H,KAAA8lB,QAAAyB,GACAvnB,KAAA3H,IACA2H,KAAAivB,YAAAjvB,KAAAsT,GAEAgU,EAAAC,IAAA,CAEA,GADAtrB,EAAA+D,KAAAsT,EAAAtT,KAAA2c,MACA3c,KAAAwe,KAAA,GAAAxe,KAAA3H,GAAA2H,KAAAwe,KAAA,CACAxe,KAAA0gB,MAAAzkB,GAAA+D,KAAA3H,EAAA,IAAA2H,KAAA8lB,QAAA,IACA,OAEA9lB,KAAA0gB,MAAAzkB,GAAA+D,KAAA3H,IAAA2H,KAAA8lB,QAAA,KACA9lB,KAAA3H,KAKA,KACA,KAAAowB,GACA,OAAAlB,GAEA,QACAvnB,KAAA+lB,UACA/lB,KAAAgmB,aAAA,EACAhmB,KAAA8jB,MAAA4E,CACA,MAGA,SACA1oB,KAAA+lB,UACA/lB,KAAAgmB,aAAA,EACAhmB,KAAA8jB,MAAA6E,CACA,MAGA,SACA3oB,KAAA+lB,UACA/lB,KAAAgmB,aAAA,EACAhmB,KAAA8jB,MAAA8E,CACA,MAGA,SACA5oB,KAAA8jB,MAAA+E,CACA,MAGA,SACA7oB,KAAA8jB,MAAA+E,CACA,MAGA,SACA7oB,KAAAwvB,OACA,MAIA,SACAxvB,KAAA3H,EAAA,CAEA,SACA2H,KAAA3B,OACA,MAGA,SACA2B,KAAAyvB,cACA,MAIA,SAEAzvB,KAAAuvB,UAAA,GACAvvB,KAAA0vB,YAAA,EAAArT,EAAAqI,SAAAiL,IACA3vB,KAAA8jB,MAAAQ,EACAv0B,GACA,MAGA,SACA,QACA,QACA,QACA,QACA,QACA,OAAAw3B,GACA,QACAvnB,KAAAwkB,SAAA,CACA,MACA,SACAxkB,KAAAwkB,SAAA,CACA,MACA,SACAxkB,KAAAwkB,SAAA,CACA,MACA,SACAxkB,KAAAwkB,SAAA,CACA,MACA,SACAxkB,KAAAwkB,SAAA,CACA,MACA,SACAxkB,KAAAwkB,SAAA,EAGAxkB,KAAA8jB,MAAAS,CACA,MAKA,SACAvkB,KAAAwkB,SAAA,EACAxkB,KAAA8jB,MAAAS,EACAx0B,GACA,MAKA,SACA,KAIA,SACA,KAGA,SACAiQ,KAAAuvB,UAAA,EACA,MAGA,SACAvvB,KAAAuvB,UAAA,EACA,MAGA,SACAvvB,KAAAuvB,UAAA,EACA,MAGA,SACAvvB,KAAAuvB,UAAA,EACA,MAGA,SACAvvB,KAAAuvB,UAAA,EACA,MAGA,SACAvvB,KAAA4vB,aACA5vB,KAAA8jB,MAAAQ,CACA,MAGA,SACAtkB,KAAA6vB,gBACA7vB,KAAA8jB,MAAAQ,CACA,MAGA,SACAtkB,KAAA8jB,MAAAQ,EACAv0B,GACA,MAGA,SACAiQ,KAAA8vB,QACA,MAGA,SACA9vB,KAAAob,IAAA,6CACApb,KAAAikB,mBAAA,EACAjkB,KAAA8jB,MAAAQ,CACA,MAGA,SACAtkB,KAAAob,IAAA,oCACApb,KAAAikB,mBAAA,EACAjkB,KAAA8jB,MAAAQ,CACA,MAEA,SACAtkB,KAAA8jB,MAAAQ,EACAtkB,KAAA3R,MAAA,2BAAAk5B,GAGA,KAEA,KAAAhD,GACA,OAAAgD,GACA,QACA4H,EAAA9S,EAAAqI,SAAAqL,IACA,MACA,SACAZ,EAAA9S,EAAAqI,SAAAsL,EACA,MACA,SACAb,EAAA9S,EAAAqI,SAAAiL,EACA,MACA,SACAR,EAAA9S,EAAAqI,SAAAuL,KACA,MACA,SACA,QACAd,EAAA9S,EAAAqI,SAAAwL,OACA,MACA,SACAf,EAAA9S,EAAAqI,SAAAyL,MACA,MACA,SACAhB,EAAA9S,EAAAqI,SAAA0L,cACA,MACA,SACAjB,EAAA9S,EAAAqI,SAAA2L,MACA,MACA,SACAlB,EAAA9S,EAAAqI,SAAA4L,OACA,MACA,SACA,QACAnB,EAAA9S,EAAAqI,SAAA6L,eACA,MACA,SACApB,EAAA9S,EAAAqI,SAAA8L,OACA,MACA,SACA,QACArB,EAAA9S,EAAAqI,SAAA+L,OACA,MACA,SACAtB,EAAA9S,EAAAqI,SAAAgM,KACA,MACA,SACAvB,EAAA9S,EAAAqI,SAAAiM,SACA5gC,GACA,MACA,SACAo/B,EAAA9S,EAAAqI,SAAAiL,GAGA3vB,KAAA0vB,YAAA1vB,KAAAwkB,SAAA2K,GACAnvB,KAAAwkB,SAAA,KACAxkB,KAAA8jB,MAAAQ,CACA,MAEA,KAAAqE,GAIA,SAAApB,GAAA,MAAAA,EAAA,CAKA,OAJA,MAAAA,GAAAx3B,IAEAiQ,KAAA+lB,OAAA/rB,KAAAgG,KAAAgmB,cAEAhmB,KAAA+lB,OAAA,IACA,OACA,OACA,OACA/lB,KAAA+lB,OAAA,KACA/lB,KAAA4wB,MAAA5wB,KAAA+lB,OAAA,GACA/lB,KAAA6wB,YAAA7wB,KAAA4wB,OAEA,MACA,QAEA,KACA,QACA,OAEA,KACA,SACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAEA,KACA,SAEA,KACA,SAEA,KACA,SAEA,KACA,SAEA,KACA,UACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAKA5wB,KAAA+lB,UACA/lB,KAAAgmB,aAAA,EACAhmB,KAAA8jB,MAAAQ,MAEAtkB,MAAA+lB,OAAAp2B,OASAqQ,KAAAgmB,cAAAuB,EARAA,GAAA,UAAAA,EACAvnB,KAAAgmB,aACA,GAAAhmB,KAAAgmB,aAAAuB,EAAAuJ,WAAA,MACiB,MAAAvJ,IACjBvnB,KAAA+lB,OAAA/rB,KAAAgG,KAAAgmB,cACAhmB,KAAAgmB,aAAA,GAMA,MAEA,KAAA0C,GAEA,SAAAnB,GAAA,MAAAA,GAAA,MAAAA,EAAA,CACAvnB,KAAA9H,OAAAqvB,CACA,OAIA,GAAAA,GAAA,UAAAA,EAAA,CACAvnB,KAAAgmB,aAAA,GAAAhmB,KAAAgmB,aAAAuB,EAAAuJ,WAAA,KACA,OAIA,SAAAvJ,GAAA,MAAAA,GAAA,MAAAA,GAAA,MAAAA,EAAA,CACAvnB,KAAAimB,QAAAsB,CACA,OAOA,GAJAvnB,KAAA+lB,OAAA/rB,KAAAgG,KAAAgmB,cACAhmB,KAAAgmB,aAAA,EAGA,MAAAuB,EAAyB,KAIzB,QAFAvnB,KAAA8jB,MAAAQ,EAEAiD,GAGA,QACAvnB,KAAA+wB,SAAA/wB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAgxB,WAAAhxB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAixB,cAAAjxB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAkxB,eAAAlxB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAmxB,UAAAnxB,KAAA+lB,OACA,MAGA,SACA/lB,KAAAoxB,eAAApxB,KAAA+lB,OACA,MAGA,SACA/lB,KAAAqxB,YAAArxB,KAAA+lB,OACA,MAGA,SACA/lB,KAAA9H,QACA8H,KAAAsxB,eAAAtxB,KAAA+lB,OAEA,MAGA,SACA/lB,KAAA9H,QACA8H,KAAAuxB,aAAAvxB,KAAA+lB,OAEA,MAQA,SACA/lB,KAAAwxB,YAAAxxB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAyxB,eAAAzxB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA0xB,oBAAA1xB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA2xB,mBAAA3xB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA4xB,YAAA5xB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA6xB,YAAA7xB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA8xB,YAAA9xB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA+xB,WAAA/xB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAgyB,gBAAAhyB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAiyB,kBAAAjyB,KAAA+lB,OACA,MAMA,SACA/lB,KAAAkyB,qBAAAlyB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAmyB,gBAAAnyB,KAAA+lB,OACA,MAGA,SACA/lB,KAAAoyB,kBAAApyB,KAAA+lB,OACA,MAKA,SACA/lB,KAAAqyB,WAAAryB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAsyB,QAAAtyB,KAAA+lB,OACA,MAIA,SACA/lB,KAAAuyB,UAAAvyB,KAAA+lB,OACA,MAMA,SACA/lB,KAAAwyB,gBAAAxyB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA4vB,WAAA5vB,KAAA+lB,OACA,MAIA,SACA/lB,KAAA6vB,cAAA7vB,KAAA+lB,OACA,MAQA,SACA/lB,KAAAyyB,iBAAAzyB,KAAA+lB,OACA,MAGA,SACA/lB,KAAA0yB,SAAA1yB,KAAA+lB,OACA,MAKA,SASA/lB,KAAA+lB,OAAAp2B,OAAA,IAAAqQ,KAAA9H,QACA8H,KAAA2yB,WAAA3yB,KAAA+lB,OAEA,MAIA,SACA/lB,KAAA4yB,kBAAA5yB,KAAA+lB,OACA,MAGA,SACA/lB,KAAA6yB,yBAAA7yB,KAAA+lB,OACA,MAGA,SACA/lB,KAAA8yB,SAAA9yB,KAAA+lB,OACA,MAmCA,SACA,OAAA/lB,KAAA9H,QAIA,QACA8H,KAAA+yB,UAAA/yB,KAAA+lB,QAeA,KA2IA,SACA/lB,KAAA3R,MAAA,wBAAAk5B,GAIAvnB,KAAA9H,OAAA,GACA8H,KAAAimB,QAAA,EACA,MAEA,KAAA2C,GACA,SAAArB,GAAA,MAAAA,EAAA,CAGA,OAFA,MAAAA,GAAAx3B,IAEAiQ,KAAA9H,QAEA,OACA,KAIA,UACA,GAAA86B,GAAAhzB,KAAAgmB,aACAiN,GAAA,CAEA,QAAAD,GAEA,SACAA,EAAA,KACA,MAGA,UACAA,EAAA,MACA,MAGA,SACAA,EAAA,IACAhzB,KAAA+jB,UAAA,GACA,KACA/jB,KAAAgkB,aAAA,GACA,GACA,MAGA,SACAgP,EAAA,IACA,MAEA,SACAhzB,KAAA3R,MAAA,sBAAA2kC,GACAA,EAAA,GAIAhzB,KAAAnK,KAAA,OAAAo9B,EAAA,KAAAD,EAAA,MACA,MAGA,UACA,KAMA,UACA,GAAAA,GAAAhzB,KAAAgmB,aACAiN,GAAA,CAEAjzB,MAAAnK,KAAA,OAAAo9B,EAAA,KAAAD,EAAA,MACA,MAEA,SACAhzB,KAAA3R,MAAA,0BAAA2R,KAAA9H,QAIA8H,KAAAgmB,aAAA,EACAhmB,KAAA9H,OAAA,GACA8H,KAAA8jB,MAAAQ,MACatkB,MAAAgmB,aASbhmB,KAAAgmB,cAAAuB,EARAvnB,KAAA9H,QAAA,MAAAqvB,GAAA,MAAAA,EAEe,IAAAvnB,KAAA9H,OAAAvI,OACfqQ,KAAAgmB,aAAAuB,EAEAvnB,KAAA9H,QAAAqvB,EAJAvnB,KAAAgmB,aAAAuB,CASA,MAEA,KAAAsB,GAEA,MAAAtB,GAAA,MAAAA,IACA,MAAAA,GAAAx3B,IACAiQ,KAAA8jB,MAAAQ,GAMAtkB,KAAAivB,YAAAjvB,KAAAsT,GACAtT,KAAAiqB,QAAAjqB,KAAAslB,aAAAtlB,KAAAulB,aAGAlJ,EAAAzc,UAAAszB,QAAA,SAAA5gC,GACA0N,KAAAshB,MAAAhvB,EAAA,SAKA+pB,EAAAzc,UAAA4qB,QAAA,SAAAl7B,GACA,GAAA4S,EAEA,QAAA5S,EAAAqvB,SAEA,OACA,GAAArvB,EAAA+9B,SAAA,CACAnrB,EAAA,IACA,OAEAA,EAAA,GACA,MAEA,QACA,GAAA5S,EAAA+9B,SAAA,CACAnrB,EAAA,KACA,OAEAA,EAAA,IACAlC,KAAAmjB,OAAA7zB,GAAA,EACA,MAEA,SACA4S,EAAA,KACAlC,KAAAmjB,OAAA7zB,GAAA,EACA,MAEA,SACA4S,EAAA,IACAlC,KAAAmjB,OAAA7zB,GAAA,EACA,MAEA,SACA,GAAAA,EAAAmwB,OAAA,CACAzf,KAAAmjB,OAAA7zB,GAAA,GACA4S,EAAA,IACA,OACW,GAAAlC,KAAAkkB,kBAAA,CACXhiB,EAAA,KACA,OAEAA,EAAA,KACA,MAEA,SACA,GAAA5S,EAAAmwB,OAAA,CACAzf,KAAAmjB,OAAA7zB,GAAA,GACA4S,EAAA,IACA,OACW,GAAAlC,KAAAkkB,kBAAA,CACXhiB,EAAA,KACA,OAEAA,EAAA,KACA,MAEA,SACA,GAAAlC,KAAAkkB,kBAAA,CACAhiB,EAAA,KACA,OAEA,GAAA5S,EAAAuvB,QAEA,MADA7e,MAAAouB,WAAA,IACApuB,KAAAmjB,OAAA7zB,EAEA4S,GAAA,KAEA,MAEA,SACA,GAAAlC,KAAAkkB,kBAAA,CACAhiB,EAAA,KACA,OAEA,GAAA5S,EAAAuvB,QAEA,MADA7e,MAAAouB,WAAA,GACApuB,KAAAmjB,OAAA7zB,EAEA4S,GAAA,KAEA,MAEA,SACAA,EAAA,MACA,MAEA,SACAA,EAAA,MACA,MAEA,SACA,GAAAlC,KAAAikB,kBAAA,CACA/hB,EAAA,KACA,OAEAA,EAAA,KACA,MAEA,SACA,GAAAlC,KAAAikB,kBAAA,CACA/hB,EAAA,KACA,OAEAA,EAAA,KACA,MAEA,SACA,GAAA5S,EAAA+9B,SAEA,MADArtB,MAAAouB,aAAApuB,KAAAue,KAAA,IACAve,KAAAmjB,OAAA7zB,EAEA4S,GAAA,MAEA,MAEA,SACA,GAAA5S,EAAA+9B,SAEA,MADArtB,MAAAouB,WAAApuB,KAAAue,KAAA,GACAve,KAAAmjB,OAAA7zB,EAEA4S,GAAA,MAEA,MAEA,UACAA,EAAA,KACA,MAEA,UACAA,EAAA,KACA,MAEA,UACAA,EAAA,KACA,MAEA,UACAA,EAAA,KACA,MAEA,UACAA,EAAA,OACA,MAEA,UACAA,EAAA,OACA,MAEA,UACAA,EAAA,OACA,MAEA,UACAA,EAAA,OACA,MAEA,UACAA,EAAA,OACA,MAEA,UACAA,EAAA,OACA,MAEA,UACAA,EAAA,OACA,MAEA,UACAA,EAAA,OACA,MACA,UAEA5S,EAAAuvB,SAAAvvB,EAAA+9B,UAAA/9B,EAAAmwB,QAAAnwB,EAAAg+B,UAmBWttB,KAAAgrB,OAAA17B,EAAAmwB,QAAAzf,KAAAgrB,OAAA17B,EAAAg+B,WACXh+B,EAAAqvB,SAAA,IAAArvB,EAAAqvB,SAAA,GACAzc,EAAA,IAAAyJ,EAAAkhB,aAAAv9B,EAAAqvB,QAAA,IACa,MAAArvB,EAAAqvB,QACbzc,EAAA,KACa5S,EAAAqvB,SAAA,IAAArvB,EAAAqvB,SAAA,KACbzc,EAAA,KAAA5S,EAAAqvB,QAAA,MAxBArvB,EAAAqvB,SAAA,IAAArvB,EAAAqvB,SAAA,GACAzc,EAAAyJ,EAAAkhB,aAAAv9B,EAAAqvB,QAAA,IACa,KAAArvB,EAAAqvB,QAEbzc,EAAAyJ,EAAAkhB,aAAA,GACav9B,EAAAqvB,SAAA,IAAArvB,EAAAqvB,SAAA,GAEbzc,EAAAyJ,EAAAkhB,aAAAv9B,EAAAqvB,QAAA,OACa,KAAArvB,EAAAqvB,QAEbzc,EAAAyJ,EAAAkhB,aAAA,KACa,MAAAv9B,EAAAqvB,QAEbzc,EAAAyJ,EAAAkhB,aAAA,IACa,MAAAv9B,EAAAqvB,UAEbzc,EAAAyJ,EAAAkhB,aAAA,KAcA,OAAA3qB,GAAAlC,KAAAgrB,OAAA17B,EAAAg+B,SACA,GAGAttB,KAAAwoB,KAAA,UAAAl5B,GACA0Q,KAAAwoB,KAAA,MAAAtmB,EAAA5S,GACA0Q,KAAA+pB,aACA/pB,KAAAojB,QAAAlhB,GAEAlC,KAAAmjB,OAAA7zB,KAGA+sB,EAAAzc,UAAA2vB,UAAA,SAAAtG,GACAjpB,KAAAykB,OAAAwE,EACAjpB,KAAAukB,QAAAvkB,KAAA0kB,SAAAuE,IAGA5M,EAAAzc,UAAA8vB,YAAA,SAAAzG,EAAA1E,GACAvkB,KAAA0kB,SAAAuE,GAAA1E,EACAvkB,KAAAykB,SAAAwE,IACAjpB,KAAAukB,YAIAlI,EAAAzc,UAAA6qB,SAAA,SAAAn7B,GACA,GAAA4S,EAIA,IAFAlC,KAAAmjB,OAAA7zB,GAEAA,EAAA6jC,SACAjxB,EAAA5S,EAAA6jC,aACO,UAAA7jC,EAAA49B,MACPhrB,EAAA5S,EAAAqvB,YACO,QAAArvB,EAAA49B,OAAA,IAAA59B,EAAA6jC,SAGP,QAFAjxB,GAAA5S,EAAA49B,MAKA,OAAAhrB,GAAA5S,EAAAuvB,SAAAvvB,EAAAmwB,QAAAnwB,EAAAg+B,SACA,GAGAprB,EAAAyJ,EAAAkhB,aAAA3qB,GAEAlC,KAAAwoB,KAAA,WAAAtmB,EAAA5S,GACA0Q,KAAAwoB,KAAA,MAAAtmB,EAAA5S,GACA0Q,KAAA+pB,aACA/pB,KAAAojB,QAAAlhB,IAEA,IAGAma,EAAAzc,UAAA/J,KAAA,SAAAvD,GACA,GAAAiW,GAAAvI,IAEAA,MAAA0a,OACApR,EAAA,WACAf,EAAA6a,QAAA7a,EAAAmS,OACAnS,EAAAmS,MAAA,IACS,GAGT1a,KAAA0a,OAAApoB,GAGA+pB,EAAAzc,UAAAyvB,KAAA,WACA,GAAArvB,KAAAwpB,WAAA,CACA,GAAAjhB,GAAAvI,IACAA,MAAAzC,QAAA2pB,MAAAkM,YAAA,QACA9pB,EAAA,WACAf,EAAAhL,QAAA2pB,MAAAkM,YAAA,IACO,IACPpzB,KAAAypB,WAAAzpB,KAAA6hB,UAGAxF,EAAAzc,UAAAwb,IAAA,WACA,GAAApb,KAAA4pB,OACA5pB,KAAAzB,QAAA7G,SAAAsI,KAAAzB,QAAA7G,QAAA0jB,IAAA,CACA,GAAAjhB,GAAAiC,MAAAwD,UAAAxJ,MAAA3I,KAAAiR,UACAsB,MAAAzB,QAAA7G,QAAA0jB,IAAA7Z,MAAAvB,KAAAzB,QAAA7G,QAAAyC,KAGAkiB,EAAAzc,UAAAvR,MAAA,WACA,GAAA2R,KAAA4pB,OACA5pB,KAAAzB,QAAA7G,SAAAsI,KAAAzB,QAAA7G,QAAArJ,MAAA,CACA,GAAA8L,GAAAiC,MAAAwD,UAAAxJ,MAAA3I,KAAAiR,UACAsB,MAAAzB,QAAA7G,QAAArJ,MAAAkT,MAAAvB,KAAAzB,QAAA7G,QAAAyC,KAGAkiB,EAAAzc,UAAAyzB,OAAA,SAAAh7B,EAAAib,GACA,GACA+S,GACAt2B,EACAkM,EACAsrB,CAOA,IALA,EAAAlvB,MAAA,GACA,EAAAib,MAAA,GAGArX,EAAA+D,KAAAwe,KACAnmB,EAAA4D,EAGA,IAFAsrB,GAAAvnB,KAAA6lB,QAAA,KACA91B,EAAAiQ,KAAA0gB,MAAA/wB,OACAI,KACA,KAAAiQ,KAAA0gB,MAAA3wB,GAAAJ,OAAA0I,GACA2H,KAAA0gB,MAAA3wB,GAAAiK,KAAAutB,OAGO,IAAAtrB,EAAA5D,EAEP,IADAtI,EAAAiQ,KAAA0gB,MAAA/wB,OACAI,KACA,KAAAiQ,KAAA0gB,MAAA3wB,GAAAJ,OAAA0I,GACA2H,KAAA0gB,MAAA3wB,GAAA0c,KASA,IALAzM,KAAAomB,WAAAnqB,GACA+D,KAAAwe,KAAAnmB,EAGA4D,EAAA+D,KAAAue,KACAjL,EAAArX,EAEA,IADAoqB,EAAArmB,KAAAzC,QACAtB,IAAAqX,GACAtT,KAAA0gB,MAAA/wB,OAAA2jB,EAAAtT,KAAA2c,OACA3c,KAAA0gB,MAAA1mB,KAAAgG,KAAAkmB,aAEAlmB,KAAAqlB,SAAA11B,OAAA2jB,GACAtT,KAAA0qB,gBAGO,IAAAzuB,EAAAqX,EACP,KAAArX,KAAAqX,GAIA,GAHAtT,KAAA0gB,MAAA/wB,OAAA2jB,EAAAtT,KAAA2c,OACA3c,KAAA0gB,MAAAoM,QAEA9sB,KAAAqlB,SAAA11B,OAAA2jB,EAAA,CAEA,GADA+S,EAAArmB,KAAAqlB,SAAAyH,SACAzG,EAAA,QACAA,GAAAyH,WAAAzG,YAAAhB,GAIArmB,KAAAue,KAAAjL,EAKAtT,KAAAsT,OACAtT,KAAAsT,IAAA,GAGAtT,KAAA3H,OACA2H,KAAA3H,IAAA,GAGA2H,KAAA+jB,UAAA,EACA/jB,KAAAgkB,aAAA1Q,EAAA,EAEAtT,KAAAiqB,QAAA,EAAAjqB,KAAAue,KAAA,GAEAve,KAAAskB,OAAA,KAEAtkB,KAAAwoB,KAAA,UAA2Bn5B,SAAA2Q,KAAAwe,KAAAnmB,EAAAkmB,KAAAjL,KAG3B+I,EAAAzc,UAAAqvB,YAAA,SAAA3b,GACAA,EAAAtT,KAAAslB,eAAAtlB,KAAAslB,aAAAhS,GACAA,EAAAtT,KAAAulB,aAAAvlB,KAAAulB,WAAAjS,IASA+I,EAAAzc,UAAAwvB,SAAA,WACApvB,KAAAslB,aAAA,EACAtlB,KAAAulB,WAAAvlB,KAAAue,KAAA,GAGAlC,EAAAzc,UAAAwmB,WAAA,SAAAr2B,GAUA,IATA,MAAAA,EACAiQ,KAAAmmB,KAAAp2B,KACAA,EAAAiQ,KAAAszB,SAAAvjC,KAGAiQ,KAAAmmB,QACAp2B,EAAA,GAGYA,EAAAiQ,KAAAwe,KAAezuB,GAAA,EAC3BiQ,KAAAmmB,KAAAp2B,IAAA,GAIAssB,EAAAzc,UAAA0zB,SAAA,SAAAj7B,GAEA,IADA,MAAAA,MAAA2H,KAAA3H,IACA2H,KAAAmmB,OAAA9tB,MAAA,IACA,MAAAA,IAAA2H,KAAAwe,KACAxe,KAAAwe,KAAA,EACA,EAAAnmB,EAAA,EAAAA,GAGAgkB,EAAAzc,UAAA0vB,SAAA,SAAAj3B,GAEA,IADA,MAAAA,MAAA2H,KAAA3H,IACA2H,KAAAmmB,OAAA9tB,MAAA2H,KAAAwe,OACA,MAAAnmB,IAAA2H,KAAAwe,KACAxe,KAAAwe,KAAA,EACA,EAAAnmB,EAAA,EAAAA,GAGAgkB,EAAAzc,UAAA2zB,WAAA,SAAAl7B,EAAAib,GAKA,IAJA,GAAAgb,GAAAtuB,KAAA0gB,MAAA1gB,KAAA2c,MAAArJ,GACAiU,GAAAvnB,KAAA8oB,YAAA,KAGYzwB,EAAA2H,KAAAwe,KAAenmB,IAC3Bi2B,EAAAj2B,GAAAkvB,CAGAvnB,MAAAivB,YAAA3b,IAGA+I,EAAAzc,UAAA4zB,UAAA,SAAAn7B,EAAAib,GACA,GAAAgb,GAAAtuB,KAAA0gB,MAAA1gB,KAAA2c,MAAArJ,GACAiU,GAAAvnB,KAAA8oB,YAAA,IAGA,KADAzwB,IACAA,KAAAi2B,EAAAj2B,GAAAkvB,CAEAvnB,MAAAivB,YAAA3b,IAGA+I,EAAAzc,UAAA6zB,UAAA,SAAAngB,GACAtT,KAAAuzB,WAAA,EAAAjgB,IAGA+I,EAAAzc,UAAAsmB,UAAA,SAAAwN,GASA,IARA,GAAAn+B,GAAAm+B,EACA1zB,KAAA8oB,YACA9oB,KAAA6lB,QAEA0B,GAAAhyB,EAAA,KACA+4B,KACAv+B,EAAA,EAEYA,EAAAiQ,KAAAwe,KAAezuB,IAC3Bu+B,EAAAv+B,GAAAw3B,CAGA,OAAA+G,IAGAjS,EAAAzc,UAAA2nB,GAAA,SAAAmM,GACA,MAAAA,IACA1zB,KAAA8oB,YAAA,MACA9oB,KAAA6lB,QAAA,MAGAxJ,EAAAzc,UAAA+zB,GAAA,SAAAlX,GACA,GAAAjuB,GAAAwR,KAAAspB,QACA,aAAA96B,EAAA,IAAA6H,QAAAomB,IAGAJ,EAAAzc,UAAAwjB,QAAA,SAAA9wB,GACA0N,KAAAwoB,KAAA,OAAAl2B,IAGA+pB,EAAAzc,UAAAixB,YAAA,SAAAD,GACA5wB,KAAAwoB,KAAA,QAAAoI,IAQAvU,EAAAzc,UAAAvB,MAAA,WACA2B,KAAAsT,IACAtT,KAAAsT,EAAAtT,KAAAgkB,eACAhkB,KAAAsT,IACAtT,KAAAgvB,UAEAhvB,KAAA8jB,MAAAQ,GAIAjI,EAAAzc,UAAA6vB,aAAA,WACA,GAAAxzB,EACA+D,MAAAsT,IACAtT,KAAAsT,EAAAtT,KAAA+jB,YACA/jB,KAAAsT,IAIAtT,KAAA0gB,MAAAxkB,OAAA8D,KAAAsT,EAAAtT,KAAA2c,MAAA,EAAA3c,KAAAkmB,WAAA,IACAjqB,EAAA+D,KAAAue,KAAA,EAAAve,KAAAgkB,aACAhkB,KAAA0gB,MAAAxkB,OAAA8D,KAAAue,KAAA,EAAAve,KAAA2c,MAAA1gB,EAAA,KAEA+D,KAAAivB,YAAAjvB,KAAA+jB,WACA/jB,KAAAivB,YAAAjvB,KAAAgkB,eAEAhkB,KAAA8jB,MAAAQ,GAIAjI,EAAAzc,UAAA4vB,MAAA,WACAxvB,KAAAyJ,QAAA8U,KAAAve,KAAAue,KACAve,KAAAyJ,QAAA+U,KAAAxe,KAAAwe,KACAnC,EAAA5uB,KAAAuS,UAAAyJ,SACAzJ,KAAAiqB,QAAA,EAAAjqB,KAAAue,KAAA,IAIAlC,EAAAzc,UAAAkwB,OAAA,WACA9vB,KAAAmmB,KAAAnmB,KAAA3H,IAAA,EACA2H,KAAA8jB,MAAAQ,GASAjI,EAAAzc,UAAAmxB,SAAA,SAAAhL,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAAsT,GAAAsgB,EACA5zB,KAAAsT,EAAA,IAAAtT,KAAAsT,EAAA,IAKA+I,EAAAzc,UAAAoxB,WAAA,SAAAjL,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAAsT,GAAAsgB,EACA5zB,KAAAsT,GAAAtT,KAAAue,OACAve,KAAAsT,EAAAtT,KAAAue,KAAA,IAMAlC,EAAAzc,UAAAqxB,cAAA,SAAAlL,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAA3H,GAAAu7B,EACA5zB,KAAA3H,GAAA2H,KAAAwe,OACAxe,KAAA3H,EAAA2H,KAAAwe,KAAA,IAMAnC,EAAAzc,UAAAsxB,eAAA,SAAAnL,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAA3H,GAAAu7B,EACA5zB,KAAA3H,EAAA,IAAA2H,KAAA3H,EAAA,IAKAgkB,EAAAzc,UAAAuxB,UAAA,SAAApL,GACA,GAAArJ,GAAAhhB,CAEAghB,GAAAqJ,EAAA,KAGArqB,EADAqqB,EAAAp2B,QAAA,EACAo2B,EAAA,KAEA,EAGA,EAAArJ,EACAA,EAAA,EACOA,GAAA1c,KAAAue,OACP7B,EAAA1c,KAAAue,KAAA,GAGA,EAAA7iB,EACAA,EAAA,EACOA,GAAAsE,KAAAwe,OACP9iB,EAAAsE,KAAAwe,KAAA,GAGAxe,KAAA3H,EAAAqD,EACAsE,KAAAsT,EAAAoJ,GAaAL,EAAAzc,UAAAwxB,eAAA,SAAArL,GACA,GAAA9pB,EACA,QAAA8pB,EAAA,IACA,OAGA,IAFA/lB,KAAAuzB,WAAAvzB,KAAA3H,EAAA2H,KAAAsT,GACArX,EAAA+D,KAAAsT,EAAA,EACgBrX,EAAA+D,KAAAue,KAAetiB,IAC/B+D,KAAAyzB,UAAAx3B,EAEA,MACA,QAGA,IAFA+D,KAAAwzB,UAAAxzB,KAAA3H,EAAA2H,KAAAsT,GACArX,EAAA+D,KAAAsT,EACArX,KACA+D,KAAAyzB,UAAAx3B,EAEA,MACA,QAEA,IADAA,EAAA+D,KAAAue,KACAtiB,KAAA+D,KAAAyzB,UAAAx3B,EACA,MACA,WAeAogB,EAAAzc,UAAAyxB,YAAA,SAAAtL,GACA,OAAAA,EAAA,IACA,OACA/lB,KAAAuzB,WAAAvzB,KAAA3H,EAAA2H,KAAAsT,EACA,MACA,QACAtT,KAAAwzB,UAAAxzB,KAAA3H,EAAA2H,KAAAsT,EACA,MACA,QACAtT,KAAAyzB,UAAAzzB,KAAAsT,KAmEA+I,EAAAzc,UAAA0xB,eAAA,SAAAvL,GAEA,OAAAA,EAAAp2B,QAAA,IAAAo2B,EAAA,GAEA,YADA/lB,KAAA8lB,QAAA9lB,KAAA6lB,QAWA,KAPA,GAKAj4B,GALAqU,EAAA8jB,EAAAp2B,OACAI,EAAA,EACA2+B,EAAA1uB,KAAA8lB,SAAA,GACA2I,EAAAzuB,KAAA8lB,SAAA,MACA0I,EAAA,IAAAxuB,KAAA8lB,QAGY7jB,EAAAlS,EAAOA,IACnBnC,EAAAm4B,EAAAh2B,GACAnC,GAAA,QAAAA,EAEA6gC,EAAA7gC,EAAA,GACSA,GAAA,QAAAA,EAET4gC,EAAA5gC,EAAA,GACSA,GAAA,QAAAA,GAETA,GAAA,EACA6gC,EAAA7gC,EAAA,IACSA,GAAA,UAAAA,GAETA,GAAA,EACA4gC,EAAA5gC,EAAA,KACS,IAAAA,GAET8gC,EAAA1uB,KAAA6lB,SAAA,GACA4I,EAAAzuB,KAAA6lB,SAAA,MACA2I,EAAA,IAAAxuB,KAAA6lB,SAIS,IAAAj4B,EAET8gC,GAAA,EACS,IAAA9gC,EAET8gC,GAAA,EACS,IAAA9gC,EAET8gC,GAAA,EACS,IAAA9gC,EAGT8gC,GAAA,EACS,IAAA9gC,EAET8gC,GAAA,GACS,KAAA9gC,EAET8gC,GAAA,GACS,KAAA9gC,EAET8gC,GAAA,GACS,KAAA9gC,EAET8gC,GAAA,GACS,KAAA9gC,EAET8gC,GAAA,GACS,KAAA9gC,EAET8gC,GAAA,IACS,KAAA9gC,EAET6gC,EAAAzuB,KAAA6lB,SAAA,MACS,KAAAj4B,EAET4gC,EAAA,IAAAxuB,KAAA6lB,QACS,KAAAj4B,EAET,IAAAm4B,EAAAh2B,EAAA,IACAA,GAAA,EACA0+B,EAAAjH,EACA,IAAAzB,EAAAh2B,GACA,IAAAg2B,EAAAh2B,EAAA,GACA,IAAAg2B,EAAAh2B,EAAA,IACA,KAAA0+B,MAAA,KACA1+B,GAAA,GACW,IAAAg2B,EAAAh2B,EAAA,KACXA,GAAA,EACAnC,EAAA,IAAAm4B,EAAAh2B,GACA0+B,EAAA7gC,GAES,KAAAA,EAET,IAAAm4B,EAAAh2B,EAAA,IACAA,GAAA,EACAy+B,EAAAhH,EACA,IAAAzB,EAAAh2B,GACA,IAAAg2B,EAAAh2B,EAAA,GACA,IAAAg2B,EAAAh2B,EAAA,IACA,KAAAy+B,MAAA,KACAz+B,GAAA,GACW,IAAAg2B,EAAAh2B,EAAA,KACXA,GAAA,EACAnC,EAAA,IAAAm4B,EAAAh2B,GACAy+B,EAAA5gC,GAES,MAAAA,GAET6gC,EAAAzuB,KAAA6lB,SAAA,MACA2I,EAAA,IAAAxuB,KAAA6lB,SAEA7lB,KAAA3R,MAAA,6BAAAT,EAIAoS,MAAA8lB,QAAA4I,GAAA,GAAAD,GAAA,EAAAD,GAwBAnS,EAAAzc,UAAA2xB,aAAA,SAAAxL,GACA,GAAA/lB,KAAA9H,QAeO,SAAA8H,KAAA9H,OAGP,OAAA6tB,EAAA,IACA,OAEA/lB,KAAAnK,KAAA,OACAmK,KAAAsT,EAAA,GACA,KACAtT,KAAA3H,EAAA,GACA,IACA,MACA,SAGA,KACA,SAGA,KACA,SAGA,KACA,eAtCA,QAAA0tB,EAAA,IACA,OAEA/lB,KAAAnK,KAAA,OACA,MACA,QAEAmK,KAAAnK,KAAA,MACAmK,KAAAsT,EAAA,GACA,KACAtT,KAAA3H,EAAA,GACA,OAyCAgkB,EAAAzc,UAAA4xB,YAAA,SAAAzL,GACA,GAAA6N,GAAAlX,EAAAzgB,EAAAsrB,CASA,KAPAqM,EAAA7N,EAAA,GACA,EAAA6N,MAAA,GAEAlX,EAAA1c,KAAAsT,EAAAtT,KAAA2c,MACA1gB,EAAA+D,KAAA3H,EACAkvB,GAAAvnB,KAAA8oB,YAAA,KAEA8K,KAAA33B,EAAA+D,KAAAwe,MACAxe,KAAA0gB,MAAAhE,GAAAxgB,OAAAD,IAAA,EAAAsrB,GACAvnB,KAAA0gB,MAAAhE,GAAAjQ,OAOA4P,EAAAzc,UAAA6xB,eAAA,SAAA1L,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAAsT,GAAAsgB,EACA5zB,KAAAsT,GAAAtT,KAAAue,OACAve,KAAAsT,EAAAtT,KAAAue,KAAA,GAEAve,KAAA3H,EAAA,GAMAgkB,EAAAzc,UAAA8xB,oBAAA,SAAA3L,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAAsT,GAAAsgB,EACA5zB,KAAAsT,EAAA,IAAAtT,KAAAsT,EAAA,GACAtT,KAAA3H,EAAA,GAKAgkB,EAAAzc,UAAA+xB,mBAAA,SAAA5L,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAA3H,EAAAu7B,EAAA,GAKAvX,EAAAzc,UAAAgyB,YAAA,SAAA7L,GACA,GAAA6N,GAAAlX,EAAAzgB,CASA,KAPA23B,EAAA7N,EAAA,GACA,EAAA6N,MAAA,GACAlX,EAAA1c,KAAAsT,EAAAtT,KAAA2c,MAEA1gB,EAAA+D,KAAAue,KAAA,EAAAve,KAAAgkB,aACA/nB,EAAA+D,KAAAue,KAAA,EAAAve,KAAA2c,MAAA1gB,EAAA,EAEA23B,KAGA5zB,KAAA0gB,MAAAxkB,OAAAwgB,EAAA,EAAA1c,KAAAkmB,WAAA,IACAlmB,KAAA0gB,MAAAxkB,OAAAD,EAAA,EAIA+D,MAAAivB,YAAAjvB,KAAAsT,GACAtT,KAAAivB,YAAAjvB,KAAAgkB,eAKA3H,EAAAzc,UAAAiyB,YAAA,SAAA9L,GACA,GAAA6N,GAAAlX,EAAAzgB,CASA,KAPA23B,EAAA7N,EAAA,GACA,EAAA6N,MAAA,GACAlX,EAAA1c,KAAAsT,EAAAtT,KAAA2c,MAEA1gB,EAAA+D,KAAAue,KAAA,EAAAve,KAAAgkB,aACA/nB,EAAA+D,KAAAue,KAAA,EAAAve,KAAA2c,MAAA1gB,EAEA23B,KAGA5zB,KAAA0gB,MAAAxkB,OAAAD,EAAA,IAAA+D,KAAAkmB,WAAA,IACAlmB,KAAA0gB,MAAAxkB,OAAAwgB,EAAA,EAIA1c,MAAAivB,YAAAjvB,KAAAsT,GACAtT,KAAAivB,YAAAjvB,KAAAgkB,eAKA3H,EAAAzc,UAAAkyB,YAAA,SAAA/L,GACA,GAAA6N,GAAAlX,EAAA6K,CAQA,KANAqM,EAAA7N,EAAA,GACA,EAAA6N,MAAA,GAEAlX,EAAA1c,KAAAsT,EAAAtT,KAAA2c,MACA4K,GAAAvnB,KAAA8oB,YAAA,KAEA8K,KACA5zB,KAAA0gB,MAAAhE,GAAAxgB,OAAA8D,KAAA3H,EAAA,GACA2H,KAAA0gB,MAAAhE,GAAA1iB,KAAAutB,IAMAlL,EAAAzc,UAAAmyB,WAAA,SAAAhM,GACA,GAAA6N,GAAAlX,EAAAzgB,EAAAsrB,CASA,KAPAqM,EAAA7N,EAAA,GACA,EAAA6N,MAAA,GAEAlX,EAAA1c,KAAAsT,EAAAtT,KAAA2c,MACA1gB,EAAA+D,KAAA3H,EACAkvB,GAAAvnB,KAAA8oB,YAAA,KAEA8K,KAAA33B,EAAA+D,KAAAwe,MACAxe,KAAA0gB,MAAAhE,GAAAzgB,KAAAsrB,GAMAlL,EAAAzc,UAAAoyB,gBAAA,SAAAjM,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAA3H,EAAAu7B,EAAA,EACA5zB,KAAA3H,GAAA2H,KAAAwe,OACAxe,KAAA3H,EAAA2H,KAAAwe,KAAA,IAOAnC,EAAAzc,UAAAqyB,kBAAA,SAAAlM,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAA3H,GAAAu7B,EACA5zB,KAAA3H,GAAA2H,KAAAwe,OACAxe,KAAA3H,EAAA2H,KAAAwe,KAAA,IAuCAnC,EAAAzc,UAAAsyB,qBAAA,SAAAnM,GACAA,EAAA,OAEA/lB,KAAA9H,OAQO,MAAA8H,KAAA9H,SAIP8H,KAAA2zB,GAAA,SACA3zB,KAAAnK,KAAA,eACSmK,KAAA2zB,GAAA,gBACT3zB,KAAAnK,KAAA,eACSmK,KAAA2zB,GAAA,SAGT3zB,KAAAnK,KAAAkwB,EAAA,QACS/lB,KAAA2zB,GAAA,WACT3zB,KAAAnK,KAAA,mBApBAmK,KAAA2zB,GAAA,UACA3zB,KAAA2zB,GAAA,iBACA3zB,KAAA2zB,GAAA,UACA3zB,KAAAnK,KAAA,WACSmK,KAAA2zB,GAAA,UACT3zB,KAAAnK,KAAA,WAsBAwmB,EAAAzc,UAAAuyB,gBAAA,SAAApM,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAAsT,EAAAsgB,EAAA,EACA5zB,KAAAsT,GAAAtT,KAAAue,OACAve,KAAAsT,EAAAtT,KAAAue,KAAA,IAMAlC,EAAAzc,UAAAwyB,kBAAA,SAAArM,GACA,GAAA6N,GAAA7N,EAAA,EACA,GAAA6N,MAAA,GACA5zB,KAAAsT,GAAAsgB,EACA5zB,KAAAsT,GAAAtT,KAAAue,OACAve,KAAAsT,EAAAtT,KAAAue,KAAA,IAOAlC,EAAAzc,UAAAyyB,WAAA,SAAAtM,GACAA,EAAA,OAAAA,EAAA,MACAA,EAAA,OAAAA,EAAA,MAEA/lB,KAAAsT,EAAAyS,EAAA,KACA/lB,KAAAsT,GAAAtT,KAAAue,OACAve,KAAAsT,EAAAtT,KAAAue,KAAA,GAGAve,KAAA3H,EAAA0tB,EAAA,KACA/lB,KAAA3H,GAAA2H,KAAAwe,OACAxe,KAAA3H,EAAA2H,KAAAwe,KAAA,IAwFAnC,EAAAzc,UAAA0yB,QAAA,SAAAvM,GACA,mBAAAA,GAWA,GAAA/lB,KAAA9H,QASO,SAAA8H,KAAA9H,OACP,OAAA6tB,GACA,OACA/lB,KAAAkkB,mBAAA,CACA,MACA,QACAlkB,KAAA0vB,YAAA,EAAArT,EAAAqI,SAAAiL,IACA3vB,KAAA0vB,YAAA,EAAArT,EAAAqI,SAAAiL,IACA3vB,KAAA0vB,YAAA,EAAArT,EAAAqI,SAAAiL,IACA3vB,KAAA0vB,YAAA,EAAArT,EAAAqI,SAAAiL,GAEA,MACA,QACA3vB,KAAA0lB,UAAA1lB,KAAAwe,KACAxe,KAAAqzB,OAAA,IAAArzB,KAAAue,KACA,MACA,QACAve,KAAAmkB,YAAA,CACA,MACA,QACAnkB,KAAAqkB,gBAAA,CACA,MACA,SAEA,KACA,SACArkB,KAAAob,IAAA,6CACApb,KAAAikB,mBAAA,CACA,MACA,QAEA,SAGA,UACA,UAGAjkB,KAAA4kB,SAAA,IAAAmB,EACA/lB,KAAA6kB,WAAA,MAAAkB,EACA/lB,KAAA+kB,YAAAgB,EAAA,IACA/lB,KAAAglB,aAAA,EACAhlB,KAAAzC,QAAA2pB,MAAA2M,OAAA,UACA7zB,KAAAob,IAAA,2BACA,MACA,WAGApb,KAAAilB,WAAA,CACA,MACA,WACAjlB,KAAAklB,UAAA,CAGA,MACA,WACAllB,KAAAmlB,UAAA,CAKA,MACA,WACAnlB,KAAAolB,YAAA,CAKA,MACA,SACAplB,KAAA0e,cAAA,CACA,MACA,WAGA,QACA,UACA,IAAA1e,KAAAskB,OAAA,CACA,GAAAA,IACA5D,MAAA1gB,KAAA0gB,MACA/D,MAAA3c,KAAA2c,MACAgH,MAAA3jB,KAAA2jB,MACAtrB,EAAA2H,KAAA3H,EACAib,EAAAtT,KAAAsT,EACAyQ,UAAA/jB,KAAA+jB,UACAC,aAAAhkB,KAAAgkB,aACAmC,KAAAnmB,KAAAmmB,KAMAnmB,MAAAwvB,QACAxvB,KAAAskB,SACAtkB,KAAA+pB,mBAtGA,QAAAhE,GACA,OACA/lB,KAAAokB,YAAA,CACA,MACA,cAZA,KAHA,GAAAniB,GAAA8jB,EAAAp2B,OACAI,EAAA,EAEckS,EAAAlS,EAAOA,IACrBiQ,KAAAsyB,QAAAvM,EAAAh2B,KAoMAssB,EAAAzc,UAAA2yB,UAAA,SAAAxM,GACA,mBAAAA,GAWA,GAAA/lB,KAAA9H,QASO,SAAA8H,KAAA9H,OACP,OAAA6tB,GACA,OACA/lB,KAAAkkB,mBAAA,CACA,MACA,QACA,MAAAlkB,KAAAwe,MAAAxe,KAAA0lB,WACA1lB,KAAAqzB,OAAArzB,KAAA0lB,UAAA1lB,KAAAue,YAEAve,MAAA0lB,SACA,MACA,QACA1lB,KAAAmkB,YAAA,CACA,MACA,QACAnkB,KAAAqkB,gBAAA,CACA,MACA,SAEA,KACA,SACArkB,KAAAob,IAAA,oCACApb,KAAAikB,mBAAA,CACA,MACA,QACA,SACA,UACA,UACAjkB,KAAA4kB,UAAA,EACA5kB,KAAA6kB,YAAA,EACA7kB,KAAA+kB,aAAA,EACA/kB,KAAAglB,aAAA,EACAhlB,KAAAzC,QAAA2pB,MAAA2M,OAAA,EACA,MACA,WACA7zB,KAAAilB,WAAA,CACA,MACA,WACAjlB,KAAAklB,UAAA,CACA,MACA,WACAllB,KAAAmlB,UAAA,CACA,MACA,WACAnlB,KAAAolB,YAAA,CACA,MACA,SACAplB,KAAA0e,cAAA,CACA,MACA,WAEA,QACA,UACA1e,KAAAskB,SACAtkB,KAAA0gB,MAAA1gB,KAAAskB,OAAA5D,MACA1gB,KAAA2c,MAAA3c,KAAAskB,OAAA3H,MACA3c,KAAA2jB,MAAA3jB,KAAAskB,OAAAX,MACA3jB,KAAA3H,EAAA2H,KAAAskB,OAAAjsB,EACA2H,KAAAsT,EAAAtT,KAAAskB,OAAAhR,EACAtT,KAAA+jB,UAAA/jB,KAAAskB,OAAAP,UACA/jB,KAAAgkB,aAAAhkB,KAAAskB,OAAAN,aACAhkB,KAAAmmB,KAAAnmB,KAAAskB,OAAA6B,KACAnmB,KAAAskB,OAAA,KAKAtkB,KAAAiqB,QAAA,EAAAjqB,KAAAue,KAAA,GACAve,KAAA+pB,mBA5EA,QAAAhE,GACA,OACA/lB,KAAAokB,YAAA,CACA,MACA,cAZA,KAHA,GAAAniB,GAAA8jB,EAAAp2B,OACAI,EAAA,EAEckS,EAAAlS,EAAOA,IACrBiQ,KAAAuyB,UAAAxM,EAAAh2B,KA8FAssB,EAAAzc,UAAA4yB,gBAAA,SAAAzM,GACA/lB,KAAA9H,SACA8H,KAAA+jB,WAAAgC,EAAA,SACA/lB,KAAAgkB,cAAA+B,EAAA,IAAA/lB,KAAAue,MAAA,EACAve,KAAA3H,EAAA,EACA2H,KAAAsT,EAAA,IAKA+I,EAAAzc,UAAAgwB,WAAA,SAAA7J,GACA/lB,KAAAwlB,OAAAxlB,KAAA3H,EACA2H,KAAAylB,OAAAzlB,KAAAsT,GAKA+I,EAAAzc,UAAAiwB,cAAA,SAAA9J,GACA/lB,KAAA3H,EAAA2H,KAAAwlB,QAAA,EACAxlB,KAAAsT,EAAAtT,KAAAylB,QAAA,GASApJ,EAAAzc,UAAA6yB,iBAAA,SAAA1M,GAEA,IADA,GAAA6N,GAAA7N,EAAA,MACA6N,KACA5zB,KAAA3H,EAAA2H,KAAAsvB,YAKAjT,EAAAzc,UAAA8yB,SAAA,SAAA3M,GAEA,IADA,GAAA6N,GAAA7N,EAAA,MACA6N,KACA5zB,KAAA0gB,MAAAxkB,OAAA8D,KAAA2c,MAAA3c,KAAA+jB,UAAA,GACA/jB,KAAA0gB,MAAAxkB,OAAA8D,KAAA2c,MAAA3c,KAAAgkB,aAAA,EAAAhkB,KAAAkmB,YAGAlmB,MAAAivB,YAAAjvB,KAAA+jB,WACA/jB,KAAAivB,YAAAjvB,KAAAgkB,eAIA3H,EAAAzc,UAAA+yB,WAAA,SAAA5M,GAEA,IADA,GAAA6N,GAAA7N,EAAA,MACA6N,KACA5zB,KAAA0gB,MAAAxkB,OAAA8D,KAAA2c,MAAA3c,KAAAgkB,aAAA,GACAhkB,KAAA0gB,MAAAxkB,OAAA8D,KAAA2c,MAAA3c,KAAA+jB,UAAA,EAAA/jB,KAAAkmB,YAGAlmB,MAAAivB,YAAAjvB,KAAA+jB,WACA/jB,KAAAivB,YAAAjvB,KAAAgkB,eAOA3H,EAAAzc,UAAAk0B,kBAAA,SAAA/N,KAeA1J,EAAAzc,UAAAm0B,gBAAA,SAAAhO,KAKA1J,EAAAzc,UAAAgzB,kBAAA,SAAA7M,GAEA,IADA,GAAA6N,GAAA7N,EAAA,MACA6N,KACA5zB,KAAA3H,EAAA2H,KAAAszB,YAKAjX,EAAAzc,UAAAizB,yBAAA,SAAA9M,GAKA,IAJA,GAAA6N,GAAA7N,EAAA,MACAuI,EAAAtuB,KAAA0gB,MAAA1gB,KAAA2c,MAAA3c,KAAAsT,GACAiU,EAAA+G,EAAAtuB,KAAA3H,EAAA,KAAA2H,KAAA6lB,QAAA,KAEA+N,KAAAtF,EAAAtuB,KAAA3H,KAAAkvB,GASAlL,EAAAzc,UAAAkzB,SAAA,SAAA/M,GACA,GAAA6N,GAAA7N,EAAA,EACA,IAAA6N,QACA5zB,MAAAmmB,KAAAnmB,KAAA3H,GACO,IAAAu7B,IACP5zB,KAAAmmB,UAeA9J,EAAAzc,UAAAo0B,UAAA,SAAAjO,KAgBA1J,EAAAzc,UAAAq0B,aAAA,SAAAlO,KAiBA1J,EAAAzc,UAAAs0B,iBAAA,SAAAnO,KAYA1J,EAAAzc,UAAAu0B,eAAA,SAAApO,KAMA1J,EAAAzc,UAAAmzB,UAAA,SAAAhN,GACA/lB,KAAA0e,cAAA,EACA1e,KAAAokB,YAAA,EACApkB,KAAAmkB,YAAA,EACAnkB,KAAAqkB,gBAAA,EACArkB,KAAAikB,mBAAA,EACAjkB,KAAAkkB,mBAAA,EACAlkB,KAAA+jB,UAAA,EACA/jB,KAAAgkB,aAAAhkB,KAAAue,KAAA,EACAve,KAAA8lB,QAAA9lB,KAAA6lB,QACA7lB,KAAA3H,EAAA2H,KAAAsT,EAAA,EACAtT,KAAAukB,QAAA,KACAvkB,KAAAykB,OAAA,EACAzkB,KAAA0kB,UAAA,OAaArI,EAAAzc,UAAAw0B,gBAAA,SAAArO,KASA1J,EAAAzc,UAAAy0B,mBAAA,SAAAtO,KAcA1J,EAAAzc,UAAA00B,oBAAA,SAAAvO,KAYA1J,EAAAzc,UAAA20B,SAAA,SAAAxO,KAWA1J,EAAAzc,UAAA40B,eAAA,SAAAzO,KAUA1J,EAAAzc,UAAA60B,sBAAA,SAAA1O,KAOA1J,EAAAzc,UAAA80B,qBAAA,SAAA3O,KASA1J,EAAAzc,UAAA+0B,mBAAA,SAAA5O,GAUA,IATA,GAMAuI,GACAv+B,EAPA6oB,EAAAmN,EAAA,GACA9jB,EAAA8jB,EAAA,GACA1gB,EAAA0gB,EAAA,GACAvsB,EAAAusB,EAAA,GACAxwB,EAAAwwB,EAAA,GAKY1gB,EAAA,EAAAuT,EAAWA,IAEvB,IADA0V,EAAAtuB,KAAA0gB,MAAA1gB,KAAA2c,MAAA/D,GACA7oB,EAAAkS,EAAmBzI,EAAAzJ,EAAOA,IAC1Bu+B,EAAAv+B,IAAAwF,EAAA+4B,EAAAv+B,GAAA,GAKAiQ,MAAAivB,YAAAlJ,EAAA,IACA/lB,KAAAivB,YAAAlJ,EAAA,KASA1J,EAAAzc,UAAAg1B,cAAA,SAAA7O,GAUA,IATA,GAMAuI,GACAv+B,EAPAw3B,EAAAxB,EAAA,GACAnN,EAAAmN,EAAA,GACA9jB,EAAA8jB,EAAA,GACA1gB,EAAA0gB,EAAA,GACAvsB,EAAAusB,EAAA,GAKY1gB,EAAA,EAAAuT,EAAWA,IAEvB,IADA0V,EAAAtuB,KAAA0gB,MAAA1gB,KAAA2c,MAAA/D,GACA7oB,EAAAkS,EAAmBzI,EAAAzJ,EAAOA,IAC1Bu+B,EAAAv+B,IAAAu+B,EAAAv+B,GAAA,GAAA4b,EAAAkhB,aAAAtF,GAKAvnB,MAAAivB,YAAAlJ,EAAA,IACA/lB,KAAAivB,YAAAlJ,EAAA,KAeA1J,EAAAzc,UAAAi1B,uBAAA,SAAA9O,GACAA,EAAA,MASA1J,EAAAzc,UAAAk1B,eAAA,SAAA/O,GACA,GAKAuI,GACAv+B,EACAw3B,EAPA3O,EAAAmN,EAAA,GACA9jB,EAAA8jB,EAAA,GACA1gB,EAAA0gB,EAAA,GACAvsB,EAAAusB,EAAA,EAQA,KAFAwB,GAAAvnB,KAAA8oB,YAAA,KAEYzjB,EAAA,EAAAuT,EAAWA,IAEvB,IADA0V,EAAAtuB,KAAA0gB,MAAA1gB,KAAA2c,MAAA/D,GACA7oB,EAAAkS,EAAmBzI,EAAAzJ,EAAOA,IAC1Bu+B,EAAAv+B,GAAAw3B,CAKAvnB,MAAAivB,YAAAlJ,EAAA,IACA/lB,KAAAivB,YAAAlJ,EAAA,KAOA1J,EAAAzc,UAAAm1B,cAAA,WAMA,IALA,GAGAhlC,GAHA6jC,EAAA7N,OAAA,GACA9jB,EAAAjC,KAAA2c,MAAA3c,KAAAue,KACAgJ,GAAAvnB,KAAA8oB,YAAA,KAGA8K,KACA,IAAA7jC,EAAAiQ,KAAA2c,MAA4B1a,EAAAlS,EAAOA,IACnCiQ,KAAA0gB,MAAA3wB,GAAAmM,OAAA8D,KAAA3H,EAAA,IAAAkvB,GACAvnB,KAAA0gB,MAAA3wB,GAAA0c,KAIAzM,MAAAovB,YAMA/S,EAAAzc,UAAAo1B,cAAA,WAMA,IALA,GAGAjlC,GAHA6jC,EAAA7N,OAAA,GACA9jB,EAAAjC,KAAA2c,MAAA3c,KAAAue,KACAgJ,GAAAvnB,KAAA8oB,YAAA,KAGA8K,KACA,IAAA7jC,EAAAiQ,KAAA2c,MAA4B1a,EAAAlS,EAAOA,IACnCiQ,KAAA0gB,MAAA3wB,GAAAmM,OAAA8D,KAAA3H,EAAA,GACA2H,KAAA0gB,MAAA3wB,GAAAiK,KAAAutB,EAIAvnB,MAAAovB,YAIA/S,EAAAzc,UAAAq1B,WAAA,SAAAvU,GAIA,OAHAA,MAAA1gB,KAAA0gB,MACAsI,KAEA1V,EAAA,EAAqBA,EAAAoN,EAAA/wB,OAAkB2jB,IAAA,CACvC0V,EAAA1V,KACA,QAAAjb,GAAA,EAAuBA,EAAAqoB,EAAApN,GAAA3jB,OAAqB0I,IAC5C2wB,EAAA1V,GAAAjb,IAAAqoB,EAAApN,GAAAjb,GAAA,GAAAqoB,EAAApN,GAAAjb,GAAA,IAIA,MAAA2wB,IAGA3M,EAAAzc,UAAAs1B,gBAAA,SAAA9/B,GACA,GAAA00B,GAAA9pB,KAAAm1B,cACAh+B,EAAA6I,KAAA7I,QAmBA,OAjBA2yB,KACAA,EAAA3yB,EAAA0vB,cAAA,YACAiD,EAAA5C,MAAAre,SAAA,WACAihB,EAAA5C,MAAAhiB,KAAA,WACA4kB,EAAA5C,MAAAkO,IAAA,WACAtL,EAAA5C,MAAAqH,MAAA,MACAzE,EAAA5C,MAAAmO,OAAA,MACAvL,EAAA5C,MAAAoO,QAAA,IACAxL,EAAA5C,MAAAqO,gBAAA,cACAzL,EAAA5C,MAAAsO,YAAA,OACA1L,EAAA5C,MAAAuO,aAAA,OAEAt+B,EAAAssB,qBAAA,WAAAsD,YAAA+C,GAEA9pB,KAAAm1B,cAAArL,GAGAA,GAKAzN,EAAAzc,UAAA81B,SAAA,SAAAtgC,GACA,GAAAmT,GAAAvI,KACA8pB,EAAA9pB,KAAAk1B,iBAEAl1B,MAAAwoB,KAAA,OAAApzB,GAEA00B,EAAAjI,QACAiI,EAAA6L,YAAAvgC,EACA00B,EAAA3oB,MAAA/L,EACA00B,EAAA8L,kBAAA,EAAAxgC,EAAAzF,QAEA2Z,EAAA,WACAf,EAAAhL,QAAAskB,QACAtZ,EAAAsZ,SACO,IAGPxF,EAAAzc,UAAAi2B,UAAA,SAAAvmC,EAAA4S,GACA,MAAAA,GAAA,MAAAA,EACAlC,KAAAquB,UACO,MAAAnsB,GAAA,MAAAA,EACPlC,KAAAwoB,KAAA,iBACO,MAAAtmB,EACPlC,KAAAwoB,KAAA,kBACOtmB,GAAA,UAAAA,GACPA,KAAA,GACAA,MAAA,GACAlC,KAAAwoB,KAAA,eAAAtmB,IACO,MAAAA,EACPlC,KAAAwoB,KAAA,qBACO,MAAAtmB,EACPlC,KAAAwoB,KAAA,yBACO,MAAAtmB,GACPlC,KAAAwoB,KAAA,yBAIAnM,EAAAzc,UAAAk2B,UAAA,SAAAxmC,EAAA4S,GAGA,GAFAlC,KAAA+pB,aAEA,MAAA7nB,EAAA,CACA,GAAAoR,GAAAtT,KAAA2jB,MAAA3jB,KAAAsT,CAQA,aAPAtT,KAAA2jB,QAAA3jB,KAAA2c,OAEA3c,KAAAsT,EAAAxe,KAAAsK,IAAAY,KAAAsT,GAAAtT,KAAAue,KAAA,OAAAve,KAAAue,KAAA,GACAve,KAAAiqB,QAAA,EAAAjqB,KAAAue,KAAA,IAEAve,KAAAouB,YAAApuB,KAAAue,KAAA,SAKA,SAAArc,EAAA,CACA,GAAAoR,GAAAtT,KAAA2jB,MAAA3jB,KAAAsT,CAQA,aAPA,IAAAtT,KAAA2jB,OAEA3jB,KAAAsT,EAAAxe,KAAAqK,IAAAa,KAAAsT,GAAAtT,KAAAue,KAAA,UACAve,KAAAiqB,QAAA,EAAAjqB,KAAAue,KAAA,IAEAve,KAAAouB,aAAApuB,KAAAue,KAAA,SAKA,SAAArc,EAAA,CACA,GAAAoR,GAAAtT,KAAA2jB,MAAA3jB,KAAAsT,CAEA,YADAtT,MAAAouB,WAAApuB,KAAAue,KAAA,GAIA,SAAArc,EAAA,CACA,GAAAoR,GAAAtT,KAAA2jB,MAAA3jB,KAAAsT,CAEA,YADAtT,MAAAouB,aAAApuB,KAAAue,KAAA,IAIA,SAAArc,GAAA,QAAAA,EAAA,CACA,GAAAoR,GAAAtT,KAAA2jB,MAAA3jB,KAAAsT,CAOA,OANAtT,MAAAsT,IACAtT,KAAAsT,EAAA,IACAtT,KAAAsT,EAAA,EACAtT,KAAAouB,WAAA,SAEApuB,MAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,EAAA,GAIA,SAAApR,GAAA,QAAAA,EAAA,CACA,GAAAoR,GAAAtT,KAAA2jB,MAAA3jB,KAAAsT,CAOA,OANAtT,MAAAsT,IACAtT,KAAAsT,GAAAtT,KAAAue,OACAve,KAAAsT,EAAAtT,KAAAue,KAAA,EACAve,KAAAouB,WAAA,QAEApuB,MAAAiqB,QAAAjqB,KAAAsT,EAAA,EAAAtT,KAAAsT,GAIA,SAAApR,GAAA,QAAAA,EAAA,CACA,GAAA7J,GAAA2H,KAAA3H,CAMA,OALA2H,MAAA3H,IACA2H,KAAA3H,EAAA,IACA2H,KAAA3H,EAAA,OAEA2H,MAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,GAIA,SAAApR,GAAA,QAAAA,EAAA,CACA,GAAA7J,GAAA2H,KAAA3H,CAMA,OALA2H,MAAA3H,IACA2H,KAAA3H,GAAA2H,KAAAwe,OACAxe,KAAA3H,EAAA2H,KAAAwe,KAAA,OAEAxe,MAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,GAIA,SAAApR,GAAA,MAAAA,EAAA,CAUA,IATA,GACA6zB,IADA/1B,KAAA3H,EACA2H,KAAAsT,GAGAjb,GAFA2H,KAAA2jB,MAEA3jB,KAAA3H,GACAib,EAAAtT,KAAAsT,EACA0iB,EAAAh2B,KAAA2jB,MACAsS,GAAA,IAEe,CAEf,IADA,GAAA3H,GAAAtuB,KAAA0gB,MAAAsV,EAAA1iB,GACAjb,EAAA2H,KAAAwe,MAAA,CACA,GAAA8P,EAAAj2B,GAAA,QACA49B,GAAA,MACa,IAAAA,EACb,KAEA59B,KAGA,GADAA,GAAA2H,KAAAwe,OAAAnmB,EAAA2H,KAAAwe,KAAA,KACAnmB,IAAA2H,KAAAwe,KAAA,GAAA8P,EAAAj2B,GAAA,SAYA,KAVA,IADAA,EAAA,IACAib,GAAAtT,KAAAue,OACAjL,MACA0iB,EAAAh2B,KAAA2c,OAAA,CACAqZ,EAAAh2B,KAAA2c,MACAtkB,EAAA2H,KAAA3H,CACA,QAWA,MAHA2H,MAAA3H,IAAA2H,KAAAsT,QACAtT,MAAAouB,YAAApuB,KAAA2jB,MAAAqS,GAKA,SAAA9zB,GAAA,MAAAA,EAAA,CASA,IARA,GACA6zB,IADA/1B,KAAA3H,EACA2H,KAAAsT,GAGAjb,GAFA2H,KAAA2jB,MAEA3jB,KAAA3H,GACAib,EAAAtT,KAAAsT,EACA0iB,EAAAh2B,KAAA2jB,QAEe,CAGf,IAFA,GAAA2K,GAAAtuB,KAAA0gB,MAAAsV,EAAA1iB,GACA2iB,EAAA59B,EAAA,GAAAi2B,EAAAj2B,GAAA,QAAAi2B,EAAAj2B,EAAA,UACAA,GAAA,IACA,GAAAi2B,EAAAj2B,GAAA,SACA,GAAA49B,GAAA59B,EAAA,EAAA2H,KAAAwe,MAAA8P,EAAAj2B,EAAA,WACAA,GACA,OAEA49B,GAAA,EAGA59B,IAGA,GADA,EAAAA,MAAA,GACA,IAAAA,KAAAi2B,EAAAj2B,GAAA,UAAA49B,EAYA,KAVA,IADA59B,EAAA2H,KAAAwe,KAAA,IACAlL,EAAA,IACAA,MACA0iB,EAAA,IACAA,IACA39B,EAAA,CACA,QAWA,MAHA2H,MAAA3H,IAAA2H,KAAAsT,QACAtT,MAAAouB,YAAApuB,KAAA2jB,MAAAqS,GAKA,SAAA9zB,GAAA,MAAAA,EAAA,CACA,GAAA7J,GAAA2H,KAAA3H,EAAA,EACAib,EAAAtT,KAAAsT,EACA0iB,EAAAh2B,KAAA2jB,KAGA,KAFAtrB,GAAA2H,KAAAwe,MAAAnmB,MAEe,CAEf,IADA,GAAAi2B,GAAAtuB,KAAA0gB,MAAAsV,EAAA1iB,GACAjb,EAAA2H,KAAAwe,MACA8P,EAAAj2B,GAAA,SACAA,GAKA,MAAAA,EAAA2H,KAAAwe,MAAA,CACA,GAAA8P,EAAAj2B,GAAA,SACAA,EAAA,MAAAi2B,EAAAj2B,EAAA,WACAA,GACA,OAGAA,IAGA,GADAA,GAAA2H,KAAAwe,OAAAnmB,EAAA2H,KAAAwe,KAAA,KACAnmB,IAAA2H,KAAAwe,KAAA,GAAA8P,EAAAj2B,GAAA,SAWA,KATA,IADAA,EAAA,IACAib,GAAAtT,KAAAue,OACAjL,MACA0iB,EAAAh2B,KAAA2c,OAAA,CACAqZ,EAAAh2B,KAAA2c,KACA,QAWA,MAHA3c,MAAA3H,IAAA2H,KAAAsT,QACAtT,MAAAouB,YAAApuB,KAAA2jB,MAAAqS,GAKA,SAAA9zB,GAAA,MAAAA,EAAA,CACAlC,KAAA3H,CAEA,UAAA6J,EACAlC,KAAA3H,EAAA,MACS,UAAA6J,EAAA,CAGT,IAFA,GAAAosB,GAAAtuB,KAAA0gB,MAAA1gB,KAAA2jB,MAAA3jB,KAAAsT,GACAjb,EAAA,EACAA,EAAA2H,KAAAwe,QACA8P,EAAAj2B,GAAA,SAGAA,GAEAA,IAAA2H,KAAAwe,OAAAnmB,EAAA2H,KAAAwe,KAAA,GACAxe,KAAA3H,IAIA,WADA2H,MAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,GAIA,SAAApR,EAAA,CAIA,IAHA,GACAosB,IADAtuB,KAAA3H,EACA2H,KAAA0gB,MAAA1gB,KAAA2jB,MAAA3jB,KAAAsT,IACAjb,EAAA2H,KAAAwe,KAAA,EACAnmB,GAAA,GACAA,GAKA,OAHA,GAAAA,MAAA,GACA2H,KAAA3H,QACA2H,MAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,GAIA,SAAApR,GAAA,MAAAA,EAAA,CACA,GACA6zB,IADA/1B,KAAA3H,EACA2H,KAAAsT,EACAtT,MAAA2jB,KAQA,aAPA,MAAAzhB,GACAlC,KAAA3H,EAAA,EAAA2H,KAAAsT,EAAA,EACAtT,KAAAouB,YAAApuB,KAAA2jB,QACS,MAAAzhB,IACTlC,KAAA3H,EAAA,EAAA2H,KAAAsT,EAAAtT,KAAAue,KAAA,EACAve,KAAAouB,WAAApuB,KAAA2c,SAKA,SAAAza,GAAA,MAAAA,GAAA,MAAAA,EAAA,CACA,GACA6zB,IADA/1B,KAAA3H,EACA2H,KAAAsT,EAUA,OATA,MAAApR,GACAlC,KAAA3H,EAAA,EAAA2H,KAAAsT,EAAA,GACS,MAAApR,GACTlC,KAAA3H,EAAA,EAAA2H,KAAAsT,EAAAtT,KAAAue,KAAA,KACS,MAAArc,IACTlC,KAAA3H,EAAA,EAAA2H,KAAAsT,EAAAtT,KAAAue,KAAA,GAEAve,KAAAiqB,QAAA8L,SACA/1B,MAAAiqB,QAAAjqB,KAAAsT,EAAAtT,KAAAsT,GAIA,SAAApR,GAAoB,MAAAA,EAAe,CACnC,GAIAosB,GAMAv+B,EATAgmC,GADA/1B,KAAA3H,EACA2H,KAAAsT,GAIA4iB,GAHAl2B,KAAA2jB,OAGA,GACAwS,GAAA,EACAC,EAAA,GACA9iB,EAAAtT,KAAAsT,GAAA,MAAApR,EAAoC,MACpC8zB,EAAAh2B,KAAA2jB,KAeA,KAZA,MAAAzhB,EACA,EAAAoR,IACAA,IACA0iB,EAAA,GAAAA,KAES,MAAA9zB,GACToR,GAAAtT,KAAAue,OACAjL,IACA0iB,EAAAh2B,KAAA2c,OAAAqZ,OAIe,CAGf,IAFA1H,EAAAtuB,KAAA0gB,MAAAsV,EAAA1iB,GAEAvjB,EAAA,EAAqBA,EAAAiQ,KAAAwe,KAAezuB,IAAA,CACpC,GAAAu+B,EAAAv+B,GAAA,QACA,KAAAqmC,IACAA,EAAA,GAEAF,GAAA,CACA,OACa,GAAAnmC,IAAAiQ,KAAAwe,KAAA,GACb,KAAA4X,EACAA,EAAA,EACe,IAAAA,EACfD,GAAA,EACe,IAAAC,GACfF,IAAAC,GAAA,EAEA,QAIA,GAAAA,EAAA,KAEA,UAAAj0B,GAEA,GADAoR,IACA,EAAAA,EAAA,CAEA,GADAA,MACA0iB,EAAA,GACA,KADAA,UAGW,UAAA9zB,IACXoR,IACAA,GAAAtT,KAAAue,MAAA,CAEA,GADAjL,MACA0iB,EAAAh2B,KAAA2c,OACA,KADAqZ,MAmBA,MAbAG,KACA,MAAAj0B,GACAoR,EAAA,EACA0iB,EAAA,GACW,MAAA9zB,IACXoR,EAAAtT,KAAAue,KAAA,EACAyX,EAAAh2B,KAAA2c,QAIA3c,KAAA3H,EAAA,EAAA2H,KAAAsT,QACAtT,MAAAouB,YAAApuB,KAAA2jB,MAAAqS,GAKA,UAOA3Z,EAAAqI,YAUArI,EAAAqI,SAAAqL,MACA7hB,IAAA,IACA9I,EAAA,IACAC,EAAA,IACA1X,EAAA,KACA0oC,EAAA,KACAloC,EAAA,KACAL,EAAA,IACAm7B,EAAA,IACAsE,EAAA,IACAx9B,EAAA,OACAkM,EAAA,IACA2Z,EAAA,IACA3T,EAAA,IACAvU,EAAA,IACAoX,EAAA,IACAwxB,EAAA,IACA1oC,EAAA,IACAgmB,EAAA,IACApa,EAAA,IACA+8B,EAAA,IACA3d,EAAA,IACA4d,EAAA,IACAhmB,EAAA,IACAsE,EAAA,IACAzc,EAAA,IACAib,EAAA,IACAmjB,EAAA,IACAC,IAAQ,IACRC,IAAA,IACAC,IAAQ,IACRC,IAAA,KAGAxa,EAAAqI,SAAAsL,GAAA,KACA3T,EAAAqI,SAAAiL,GAAA,KACAtT,EAAAqI,SAAAuL,MAAA,KACA5T,EAAAqI,SAAAwL,QAAA,KACA7T,EAAAqI,SAAAyL,OAAA,KACA9T,EAAAqI,SAAA0L,eAAA,KACA/T,EAAAqI,SAAA2L,OAAA,KACAhU,EAAAqI,SAAA4L,QAAA,KACAjU,EAAAqI,SAAA6L,gBAAA,KACAlU,EAAAqI,SAAA8L,QAAA,KACAnU,EAAAqI,SAAA+L,QAAA,KACApU,EAAAqI,SAAAgM,MAAA,KACArU,EAAAqI,SAAAiM,SAAA,IAkDA,IAAAhlB,GAAA3L,KAAA2L,OACArC,EAAAtJ,KAAAsJ,WACAvR,EAAAiI,KAAAjI,WAgGA,OArCAyvB,GAAAK,UAGAL,EAAAa,SAAA,SAAAZ,EAAAC,EAAAC,EAAAG,EAAAC,EAAAC,GACA,MAAAlzB,MAAAuN,IAAA,IAAAolB,EAAAK,GAAA,GACAhzB,KAAAuN,IAAA,IAAAqlB,EAAAK,GAAA,GACAjzB,KAAAuN,IAAA,IAAAslB,EAAAK,GAAA,IAyBA3L,EAAA4G,eACA5G,EAAAqK,WACArK,EAAA3pB,KACA2pB,EAAAkK,MACAlK,EAAA8G,SAEA9G,KRqiIM,SAAS/uB,EAAQD,EAASH,GSpuRhC,YAeA,SAAA4pC,GAAAC,GAIA,MAHA,UAAAA,IAAgCA,MAGhCx8B,EAAA8Q,OAAA0rB,EAAApgC,EAAAC,GAAAC,IAAAmgC,kBAAA,UAA2EC,eAlB3E,GAAAC,GAAAl3B,WAAAk3B,WAAA,SAAAb,EAAAhxB,GAEA,QAAA8xB,KAAmBn3B,KAAAP,YAAA42B,EADnB,OAAAzoC,KAAAyX,KAAA/E,eAAA1S,KAAAyoC,EAAAzoC,GAAAyX,EAAAzX,GAEAyoC,GAAAz2B,UAAA,OAAAyF,EAAAlF,OAAAU,OAAAwE,IAAA8xB,EAAAv3B,UAAAyF,EAAAzF,UAAA,GAAAu3B,KAEAC,EAAAlqC,EAAA,GACA6F,EAAA7F,EAAA,GACAyJ,EAAAzJ,EAAA,GACAqN,EAAArN,EAAA,GACA6L,EAAAhG,EAAAuD,WAAA,QAWAlF,EAAA,SAAAimC,GAEA,QAAAjmC,KACAimC,EAAA91B,MAAAvB,KAAAtB,WACAsB,KAAAs3B,KAAA,KACAt3B,KAAAu3B,SAAA,EA8CA,MAlDAL,GAAA9lC,EAAAimC,GAMAjmC,EAAAwO,UAAA0e,WAAA,WACA,cAEAltB,EAAAwO,UAAA4iB,sBAAA,WAEA,gBAAAgV,EAAAC,GACA,GAAAA,EACA,QACA,IAAAC,GAAAF,EAAA98B,YAAA,KACAi9B,EAAA,KAAAD,EAAA,GAAAF,EAAAphC,MAAAshC,EAAA,EACA,iBAAAC,GAAA,QAAAA,IAGAvmC,EAAAwO,UAAAg4B,mBAAA,SAAAJ,GACA,GAAAG,GAAA5+B,EAAA8+B,QAAAL,EACA,iBAAAG,EACAH,EAAAphC,MAAA,EAAAohC,EAAA98B,YAAA,MAAA9B,QAAA,WAEA4+B,GAEApmC,EAAAwO,UAAA+hB,IAAA,SAAAjxB,EAAAyJ,EAAApM,GACA,GAAAwvB,GAAAvd,IACArJ,GAAAC,GAAAkhC,IAAA39B,EAAA28B,GACAiB,aAAA/3B,KAAAse,eACS,WAETf,EAAA+Z,KAAA,KACA/Z,EAAAga,SAAA,EACAxpC,KACS,SAAAiqC,GACTza,EAAA+Z,KAAAU,EACAza,EAAAga,SACAha,EAAA+Z,KAAAW,KAAA,MAIA7mC,EAAAwO,UAAA8U,KAAA,WACA1U,KAAAu3B,UACAv3B,KAAAu3B,SAAA,EACAv3B,KAAAs3B,MACAt3B,KAAAs3B,KAAAW,KAAA,KAIA7mC,GACCgmC,EAAAc,qBACD7qC,GAAA+D;AACA,GAAAP,GAAA,SAAAwmC,GAEA,QAAAxmC,GAAAqJ,EAAAi+B,EAAAC,EAAAC,GACA,SAAAD,IAAmCA,MACnC,SAAAC,IAAmCA,MACnChB,EAAA5pC,KAAAuS,MACAA,KAAAs4B,KAAAp+B,EACA8F,KAAAu4B,SAAAJ,EACAn4B,KAAAw4B,WAAAJ,EACAp4B,KAAAy4B,WAAAJ,EAwBA,MAhCAnB,GAAArmC,EAAAwmC,GAUAxmC,EAAA+O,UAAA0e,WAAA,WACA,MAAAte,MAAAs4B,MAEAznC,EAAA+O,UAAA4iB,sBAAA,WACA,GAAAjF,GAAAvd,IACA,iBAAAw3B,EAAAC,GACA,GAAAA,EACA,QAGA,QAFAC,GAAAF,EAAA98B,YAAA,KACAi9B,EAAA,KAAAD,EAAA,GAAAF,EAAAphC,MAAAshC,EAAA,GACA3nC,EAAA,EAA2BA,EAAAwtB,EAAAkb,WAAA9oC,OAA6BI,IACxD,GAAA4nC,IAAApa,EAAAkb,WAAA1oC,GACA,QAEA,YAGAc,EAAA+O,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACAsB,EAAAQ,OAAA,qFACA,IAAA6oC,IAAA,OAAA14B,KAAAu4B,UAAA7vB,OAAA1I,KAAAw4B,WAAAr+B,EACAk9B,GAAAz3B,UAAA+hB,IAAAl0B,KAAAuS,KAAA3Q,EAAAqpC,EAAA3qC,IAEA8C,GACCO,EACD/D,GAAAwD,YACA,IAAAE,GAAA,SAAAsmC,GAEA,QAAAtmC,GAAAmJ,EAAA+8B,EAAA5qB,EAAAssB,EAAAC,EAAAP,GACA,SAAAM,IAAsCA,MACtC,SAAAC,IAAuCA,MACvC,SAAAP,IAAmCA,MACnChB,EAAA5pC,KAAAuS,MACAA,KAAAs4B,KAAAp+B,EACA8F,KAAA64B,WAAA5B,EACAj3B,KAAA84B,WAAAzsB,EACArM,KAAA+4B,eAAAH,EACA54B,KAAAg5B,cAAAL,EACA34B,KAAAy4B,WAAAJ,EAwBA,MAnCAnB,GAAAnmC,EAAAsmC,GAaAtmC,EAAA6O,UAAA0e,WAAA,WACA,MAAAte,MAAAs4B,MAEAvnC,EAAA6O,UAAA4iB,sBAAA,WACA,GAAAjF,GAAAvd,IACA,iBAAAw3B,EAAAC,GACA,GAAAA,EACA,QAGA,QAFAC,GAAAF,EAAA98B,YAAA,KACAi9B,EAAA,KAAAD,EAAA,GAAAF,EAAAphC,MAAAshC,EAAA,GACA3nC,EAAA,EAA2BA,EAAAwtB,EAAAkb,WAAA9oC,OAA6BI,IACxD,GAAA4nC,IAAApa,EAAAkb,WAAA1oC,GACA,QAEA,YAGAgB,EAAA6O,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACAsB,EAAAQ,OAAA,qFACA,IAAA6oC,MAAAhwB,OAAA1I,KAAAg5B,eAAA,WAAAh5B,KAAA64B,WAAA74B,KAAA84B,YAAA94B,KAAA+4B,eAAA5+B,EACAk9B,GAAAz3B,UAAA+hB,IAAAl0B,KAAAuS,KAAA3Q,EAAAqpC,EAAA3qC,IAEAgD,GACCK,EACD/D,GAAA0D,oBT2uRM,SAASzD,EAAQD,GUh4RvB,YACA,IAAA6pC,GAAAl3B,WAAAk3B,WAAA,SAAAb,EAAAhxB,GAEA,QAAA8xB,KAAmBn3B,KAAAP,YAAA42B,EADnB,OAAAzoC,KAAAyX,KAAA/E,eAAA1S,KAAAyoC,EAAAzoC,GAAAyX,EAAAzX,GAEAyoC,GAAAz2B,UAAA,OAAAyF,EAAAlF,OAAAU,OAAAwE,IAAA8xB,EAAAv3B,UAAAyF,EAAAzF,UAAA,GAAAu3B,KAEAe,EAAA,WACA,QAAAA,MAcA,MAZAA,GAAAt4B,UAAA4iB,sBAAA,WACA,gBAAAgV,EAAAC,GAAwC,WAExCS,EAAAt4B,UAAAg4B,mBAAA,SAAAJ,GACA,MAAAA,IAKAU,EAAAt4B,UAAA8U,KAAA,aAGAwjB,IAEA7qC,GAAA6qC,sBACA,IAAAe,GAAA,SAAA5B,GAEA,QAAA4B,GAAAhY,EAAAiY,GACA7B,EAAA5pC,KAAAuS,MACAA,KAAAm5B,SAAAlY,EACAjhB,KAAA6f,YAAAqZ,EAQA,MAZAhC,GAAA+B,EAAA5B,GAMA4B,EAAAr5B,UAAA0e,WAAA,WACA,MAAAte,MAAAm5B,UAEAF,EAAAr5B,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACAiS,KAAA6f,YAAAxwB,EAAA8K,EAAApM,IAEAkrC,GACCf,EACD7qC,GAAA4rC,iBVu4RM,SAAS3rC,EAAQD,GW96RvBC,EAAAD,QAAAsJ,QXo7RM,SAASrJ,EAAQD,EAASH,GYp7RhC,YACA,IAAAgqC,GAAAl3B,WAAAk3B,WAAA,SAAAb,EAAAhxB,GAEA,QAAA8xB,KAAmBn3B,KAAAP,YAAA42B,EADnB,OAAAzoC,KAAAyX,KAAA/E,eAAA1S,KAAAyoC,EAAAzoC,GAAAyX,EAAAzX,GAEAyoC,GAAAz2B,UAAA,OAAAyF,EAAAlF,OAAAU,OAAAwE,IAAA8xB,EAAAv3B,UAAAyF,EAAAzF,UAAA,GAAAu3B,KAEAC,EAAAlqC,EAAA,GACA6F,EAAA7F,EAAA,GACA0B,EAAAmE,EAAAuD,WAAA,MACA8iC,EAAA,SAAA/B,GAEA,QAAA+B,GAAAC,EAAAC,EAAAC,EAAAC,EAAAlpC,EAAAmpC,GACApC,EAAA5pC,KAAAuS,MACAA,KAAA05B,gBAAA,EACA15B,KAAA25B,gBAAArpC,EACA0P,KAAA45B,iBAAAH,EACAz5B,KAAA65B,iBAAAL,EACAx5B,KAAA85B,mBAAAR,EACAt5B,KAAA+5B,oBAAAR,EAEAv5B,KAAAg6B,QAAAC,IAAAC,KAAAb,GACAr5B,KAAAg6B,QAAAG,SAAA,sBA0FA,MArGAjD,GAAAkC,EAAA/B,GAaA+B,EAAAx5B,UAAA1M,WAAA,SAAA7D,GACA,GAAAkuB,GAAAvd,IACAA,MAAA05B,iBACA15B,KAAA05B,gBAAA,EACA15B,KAAA85B,mBAAAM,MAAA,SAAAjsC,GACA,GAAAqpC,GAAAja,EAAAqc,iBAAArhB,MACAze,EAAAyjB,EAAAyc,QAAAK,aAAAC,UACA,QAAAxgC,IAAAnK,OAAA,KACAmK,GAAA,MAEAlL,EAAAC,UAAA2oC,EAAA19B,EAAA,SAAA5K,GACAA,EACAG,EAAAE,OAAA,4BAAAL,EAAA,MAGAG,EAAAQ,OAAA,kBAAA2nC,EAAA,QAEA,MAAAja,EAAAgd,UACAhd,EAAAgd,UACAhd,EAAAgd,QAAA,QAGAhd,EAAAid,cACArsC,EAAAgP,mBAEA6C,KAAA+5B,oBAAAK,MAAA,SAAAjsC,GACAovB,EAAAid,cACA,MAAAjd,EAAAgd,UACAhd,EAAAgd,UACAhd,EAAAgd,QAAA,MAEApsC,EAAAgP,qBAIAi8B,EAAAx5B,UAAA46B,YAAA,WACA,GAAAjd,GAAAvd,IACAA,MAAA65B,iBAAAjiC,QAAA,kBAEA2lB,EAAAoc,gBAAAtpC,OAAA,QAAA+pC,WAGAhB,EAAAx5B,UAAA0e,WAAA,WACA,cAEA8a,EAAAx5B,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,GAAAwvB,GAAAvd,IACAA,MAAA9M,WAAA7D,EACA,IAAAorC,GAAA,SAAAnoC,GACA,GAAAooC,GAAAnd,EAAAoc,gBAAAtE,QACA9X,GAAAoc,gBAAA/hC,QAAA,kBAIA,GAHA2lB,EAAAqc,iBAAArhB,IAAApe,EAAA,IACAojB,EAAAsc,iBAAAxE,OAAAqF,GACAnd,EAAAsc,iBAAAxpC,OAAA,QACA,MAAA8J,EAAA,aAAAA,EAAA,GAAAtB,MAAA,SACA,GAAA8hC,GAAAV,IAAAW,QAAA,iBAAAC,IACAtd,GAAAyc,QAAAK,aAAA/H,QAAA,GAAAqI,QAEA,CACA,GAAAG,GAAAb,IAAAW,QAAA,iBAAAC,IACAtd,GAAAyc,QAAAK,aAAA/H,QAAA,GAAAwI,IAEAvd,EAAAyc,QAAAK,aAAAU,SAAAzoC,KAGA,OAAA6H,EAAA,IACAsgC,EAAAz6B,KAAAg7B,YAAA,cACAh7B,KAAAu6B,QAAAxsC,GAGAa,EAAAyD,SAAA8H,EAAA,mBAAAjL,EAAAoD,GAEAmoC,EADAvrC,EACAquB,EAAAyd,YAAA7gC,EAAA,IAGA7H,GAEAirB,EAAAgd,QAAAxsC,KAIAqrC,EAAAx5B,UAAAo7B,YAAA,SAAAC,GACA,OAAAA,EAAA5kC,QAAA,QAAA4kC,EAAAtrC,OAAA,IACA,GAAA8K,GAAAwgC,EAAAvgC,YAAA,IACA,gBAAAugC,EAAA7R,UAAA3uB,EAAA,EAAAwgC,EAAAtrC,OAAA,oFAEA,UAEAypC,GACChC,EAAAc,qBACD7qC,GAAA01B,YAAA,EACA11B,EAAA,WAAA+rC,GZ27RM,SAAS9rC,EAAQD,EAASH,Ga7iShC,YAYA,SAAAguC,GAAArhC,EAAAshC,EAAAC,EAAAC,EAAAttC,GACAa,EAAA0I,QAAAyB,EAAA6B,QAAAf,GAAA,SAAA3K,EAAA4K,GACA,GAAA5K,GAAA,GAAA4K,EAAAnK,OACA,MAAA5B,GAAA,GAGA,IADA+L,IAAAmL,QACAk2B,EACA,MAAAptC,GAAA+L,EAAA5I,KAAA,MAEA,IAAAoqC,KACAliC,GAAAQ,KAAAE,EAEA,SAAAnM,EAAA4tC,GACA3sC,EAAAoM,KAAAnB,EAAA,IAAAlM,EAAA,SAAAuB,EAAA8L,GACA,MAAA9L,IACA8L,EAAAE,gBACAvN,GAAA,KAEA2tC,EAAAthC,KAAArM,IAEA4tC,OAIA,WAEAxtC,EADAqtC,EACA5qC,EAAA6K,UAAAigC,EAAAD,GAEAC,EAAApqC,KAAA,WAvCA,GAAAgmC,GAAAl3B,WAAAk3B,WAAA,SAAAb,EAAAhxB,GAEA,QAAA8xB,KAAmBn3B,KAAAP,YAAA42B,EADnB,OAAAzoC,KAAAyX,KAAA/E,eAAA1S,KAAAyoC,EAAAzoC,GAAAyX,EAAAzX,GAEAyoC,GAAAz2B,UAAA,OAAAyF,EAAAlF,OAAAU,OAAAwE,IAAA8xB,EAAAv3B,UAAAyF,EAAAzF,UAAA,GAAAu3B,KAEAC,EAAAlqC,EAAA,GACAkM,EAAAlM,EAAA,GACA6F,EAAA7F,EAAA,GACAsD,EAAAtD,EAAA,GACA6L,EAAAhG,EAAAuD,WAAA,QAAA1H,EAAAmE,EAAAuD,WAAA,MAAAxH,EAAAiE,EAAAuD,WAAA,WAkCAhF,EAAA,SAAA+lC,GAEA,QAAA/lC,KACA+lC,EAAA91B,MAAAvB,KAAAtB,WA4BA,MA9BAw4B,GAAA5lC,EAAA+lC,GAIA/lC,EAAAsO,UAAA0e,WAAA,WACA,YAEAhtB,EAAAsO,UAAA+hB,IAAA,SAAAjxB,EAAAyJ,EAAApM,GACA,GAAAywB,GAAA9tB,EAAA8tB,MACA,KAAArkB,EAAAxK,OACAurC,EAAA,UAAA1c,EAAA,SAAAgd,GACA9qC,EAAAb,OAAA2rC,EAAA,MACAztC,MAGA,IAAAoM,EAAAxK,OACAurC,EAAA/gC,EAAA,SAAAqkB,EAAA,SAAAgd,GACA9qC,EAAAb,OAAA2rC,EAAA,MACAztC,MAIAqL,EAAAQ,KAAAO,EAAA,SAAAN,EAAAkB,GACAmgC,EAAArhC,GAAA,KAAA2kB,EAAA,SAAAgd,GACA9qC,EAAAb,OAAAgK,EAAA,MAAA2hC,EAAA,QACAzgC,OAEahN,IAGbuD,GACC8lC,EAAAc,qBACD7qC,GAAAiE,WACA,IAAAE,GAAA,SAAA6lC,GAEA,QAAA7lC,KACA6lC,EAAA91B,MAAAvB,KAAAtB,WAsBA,MAxBAw4B,GAAA1lC,EAAA6lC,GAIA7lC,EAAAoO,UAAA0e,WAAA,WACA,aAEA9sB,EAAAoO,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,UAAAoM,EAAAxK,QACAN,EAAAQ,OAAA,uBACA9B,SAEAqL,GAAAC,WAAAc,EAAA,SAAAlJ,EAAA8J,GACAnM,EAAAyD,SAAApB,EAAA,gBAAA/B,EAAAoD,GACApD,EACAG,EAAAE,OAAA,wBAAA0B,EAAA,MAAA/B,EAAA,MAGAG,EAAAQ,OAAAyC,GAEAyI,OAEShN,IAETyD,GACC4lC,EAAAc,qBACD7qC,GAAAmE,YACA,IAAAC,GAAA,SAAA4lC,GAEA,QAAA5lC,KACA4lC,EAAA91B,MAAAvB,KAAAtB,WAkBA,MApBAw4B,GAAAzlC,EAAA4lC,GAIA5lC,EAAAmO,UAAA0e,WAAA,WACA,YAEA7sB,EAAAmO,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,MAAAoM,GAAAxK,OAAA,GACAN,EAAAQ,OAAA,qCACA9B,SAGAa,GAAA6sC,OAAAthC,EAAA,GAAAA,EAAA,YAAAjL,GACAA,GACAG,EAAAE,OAAA,oBAAA4K,EAAA,UAAAA,EAAA,QAAAjL,EAAA,MAEAnB,OAGA0D,GACC2lC,EAAAc,qBACD7qC,GAAAoE,WACA,IAAAC,GAAA,SAAA2lC,GAEA,QAAA3lC,KACA2lC,EAAA91B,MAAAvB,KAAAtB,WAiDA,MAnDAw4B,GAAAxlC,EAAA2lC,GAIA3lC,EAAAkO,UAAA0e,WAAA,WACA,YAEA5sB,EAAAkO,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,GAAAoM,EAAAxK,OAAA,EAEA,MADAN,GAAAQ,OAAA,qCACA9B,GAEA,IAAAmI,GAAAiE,EAAAsS,KAEAvW,GAAAwE,YAAA,MAAAxE,EAAAvG,OAAA,IACAuG,IAAAoC,OAAA,EAAApC,EAAAvG,OAAA,IAEAf,EAAAoM,KAAA9E,EAAA,SAAAhH,EAAA8L,GACA9L,GAAA,WAAAA,EAAAZ,MACAe,EAAAE,OAAA,wBAAA2G,EAAA,KAAAhH,EAAA,MACAnB,KAEA,MAAAiN,KAAAE,cAEA9B,EAAAQ,KAAAO,EAAA,SAAAlJ,EAAA8J,GACAvK,EAAAwM,SAAA/L,EAAA8H,EAAA6B,QAAA1E,EAAA6C,EAAA2iC,SAAAzqC,IAAA,SAAA/B,GACAA,GACAG,EAAAE,OAAA,mBAAA0B,EAAA,KAAA/B,EAAA,MAEA6L,OAEiBhN,GAEjBoM,EAAAxK,OAAA,GACAN,EAAAE,OAAA,yCACAxB,KAEAoM,EAAA,IAAAjE,GACA7G,EAAAE,OAAA,sCACAxB,KAGAyC,EAAAwM,SAAA7C,EAAA,GAAAjE,EAAA,SAAAhH,GACAA,GACAG,EAAAE,OAAA,gBAAAL,EAAA,MAEAnB,SAKA2D,GACC0lC,EAAAc,qBACD7qC,GAAAqE,WACA,IAAAC,GAAA,SAAA0lC,GAEA,QAAA1lC,KACA0lC,EAAA91B,MAAAvB,KAAAtB,WAmBA,MArBAw4B,GAAAvlC,EAAA0lC,GAIA1lC,EAAAiO,UAAA0e,WAAA,WACA,eAEA3sB,EAAAiO,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,MAAAoM,GAAAxK,OAAA,GACAN,EAAAQ,OAAA,4BACA9B,SAEAqL,GAAAQ,KAAAO,EAAA,SAAAlJ,EAAA8J,GACAnM,EAAAiO,MAAA5L,EAAA,SAAA/B,GACAA,GACAG,EAAAE,OAAA,4BAAA0B,EAAA,KAAA/B,EAAA,MAEA6L,OAEShN,IAET4D,GACCylC,EAAAc,qBACD7qC,GAAAsE,cACA,IAAAC,GAAA,SAAAylC,GAEA,QAAAzlC,KACAylC,EAAA91B,MAAAvB,KAAAtB,WAgCA,MAlCAw4B,GAAAtlC,EAAAylC,GAIAzlC,EAAAgO,UAAA0e,WAAA,WACA,YAEA1sB,EAAAgO,UAAA+hB,IAAA,SAAAjxB,EAAAyJ,EAAApM,GACA,GAAAoM,EAAAxK,OAAA,EACAe,EAAAb,OAAA,2BACA9B,QAEA,CACA,GAAA8L,EAGAA,GAFA,GAAAM,EAAAxK,QAAA,KAAAwK,EAAA,GAEA,QAGApB,EAAA6B,QAAAT,EAAA,IAIAvL,EAAA+sC,OAAA9hC,EAAA,SAAA+hC,GACAA,EACA9sC,EAAAsB,MAAAyJ,GAGAnJ,EAAAnB,OAAA,aAAAsK,EAAA,sBAEA9L,QAIA6D,GACCwlC,EAAAc,qBACD7qC,GAAAuE,WACA,IAAAC,GAAA,SAAAwlC,GAEA,QAAAxlC,KACAwlC,EAAA91B,MAAAvB,KAAAtB,WAqBA,MAvBAw4B,GAAArlC,EAAAwlC,GAIAxlC,EAAA+N,UAAA0e,WAAA,WACA,YAEAzsB,EAAA+N,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,MAAAoM,EAAA,IACA9K,EAAAQ,OAAA,sBACA9B,KAGAqL,EAAAQ,KAAAO,EAAA,SAAAlJ,EAAA8J,GACAnM,EAAA8N,OAAAzL,EAAA,SAAA/B,GACAA,GACAG,EAAAE,OAAA,yBAAA0B,EAAA,KAAA/B,EAAA,MAEA6L,OAEahN,IAGb8D,GACCulC,EAAAc,qBACD7qC,GAAAwE,WACA,IAAAC,GAAA,SAAAulC,GAEA,QAAAvlC,KACAulC,EAAA91B,MAAAvB,KAAAtB,WAqBA,MAvBAw4B,GAAAplC,EAAAulC,GAIAvlC,EAAA8N,UAAA0e,WAAA,WACA,eAEAxsB,EAAA8N,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,MAAAoM,EAAA,IACA9K,EAAAQ,OAAA,wBACA9B,KAGAqL,EAAAQ,KAAAO,EAAA,SAAAlJ,EAAA8J,GACAnM,EAAA6N,MAAAxL,EAAA,SAAA/B,GACAA,GACAG,EAAAE,OAAA,8BAAA0B,EAAA,KAAA/B,EAAA,MAEA6L,OAEahN,IAGb+D,GACCslC,EAAAc,qBACD7qC,GAAAyE,cACA,IAAAC,GAAA,SAAAslC,GAEA,QAAAtlC,KACAslC,EAAA91B,MAAAvB,KAAAtB,WAyCA,MA3CAw4B,GAAAnlC,EAAAslC,GAIAtlC,EAAA6N,UAAA0e,WAAA,WACA,uBAEAvsB,EAAA6N,UAAA4iB,sBAAA,WAEA,kBAA4B,WAE5BzwB,EAAA6N,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,GAAA8tC,GAAA,kBAEAC,EAAA1+B,OAAAjG,SAAA2kC,IAAA1+B,OAAAjG,SAAA2kC,IAAA9kC,SAAA+kC,IAEA,QAAAD,EAAAzlC,QAAA,eAAAylC,EAAAzlC,QAAA,oBACAhH,EAAAQ,OAAA,kEAAAsH,SAAA2kC,IAAA,2IAAA3kC,SAAA2kC,IAAAljC,QAAA,yBACA7K,QAEA,IAAAoM,EAAAxK,OAAA,SAAAwK,EAAA,GACA9K,EAAAQ,OAAA,+aACA9B,QAEA,CACA,GAAAoM,EAAAxK,QAAA,KAAAwK,EAAA,GAAAxK,SACAksC,EAAA1hC,EAAA,GACA9K,EAAAQ,OAAA,iBAAAgsC,EAAA,SAEA,IAAAG,GAAA,GAAAC,SAAAC,QAA6Ch6B,IAAA25B,GAC7CG,GAAAG,aAAA,SAAA9tC,EAAAiE,GACA,GAAAjE,EAMAgB,EAAAE,OAAA,iCAAAlB,EAAA,UANA,CACA,GAAAyH,GAAAlH,EAAAwtC,WACAtmC,GAAA1C,MAAA,kBAAAL,GAAAC,WAAAipC,QAAAD,IACA3sC,EAAAQ,OAAA,qJAKA9B,QAIAgE,GACCqlC,EAAAc,qBACD7qC,GAAA0E,uBbojSM,SAASzE,EAAQD,EAASH,Gch5ShC,YAuGA,SAAAmvC,KACA,GAAAj9B,GAAA,EAAAD,EAAAm9B,EAAA3sC,MACA,OAAA2sC,GAAAxnC,KAAAC,MAAAD,KAAA8P,UAAAzF,EAAAC,KAxGA,GAAA83B,GAAAl3B,WAAAk3B,WAAA,SAAAb,EAAAhxB,GAEA,QAAA8xB,KAAmBn3B,KAAAP,YAAA42B,EADnB,OAAAzoC,KAAAyX,KAAA/E,eAAA1S,KAAAyoC,EAAAzoC,GAAAyX,EAAAzX,GAEAyoC,GAAAz2B,UAAA,OAAAyF,EAAAlF,OAAAU,OAAAwE,IAAA8xB,EAAAv3B,UAAAyF,EAAAzF,UAAA,GAAAu3B,KAEAC,EAAAlqC,EAAA,GACA+E,EAAA,SAAAolC,GAEA,QAAAplC,KACAolC,EAAA91B,MAAAvB,KAAAtB,WA0BA,MA5BAw4B,GAAAjlC,EAAAolC,GAIAplC,EAAA2N,UAAA0e,WAAA,WACA,cAEArsB,EAAA2N,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACA,GAAAkzB,GAAA9mB,EAAA,GAAAoiC,EAAAltC,EAAA0yB,uBAAAd,EACA,OAAA9mB,EAAAxK,OACAN,EAAAQ,OAAA,gCACA9B,QAEA,IAAAuiB,SAAAisB,EACAltC,EAAAE,OAAA,sBAAA0xB,EAAA,MACAlzB,QAEA,CACA,GAAAia,IAAA,GAAA5T,OAAAC,SACAqD,SAAA8kC,QAAAvb,GACAsb,EAAA5a,IAAAtyB,EAAA8K,EAAA/D,MAAA,cACAsB,QAAA+kC,YACA,IAAAvhB,IAAA,GAAA9mB,OAAAC,SACAhF,GAAAQ,OAAA,oBAAAqrB,EAAAlT,GAAA,UACAja,QAIAkE,GACCmlC,EAAAc,qBACD7qC,GAAA4E,aACA,IAAAC,GAAA,SAAAmlC,GAEA,QAAAnlC,KACAmlC,EAAA91B,MAAAvB,KAAAtB,WA+BA,MAjCAw4B,GAAAhlC,EAAAmlC,GAIAnlC,EAAA0N,UAAA0e,WAAA,WACA,iBAEApsB,EAAA0N,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GAOA,QAAA2uC,GAAAC,GACA,GAAA30B,IAAA,GAAA5T,OAAAC,SACAkoC,GAAA5a,IAAAtyB,EAAA8K,EAAA/D,MAAA,cACA,IAAAumC,EAAA,CACA,GAAAzhB,IAAA,GAAA9mB,OAAAC,SACAuoC,IAAA1hB,EAAAlT,EAEA60B,EAAAzrB,EACAsrB,GAAA,IAGArtC,EAAAQ,OAAA,KAAAoxB,EAAA,uBAAA2b,EAAAC,EAAA,iBACA9uC,OAlBA,GAAAqjB,GAAA,EAAAyrB,EAAA,EAAAD,EAAA,EAAA3b,EAAA9mB,EAAA,GAAAoiC,EAAAltC,EAAA0yB,uBAAAd,EACA3Q,UAAAisB,GACAltC,EAAAQ,OAAA,sBAAAoxB,EAAA,MACAlzB,KAmBA2uC,GAAA,IAGAxqC,GACCklC,EAAAc,qBACD7qC,GAAA6E,gBACA,IAAAE,GAAA,SAAAilC,GAEA,QAAAjlC,KACAilC,EAAA91B,MAAAvB,KAAAtB,WAaA,MAfAw4B,GAAA9kC,EAAAilC,GAIAjlC,EAAAwN,UAAA0e,WAAA,WACA,cAEAlsB,EAAAwN,UAAA4iB,sBAAA,WAEA,kBAA4B,WAE5BpwB,EAAAwN,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACAsB,EAAAQ,OAAA,ohDACA9B,KAEAqE,GACCglC,EAAAc,qBACD7qC,GAAA+E,aACA,IAAAkqC,IACA,mGACA,gKACA,4GACA,yFACA,wLACA,kKAMAnqC,EAAA,SAAAklC,GAEA,QAAAllC,KACAklC,EAAA91B,MAAAvB,KAAAtB,WAaA,MAfAw4B,GAAA/kC,EAAAklC,GAIAllC,EAAAyN,UAAA0e,WAAA,WACA,aAEAnsB,EAAAyN,UAAA4iB,sBAAA,WAEA,kBAA4B,WAE5BrwB,EAAAyN,UAAA+hB,IAAA,SAAAtyB,EAAA8K,EAAApM,GACAsB,EAAAQ,OAAAwsC,IAAA,MACAtuC,KAEAoE,GACCilC,EAAAc,qBACD7qC,GAAA8E,cdu5SM,SAAS7E,EAAQD,GephTvBC,EAAAD,SACAyvC,cAAA,KACAC,aAAA,KACAC,sBAAA,KACAC,qBAAA,KACAC,yBAAA,KACAC,wBAAA,KACAC,cAAA,KACAC,iBAAA,KACAC,oBAAA,KACAC,cAAA,KACAC,4BAAA,KACAC,6BAAA,KACAC,8BAAA,KACAC,eAAA,KACAC,gBAAA,KACAC,iBAAA,KACAC,gBACAC,KACAC,IAAA,KACAC,UAAA,KACAC,MAAA,KACAC,YAAA,KACAC,OAAA,KACAC,aAAA,KACAC,SAAA,KACAC,eAAA,KACAC,OAAA,KACAC,aAAA,MAEAC,KACAC,aAAA,KACAC,cAAA,KACAC,OAAA,KACAC,UACAC,mBAAA,KACAC,cAAA,KACAC,gBAAA,KACAC,wBAAA,KACAC,oBAAA,KACAC,iBAAA,KACAC,iBAAA,KACAC,wBAAA,MAEAC,OACA/pC,KACAgqC,YAAA,MAEAC,WAAA,KACAC,QACAC,eAAA,KACAC,iBAAA,MAEAC,aAAA,KACAC,aAAA,KACAC,cAAA,KACAC,gBAAA,KACAC,cAAA,OAGAC,KACAC,6BAAA,KACAC,mBAAA,KACAC,mBAAA,KACAC,0BAAA,KACAC,wCAAA,KACAC,qBAAA,KACAC,6CAAA,KACAC,8CAAA,KACAC,oBAAA,KACAC,0CAAA,KACAC,oBAAA,KACAC,6BAAA,KACAC,2BAAA,KACAC,oBAAA,MAEAC,KACAC,MACAC,QAAA,KACAC,UAAA,KACAC,WAAA,KACAC,aAAA,KACAC,WAAA,QAIAC,kBAAA","file":"app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/js/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar BrowserFS = __webpack_require__(1);\n\tvar util_1 = __webpack_require__(2);\n\tvar shell_1 = __webpack_require__(5);\n\tvar java_1 = __webpack_require__(7);\n\tvar edit_1 = __webpack_require__(10);\n\tvar fs_1 = __webpack_require__(11);\n\tvar util_2 = __webpack_require__(12);\n\tvar Doppio = __webpack_require__(9);\n\tvar process = BrowserFS.BFSRequire('process'), Buffer = BrowserFS.BFSRequire('buffer').Buffer, fs = BrowserFS.BFSRequire('fs'), path = BrowserFS.BFSRequire('path'), demoJars = \"/programs/\", demoClasses = \"/home/classes/\";\n\t// Set the origin location, if it's not already.\n\tif (location['origin'] == null) {\n\t    location['origin'] = location.protocol + \"//\" + location.host;\n\t}\n\t/**\n\t * Uploads the specified file via the FileReader interface. Calls the callback\n\t * with an optional error if one occurs.\n\t */\n\tfunction uploadFile(f, cb) {\n\t    var reader = new FileReader();\n\t    reader.onerror = function (e) {\n\t        switch (e.target.error.code) {\n\t            case e.target.error.NOT_FOUND_ERR:\n\t                return cb(\"File \" + f.name + \" not found.\");\n\t            case e.target.error.NOT_READABLE_ERR:\n\t                return cb(\"File \" + f.name + \" is not readable.\");\n\t            case e.target.error.SECURITY_ERR:\n\t                return cb(\"Cannot use the FileReader interface. You must launch your browser with --allow-file-access-from-files.\");\n\t        }\n\t    };\n\t    reader.onload = function (e) {\n\t        fs.writeFile(process.cwd() + '/' + f.name, new Buffer(e.target.result), function (err) {\n\t            if (err) {\n\t                cb(\"\" + err);\n\t            }\n\t            else {\n\t                cb();\n\t            }\n\t        });\n\t    };\n\t    reader.readAsArrayBuffer(f);\n\t}\n\t/**\n\t * Upload files via the browser's FileReader interface. Triggered when someone\n\t * clicks the upload button in the demo.\n\t */\n\tfunction uploadFiles(terminal, ev) {\n\t    if (typeof FileReader === \"undefined\" || FileReader === null) {\n\t        terminal.stderr(\"\\nYour browser doesn't support file loading.\\nTry using the editor to create files instead.\\n\");\n\t        return terminal.prompt();\n\t    }\n\t    var fileCount = ev.target.files.length, filesUploaded = 0;\n\t    if (fileCount > 0) {\n\t        terminal.stdout(\"\\nUploading \" + fileCount + \" files...\\n\");\n\t    }\n\t    var files = ev.target.files;\n\t    var _loop_1 = function(i) {\n\t        var f = files[i];\n\t        uploadFile(f, function (e) {\n\t            filesUploaded++;\n\t            var str = \"[\" + filesUploaded + \"/\" + fileCount + \"]: File \" + f.name + \" \";\n\t            if (e) {\n\t                str += \"could not be saved: \" + e + \".\\n\";\n\t                terminal.stderr(str);\n\t            }\n\t            else {\n\t                str += \"successfully saved.\\n\";\n\t                terminal.stdout(str);\n\t            }\n\t            if (filesUploaded === fileCount) {\n\t                terminal.prompt();\n\t            }\n\t        });\n\t    };\n\t    for (var i = 0; i < files.length; i++) {\n\t        _loop_1(i);\n\t    }\n\t}\n\tfunction startDemo() {\n\t    // Set up the master terminal object.\n\t    var consoleJQuery = $('#console');\n\t    process.chdir('/home');\n\t    consoleJQuery.fadeIn('fast', function () {\n\t        var consoleElement = consoleJQuery.get()[0];\n\t        util_1.disableScroll(consoleElement);\n\t        var shell = new shell_1[\"default\"](consoleElement, [\n\t            new java_1.JARCommand('ecj', demoJars + \"ecj-4.5.jar\", ['-Djdt.compiler.useSingleThread=true'], ['java']),\n\t            new java_1.JARCommand('rhino', demoJars + \"rhino1.7.6.jar\", [], ['js']),\n\t            new java_1.JARCommand('kawa', demoJars + \"kawa-2.0.jar\", [], ['scm', 'ss', 'sch']),\n\t            new java_1.JARCommand('clojure', demoJars + \"clojure1.7.0.jar\", [], ['clj', 'cljs', 'cljc', 'edn']),\n\t            // Needs --bin irb to do REPL. Add if no args!\n\t            // new JARCommand('jruby', demoJars + \"jruby-complete-9.0.1.0.jar\", [], ['rb']),\n\t            // Doesn't work :| Fucking jline.\n\t            // new JARCommand('jython', demoJars + \"jython-standalone-2.7.0.jar\", [\"-Djline.terminal=jline.UnsupportedTerminal\"], ['js']),\n\t            new java_1.JavaClassCommand('scala', \"\", 'scala.tools.nsc.MainGenericRunner', [\n\t                '-Xbootclasspath/a:' + [\n\t                    'akka-actor_2.11-2.3.10.jar',\n\t                    'config-1.2.1.jar',\n\t                    'jline-2.12.1.jar',\n\t                    'scala-actors-2.11.0.jar',\n\t                    'scala-actors-migration_2.11-1.1.0.jar',\n\t                    'scala-compiler.jar',\n\t                    'scala-continuations-library_2.11-1.0.2.jar',\n\t                    'scala-continuations-plugin_2.11.7-1.0.2.jar',\n\t                    'scala-library.jar',\n\t                    'scala-parser-combinators_2.11-1.0.4.jar',\n\t                    'scala-reflect.jar',\n\t                    'scala-swing_2.11-1.0.2.jar',\n\t                    'scala-xml_2.11-1.0.4.jar',\n\t                    'scalap-2.11.7.jar'\n\t                ].map(function (item) { return (demoJars + \"scala-2.11.7/lib/\" + item); }).join(':'),\n\t                (\"-Dscala.home=\" + demoJars + \"scala-2.11.7\"), '-Dscala.usejavacp=true',\n\t                '-Denv.emacs='\n\t            ], [], ['scala', 'sc']),\n\t            new java_1.JARCommand('groovy', demoJars + \"groovy-all-2.4.5-indy.jar\", [], ['groovy', 'gvy', 'gy', 'gsh']),\n\t            new java_1.JARCommand('abcl', demoJars + \"abcl-1.3.3.jar\", [], ['lisp', 'cl', 'lsp', 'l']),\n\t            new java_1.JARCommand('nashorn', \"/home/vendor/java_home/lib/ext/nashorn.jar\", [], ['js']),\n\t            new java_1.JARCommand('abandon', \"/programs/abandon.jar\", [], ['conf']),\n\t            new java_1.JavaClassCommand('scimark2', \"/programs/scimark2lib.jar\", 'jnt.scimark2.commandline', [], [], []),\n\t            new java_1.JavaClassCommand('javac', demoClasses, \"classes.util.Javac\", [], [], ['java']),\n\t            new java_1.JavaClassCommand('javap', demoClasses, \"classes.util.Javap\", [], [], ['class']),\n\t            new java_1.JavaCommand(),\n\t            new fs_1.LSCommand(),\n\t            new edit_1[\"default\"]('source', $('#save_btn'), $('#close_btn'), $('#ide'), $('#console'), $('#filename')),\n\t            new fs_1.CatCommand(),\n\t            new fs_1.MvCommand(),\n\t            new fs_1.CpCommand(),\n\t            new fs_1.MkdirCommand(),\n\t            new fs_1.CDCommand(),\n\t            new fs_1.RMCommand(),\n\t            new fs_1.RmdirCommand(),\n\t            new fs_1.MountDropboxCommand(),\n\t            new util_2.TimeCommand(),\n\t            new util_2.ProfileCommand(),\n\t            new util_2.TipCommand(),\n\t            new util_2.HelpCommand()\n\t        ], 'Please wait while the DoppioJVM demo loads...', \"/home/.shell_history\");\n\t        fs.readFile(\"/home/motd\", function (e, data) {\n\t            var welcomeText = \"\";\n\t            if (!e) {\n\t                welcomeText = data.toString();\n\t            }\n\t            // set up the local file loaders\n\t            $('#file').change(function (ev) {\n\t                uploadFiles(shell, ev);\n\t            });\n\t            // Set up stdout/stderr/stdin.\n\t            process.stdout.on('data', function (data) { return shell.stdout(data.toString()); });\n\t            process.stderr.on('data', function (data) { return shell.stderr(data.toString()); });\n\t            shell.loadingCompleted(welcomeText);\n\t        });\n\t    });\n\t}\n\t/**\n\t * Mounts + sets up the file system.\n\t */\n\tfunction setupFileSystem(persistentFs, cb) {\n\t    var root = new BrowserFS.FileSystem.MountableFileSystem();\n\t    BrowserFS.initialize(root);\n\t    fs.mkdirSync('/mnt');\n\t    root.mount('/home', persistentFs);\n\t    root.mount('/tmp', new BrowserFS.FileSystem.InMemory());\n\t    root.mount('/mnt/localStorage', new BrowserFS.FileSystem.LocalStorage());\n\t    root.mount('/programs', new BrowserFS.FileSystem.XmlHttpRequest(__webpack_require__(13), 'programs/'));\n\t    cb();\n\t}\n\tfunction constructPersistantFs(cb) {\n\t    if (BrowserFS.FileSystem.IndexedDB.isAvailable()) {\n\t        var idbfs_1 = new BrowserFS.FileSystem.IndexedDB(function (e, fs) {\n\t            if (e) {\n\t                cb(new BrowserFS.FileSystem.InMemory());\n\t            }\n\t            else {\n\t                cb(idbfs_1);\n\t            }\n\t        }, 'doppio-cache');\n\t    }\n\t    else if (BrowserFS.FileSystem.HTML5FS.isAvailable()) {\n\t        var html5fs_1 = new BrowserFS.FileSystem.HTML5FS(100 * 1024 * 1024);\n\t        html5fs_1.allocate(function (e) {\n\t            if (e) {\n\t                cb(new BrowserFS.FileSystem.InMemory());\n\t            }\n\t            else {\n\t                cb(html5fs_1);\n\t            }\n\t        });\n\t    }\n\t    else {\n\t        cb(new BrowserFS.FileSystem.InMemory());\n\t    }\n\t}\n\t/**\n\t * Downloads + extracts java_home to browser-local storage.\n\t */\n\tfunction setupJavaHome(persistentFs, cb) {\n\t    var progressBarText = $('.progress-bar span');\n\t    var progressBar = $('.progress-bar');\n\t    var fs = BrowserFS.BFSRequire('fs');\n\t    progressBarText.text(\"Checking browser cache...\");\n\t    BrowserFS.initialize(persistentFs);\n\t    fs.readFile('/vendor/java_home/jdk.json', function (err, data) {\n\t        if (err) {\n\t            download();\n\t        }\n\t        else {\n\t            try {\n\t                var json = JSON.parse(data.toString());\n\t                var expectedURL = Doppio.VM.JVM.getCompiledJDKURL();\n\t                if (json.url === expectedURL) {\n\t                    // checks out. bypass download.\n\t                    cb();\n\t                }\n\t                else {\n\t                    // replace.\n\t                    download();\n\t                }\n\t            }\n\t            catch (e) {\n\t                download();\n\t            }\n\t        }\n\t    });\n\t    function download() {\n\t        var xhr = new XMLHttpRequest();\n\t        var startTime = (new Date()).getTime();\n\t        xhr.open('GET', 'doppio_home.zip');\n\t        xhr.responseType = \"arraybuffer\";\n\t        xhr.addEventListener('progress', function (e) {\n\t            var time = (new Date()).getTime();\n\t            var loaded = e.loaded;\n\t            var total = e.total;\n\t            // KB/s\n\t            var rate = (loaded >> 10) / ((time - startTime) / 1000);\n\t            var remaining = (total - loaded) >> 10;\n\t            var remainingTime = Math.floor(remaining / rate);\n\t            var remainingMinutes = Math.floor(remainingTime / 60);\n\t            var remainingSeconds = remainingTime % 60;\n\t            var percent = ((loaded / total) * 100) | 0;\n\t            progressBarText.text(\"Downloading doppio_home.zip at \" + rate.toFixed(2) + \" KB/s [\" + (loaded >> 10) + \" KB / \" + (total >> 10) + \" KB] (\" + remainingMinutes + \"m\" + remainingSeconds + \"s remaining)\");\n\t            progressBar.attr('aria-valuenow', percent);\n\t            progressBar.css('width', percent + \"%\");\n\t        });\n\t        xhr.addEventListener('load', function (e) {\n\t            extract(xhr.response);\n\t        });\n\t        xhr.addEventListener('error', function (e) {\n\t            progressBar.removeClass('active').addClass('progress-bar-danger');\n\t            progressBarText.text(\"Error downloading doppio_home.zip: \" + e.error);\n\t        });\n\t        xhr.addEventListener('abort', function (e) {\n\t            progressBar.removeClass('active').addClass('progress-bar-danger');\n\t            progressBarText.text(\"Error downloading doppio_home.zip: Transfer aborted.\");\n\t        });\n\t        xhr.send();\n\t    }\n\t    function extract(data) {\n\t        var mfs = new BrowserFS.FileSystem.MountableFileSystem();\n\t        mfs.mount('/persist', persistentFs);\n\t        mfs.mount('/doppio_home', new BrowserFS.FileSystem.ZipFS(new Buffer(data)));\n\t        BrowserFS.initialize(mfs);\n\t        util_1.recursiveCopy('/doppio_home', '/persist', function (src, dest, size) {\n\t            progressBarText.text(\"Extracting \" + dest.slice(dest.indexOf('/', 1) + 1) + \"...\");\n\t        }, function (err) {\n\t            if (err) {\n\t                progressBar.removeClass('active').addClass('progress-bar-danger');\n\t                progressBarText.text(\"Error extracting doppio_home.zip: \" + err);\n\t            }\n\t            else {\n\t                cb();\n\t            }\n\t        });\n\t    }\n\t}\n\t$(document).ready(function () {\n\t    var persistentFs = null;\n\t    constructPersistantFs(function (_fs) {\n\t        persistentFs = _fs;\n\t        BrowserFS.initialize(_fs);\n\t        var fs = BrowserFS.BFSRequire('fs');\n\t        fs.readdir('/', function (err, files) {\n\t            if (files && files.length > 0) {\n\t                // Add clear demo button.\n\t                $('#clear-demo-button').fadeIn('fast').on('click', function () {\n\t                    $('#clear-demo-button').prop('disabled', true);\n\t                    var resetStatus = $('#reset-status');\n\t                    util_1.recursiveRm('/', function (p) {\n\t                        resetStatus.text(\"Deleting cached file \" + p + \"...\");\n\t                    }, function (err) {\n\t                        if (err)\n\t                            console.error(\"Error removing: \" + err);\n\t                        document.location.reload(true);\n\t                    });\n\t                });\n\t            }\n\t        });\n\t    });\n\t    $('#demo_button').on('click', function () {\n\t        $('#button-and-warning').fadeOut('fast', function () {\n\t            $('#progress-bar-container').fadeIn('fast', function () {\n\t                if (!persistentFs) {\n\t                    var progressBarText = $('.progress-bar span');\n\t                    progressBarText.text(\"Waiting for you to grant or deny us access to browser storage....\");\n\t                    var interval_1 = setInterval(function () {\n\t                        if (persistentFs) {\n\t                            clearInterval(interval_1);\n\t                            step2();\n\t                        }\n\t                    }, 100);\n\t                }\n\t                else {\n\t                    step2();\n\t                }\n\t                function step2() {\n\t                    setupJavaHome(persistentFs, function () {\n\t                        setupFileSystem(persistentFs, function () {\n\t                            $('#progress-bar-container').fadeOut('fast', function () {\n\t                                startDemo();\n\t                            });\n\t                        });\n\t                    });\n\t                }\n\t            });\n\t        });\n\t    });\n\t});\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFPLFNBQVMsV0FBVyxXQUFXLENBQUMsQ0FBQztBQUN4QyxxQkFBeUUsUUFBUSxDQUFDLENBQUE7QUFDbEYsc0JBQWtCLFNBQVMsQ0FBQyxDQUFBO0FBQzVCLHFCQUF3RCxpQkFBaUIsQ0FBQyxDQUFBO0FBQzFFLHFCQUF3QixpQkFBaUIsQ0FBQyxDQUFBO0FBQzFDLG1CQUFpSSxlQUFlLENBQUMsQ0FBQTtBQUNqSixxQkFBbUUsaUJBQWlCLENBQUMsQ0FBQTtBQUdyRixJQUFPLE1BQU0sV0FBVyxXQUFXLENBQUMsQ0FBQztBQUVyQyxJQUFNLE9BQU8sR0FBbUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsRUFDN0QsTUFBTSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxFQUM5QyxFQUFFLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFDL0IsSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQ25DLFFBQVEsR0FBRyxZQUFZLEVBQ3ZCLFdBQVcsR0FBRyxnQkFBZ0IsQ0FBQztBQUVqQyxnREFBZ0Q7QUFDaEQsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDL0IsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7QUFDaEUsQ0FBQztBQVdEOzs7R0FHRztBQUNILG9CQUFvQixDQUFPLEVBQUUsRUFBd0I7SUFDbkQsSUFBSSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztJQUM5QixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQUMsQ0FBa0I7UUFDbEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxD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RixJQUFNLFVBQVEsR0FBRyxXQUFXLENBQUM7d0JBQzNCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7NEJBQ2pCLGFBQWEsQ0FBQyxVQUFRLENBQUMsQ0FBQzs0QkFDeEIsS0FBSyxFQUFFLENBQUM7d0JBQ1YsQ0FBQztvQkFDSCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ1YsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDTixLQUFLLEVBQUUsQ0FBQztnQkFDVixDQUFDO2dCQUVEO29CQUNFLGFBQWEsQ0FBQyxZQUFZLEVBQUU7d0JBQzFCLGVBQWUsQ0FBQyxZQUFZLEVBQUU7NEJBQzVCLENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7Z0NBQzNDLFNBQVMsRUFBRSxDQUFDOzRCQUNkLENBQUMsQ0FBQyxDQUFDO3dCQUNMLENBQUMsQ0FBQyxDQUFDO29CQUNMLENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCcm93c2VyRlMgPSByZXF1aXJlKCdicm93c2VyZnMnKTtcbmltcG9ydCB7ZmlsdGVyU3Vic3RyaW5nLCByZWN1cnNpdmVDb3B5LCBkaXNhYmxlU2Nyb2xsLCByZWN1cnNpdmVSbX0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBTaGVsbCBmcm9tICcuL3NoZWxsJztcbmltcG9ydCB7SkFSQ29tbWFuZCwgSmF2YUNsYXNzQ29tbWFuZCwgSmF2YUNvbW1hbmR9IGZyb20gJy4vY29tbWFuZHMvamF2YSc7XG5pbXBvcnQgRWRpdENvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9lZGl0JztcbmltcG9ydCB7TFNDb21tYW5kLCBDYXRDb21tYW5kLCBDRENvbW1hbmQsIENwQ29tbWFuZCwgTWtkaXJDb21tYW5kLCBNb3VudERyb3Bib3hDb21tYW5kLCBNdkNvbW1hbmQsIFJNQ29tbWFuZCwgUm1kaXJDb21tYW5kfSBmcm9tICcuL2NvbW1hbmRzL2ZzJztcbmltcG9ydCB7VGltZUNvbW1hbmQsIEhlbHBDb21tYW5kLCBQcm9maWxlQ29tbWFuZCwgVGlwQ29tbWFuZH0gZnJvbSAnLi9jb21tYW5kcy91dGlsJztcbmltcG9ydCBfZnMgPSByZXF1aXJlKCdmcycpO1xuaW1wb3J0IFN0YXRzID0gX2ZzLlN0YXRzO1xuaW1wb3J0IERvcHBpbyA9IHJlcXVpcmUoJ2RvcHBpb2p2bScpO1xuXG5jb25zdCBwcm9jZXNzOiBOb2RlSlMuUHJvY2VzcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdwcm9jZXNzJyksXG4gIEJ1ZmZlciA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdidWZmZXInKS5CdWZmZXIsXG4gIGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyksXG4gIHBhdGggPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgncGF0aCcpLFxuICBkZW1vSmFycyA9IFwiL3Byb2dyYW1zL1wiLFxuICBkZW1vQ2xhc3NlcyA9IFwiL2hvbWUvY2xhc3Nlcy9cIjtcblxuLy8gU2V0IHRoZSBvcmlnaW4gbG9jYXRpb24sIGlmIGl0J3Mgbm90IGFscmVhZHkuXG5pZiAobG9jYXRpb25bJ29yaWdpbiddID09IG51bGwpIHtcbiAgbG9jYXRpb25bJ29yaWdpbiddID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xufVxuXG4vLyBBZGQgdGhlIC5maWxlcyBhdHRyIGZvciBGaWxlUmVhZGVyIGV2ZW50IHRhcmdldHMuXG5pbnRlcmZhY2UgRmlsZVJlYWRlckV2ZW50IGV4dGVuZHMgRXJyb3JFdmVudCB7XG4gIHRhcmdldDogRmlsZVJlYWRlckV2ZW50VGFyZ2V0O1xufVxuaW50ZXJmYWNlIEZpbGVSZWFkZXJFdmVudFRhcmdldCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgZmlsZXM6IEZpbGVbXTtcbiAgZXJyb3I6IGFueTtcbn1cblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBzcGVjaWZpZWQgZmlsZSB2aWEgdGhlIEZpbGVSZWFkZXIgaW50ZXJmYWNlLiBDYWxscyB0aGUgY2FsbGJhY2tcbiAqIHdpdGggYW4gb3B0aW9uYWwgZXJyb3IgaWYgb25lIG9jY3Vycy5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkRmlsZShmOiBGaWxlLCBjYjogKGU/OiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmVycm9yID0gKGU6IEZpbGVSZWFkZXJFdmVudCk6IHZvaWQgPT4ge1xuICAgIHN3aXRjaCAoZS50YXJnZXQuZXJyb3IuY29kZSkge1xuICAgICAgY2FzZSBlLnRhcmdldC5lcnJvci5OT1RfRk9VTkRfRVJSOlxuICAgICAgICByZXR1cm4gY2IoYEZpbGUgJHtmLm5hbWV9IG5vdCBmb3VuZC5gKTtcbiAgICAgIGNhc2UgZS50YXJnZXQuZXJyb3IuTk9UX1JFQURBQkxFX0VSUjpcbiAgICAgICAgcmV0dXJuIGNiKGBGaWxlICR7Zi5uYW1lfSBpcyBub3QgcmVhZGFibGUuYCk7XG4gICAgICBjYXNlIGUudGFyZ2V0LmVycm9yLlNFQ1VSSVRZX0VSUjpcbiAgICAgICAgcmV0dXJuIGNiKFwiQ2Fubm90IHVzZSB0aGUgRmlsZVJlYWRlciBpbnRlcmZhY2UuIFlvdSBtdXN0IGxhdW5jaCB5b3VyIGJyb3dzZXIgd2l0aCAtLWFsbG93LWZpbGUtYWNjZXNzLWZyb20tZmlsZXMuXCIpO1xuICAgIH1cbiAgfTtcbiAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgZnMud3JpdGVGaWxlKHByb2Nlc3MuY3dkKCkgKyAnLycgKyBmLm5hbWUsIG5ldyBCdWZmZXIoKDxhbnk+IGUudGFyZ2V0KS5yZXN1bHQpLCAoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNiKGAke2Vycn1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmKTtcbn1cblxuLyoqXG4gKiBVcGxvYWQgZmlsZXMgdmlhIHRoZSBicm93c2VyJ3MgRmlsZVJlYWRlciBpbnRlcmZhY2UuIFRyaWdnZXJlZCB3aGVuIHNvbWVvbmVcbiAqIGNsaWNrcyB0aGUgdXBsb2FkIGJ1dHRvbiBpbiB0aGUgZGVtby5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkRmlsZXModGVybWluYWw6IFNoZWxsLCBldjogRmlsZVJlYWRlckV2ZW50KSB7XG4gIGlmICh0eXBlb2YgRmlsZVJlYWRlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBGaWxlUmVhZGVyID09PSBudWxsKSB7XG4gICAgdGVybWluYWwuc3RkZXJyKFwiXFxuWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBmaWxlIGxvYWRpbmcuXFxuVHJ5IHVzaW5nIHRoZSBlZGl0b3IgdG8gY3JlYXRlIGZpbGVzIGluc3RlYWQuXFxuXCIpO1xuICAgIHJldHVybiB0ZXJtaW5hbC5wcm9tcHQoKTtcbiAgfVxuICB2YXIgZmlsZUNvdW50ID0gZXYudGFyZ2V0LmZpbGVzLmxlbmd0aCwgZmlsZXNVcGxvYWRlZCA9IDA7XG4gIGlmIChmaWxlQ291bnQgPiAwKSB7XG4gICAgdGVybWluYWwuc3Rkb3V0KGBcXG5VcGxvYWRpbmcgJHtmaWxlQ291bnR9IGZpbGVzLi4uXFxuYCk7XG4gIH1cblxuICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGYgPSBmaWxlc1tpXTtcbiAgICB1cGxvYWRGaWxlKGYsKGU/KSA9PiB7XG4gICAgICBmaWxlc1VwbG9hZGVkKys7XG4gICAgICB2YXIgc3RyID0gYFske2ZpbGVzVXBsb2FkZWR9LyR7ZmlsZUNvdW50fV06IEZpbGUgJHtmLm5hbWV9IGBcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIHN0ciArPSBgY291bGQgbm90IGJlIHNhdmVkOiAke2V9LlxcbmA7XG4gICAgICAgIHRlcm1pbmFsLnN0ZGVycihzdHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyICs9IFwic3VjY2Vzc2Z1bGx5IHNhdmVkLlxcblwiO1xuICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoc3RyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGVzVXBsb2FkZWQgPT09IGZpbGVDb3VudCkge1xuICAgICAgICB0ZXJtaW5hbC5wcm9tcHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydERlbW8oKSB7XG4gIC8vIFNldCB1cCB0aGUgbWFzdGVyIHRlcm1pbmFsIG9iamVjdC5cbiAgY29uc3QgY29uc29sZUpRdWVyeSA9ICQoJyNjb25zb2xlJyk7XG4gIHByb2Nlc3MuY2hkaXIoJy9ob21lJyk7XG4gIGNvbnNvbGVKUXVlcnkuZmFkZUluKCdmYXN0JywgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnNvbGVFbGVtZW50ID0gY29uc29sZUpRdWVyeS5nZXQoKVswXTtcbiAgICBkaXNhYmxlU2Nyb2xsKGNvbnNvbGVFbGVtZW50KTtcbiAgICBjb25zdCBzaGVsbCA9IG5ldyBTaGVsbChjb25zb2xlRWxlbWVudCwgW1xuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnZWNqJywgZGVtb0phcnMgKyBcImVjai00LjUuamFyXCIsIFsnLURqZHQuY29tcGlsZXIudXNlU2luZ2xlVGhyZWFkPXRydWUnXSwgWydqYXZhJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgncmhpbm8nLCBkZW1vSmFycyArIFwicmhpbm8xLjcuNi5qYXJcIiwgW10sICBbJ2pzJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgna2F3YScsIGRlbW9KYXJzICsgXCJrYXdhLTIuMC5qYXJcIiwgW10sIFsnc2NtJywgJ3NzJywgJ3NjaCddKSxcbiAgICAgICAgbmV3IEpBUkNvbW1hbmQoJ2Nsb2p1cmUnLCBkZW1vSmFycyArIFwiY2xvanVyZTEuNy4wLmphclwiLCBbXSwgWydjbGonLCAnY2xqcycsICdjbGpjJywgJ2VkbiddKSxcbiAgICAgICAgLy8gTmVlZHMgLS1iaW4gaXJiIHRvIGRvIFJFUEwuIEFkZCBpZiBubyBhcmdzIVxuICAgICAgICAvLyBuZXcgSkFSQ29tbWFuZCgnanJ1YnknLCBkZW1vSmFycyArIFwianJ1YnktY29tcGxldGUtOS4wLjEuMC5qYXJcIiwgW10sIFsncmInXSksXG4gICAgICAgIC8vIERvZXNuJ3Qgd29yayA6fCBGdWNraW5nIGpsaW5lLlxuICAgICAgICAvLyBuZXcgSkFSQ29tbWFuZCgnanl0aG9uJywgZGVtb0phcnMgKyBcImp5dGhvbi1zdGFuZGFsb25lLTIuNy4wLmphclwiLCBbXCItRGpsaW5lLnRlcm1pbmFsPWpsaW5lLlVuc3VwcG9ydGVkVGVybWluYWxcIl0sIFsnanMnXSksXG4gICAgICAgIG5ldyBKYXZhQ2xhc3NDb21tYW5kKCdzY2FsYScsIFwiXCIsICdzY2FsYS50b29scy5uc2MuTWFpbkdlbmVyaWNSdW5uZXInLCBbXG4gICAgICAgICAgJy1YYm9vdGNsYXNzcGF0aC9hOicgKyBbXG4gICAgICAgICAgICAnYWtrYS1hY3Rvcl8yLjExLTIuMy4xMC5qYXInLFxuICAgICAgICAgICAgJ2NvbmZpZy0xLjIuMS5qYXInLFxuICAgICAgICAgICAgJ2psaW5lLTIuMTIuMS5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLWFjdG9ycy0yLjExLjAuamFyJyxcbiAgICAgICAgICAgICdzY2FsYS1hY3RvcnMtbWlncmF0aW9uXzIuMTEtMS4xLjAuamFyJyxcbiAgICAgICAgICAgICdzY2FsYS1jb21waWxlci5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLWNvbnRpbnVhdGlvbnMtbGlicmFyeV8yLjExLTEuMC4yLmphcicsXG4gICAgICAgICAgICAnc2NhbGEtY29udGludWF0aW9ucy1wbHVnaW5fMi4xMS43LTEuMC4yLmphcicsXG4gICAgICAgICAgICAnc2NhbGEtbGlicmFyeS5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLXBhcnNlci1jb21iaW5hdG9yc18yLjExLTEuMC40LmphcicsXG4gICAgICAgICAgICAnc2NhbGEtcmVmbGVjdC5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLXN3aW5nXzIuMTEtMS4wLjIuamFyJyxcbiAgICAgICAgICAgICdzY2FsYS14bWxfMi4xMS0xLjAuNC5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhcC0yLjExLjcuamFyJ1xuICAgICAgICAgIF0ubWFwKChpdGVtKSA9PiBgJHtkZW1vSmFyc31zY2FsYS0yLjExLjcvbGliLyR7aXRlbX1gKS5qb2luKCc6JyksXG4gICAgICAgICAgYC1Ec2NhbGEuaG9tZT0ke2RlbW9KYXJzfXNjYWxhLTIuMTEuN2AsICctRHNjYWxhLnVzZWphdmFjcD10cnVlJyxcbiAgICAgICAgICAnLURlbnYuZW1hY3M9J1xuICAgICAgICBdLCBbXSwgWydzY2FsYScsICdzYyddKSxcbiAgICAgICAgbmV3IEpBUkNvbW1hbmQoJ2dyb292eScsIGRlbW9KYXJzICsgXCJncm9vdnktYWxsLTIuNC41LWluZHkuamFyXCIsIFtdLCBbJ2dyb292eScsICdndnknLCAnZ3knLCAnZ3NoJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnYWJjbCcsIGRlbW9KYXJzICsgXCJhYmNsLTEuMy4zLmphclwiLCBbXSwgWydsaXNwJywgJ2NsJywgJ2xzcCcsICdsJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnbmFzaG9ybicsIFwiL2hvbWUvdmVuZG9yL2phdmFfaG9tZS9saWIvZXh0L25hc2hvcm4uamFyXCIsIFtdLCBbJ2pzJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnYWJhbmRvbicsIFwiL3Byb2dyYW1zL2FiYW5kb24uamFyXCIsIFtdLCBbJ2NvbmYnXSksXG4gICAgICAgIG5ldyBKYXZhQ2xhc3NDb21tYW5kKCdzY2ltYXJrMicsIFwiL3Byb2dyYW1zL3NjaW1hcmsybGliLmphclwiLCAnam50LnNjaW1hcmsyLmNvbW1hbmRsaW5lJywgW10sIFtdLCBbXSksXG4gICAgICAgIG5ldyBKYXZhQ2xhc3NDb21tYW5kKCdqYXZhYycsIGRlbW9DbGFzc2VzLCBcImNsYXNzZXMudXRpbC5KYXZhY1wiLCBbXSwgW10sIFsnamF2YSddKSxcbiAgICAgICAgbmV3IEphdmFDbGFzc0NvbW1hbmQoJ2phdmFwJywgZGVtb0NsYXNzZXMsIFwiY2xhc3Nlcy51dGlsLkphdmFwXCIsIFtdLCBbXSwgWydjbGFzcyddKSxcbiAgICAgICAgbmV3IEphdmFDb21tYW5kKCksXG4gICAgICAgIG5ldyBMU0NvbW1hbmQoKSxcbiAgICAgICAgbmV3IEVkaXRDb21tYW5kKCdzb3VyY2UnLCAkKCcjc2F2ZV9idG4nKSwgJCgnI2Nsb3NlX2J0bicpLCAkKCcjaWRlJyksICQoJyNjb25zb2xlJyksICQoJyNmaWxlbmFtZScpKSxcbiAgICAgICAgbmV3IENhdENvbW1hbmQoKSxcbiAgICAgICAgbmV3IE12Q29tbWFuZCgpLFxuICAgICAgICBuZXcgQ3BDb21tYW5kKCksXG4gICAgICAgIG5ldyBNa2RpckNvbW1hbmQoKSxcbiAgICAgICAgbmV3IENEQ29tbWFuZCgpLFxuICAgICAgICBuZXcgUk1Db21tYW5kKCksXG4gICAgICAgIG5ldyBSbWRpckNvbW1hbmQoKSxcbiAgICAgICAgbmV3IE1vdW50RHJvcGJveENvbW1hbmQoKSxcbiAgICAgICAgbmV3IFRpbWVDb21tYW5kKCksXG4gICAgICAgIG5ldyBQcm9maWxlQ29tbWFuZCgpLFxuICAgICAgICBuZXcgVGlwQ29tbWFuZCgpLFxuICAgICAgICBuZXcgSGVscENvbW1hbmQoKVxuICAgICAgXSwgJ1BsZWFzZSB3YWl0IHdoaWxlIHRoZSBEb3BwaW9KVk0gZGVtbyBsb2Fkcy4uLicsIGAvaG9tZS8uc2hlbGxfaGlzdG9yeWApO1xuXG4gICAgZnMucmVhZEZpbGUoXCIvaG9tZS9tb3RkXCIsIChlOiBOb2RlSlMuRXJybm9FeGNlcHRpb24sIGRhdGE6IEJ1ZmZlcikgPT4ge1xuICAgICAgbGV0IHdlbGNvbWVUZXh0ID0gXCJcIjtcbiAgICAgIGlmICghZSkge1xuICAgICAgICB3ZWxjb21lVGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IHVwIHRoZSBsb2NhbCBmaWxlIGxvYWRlcnNcbiAgICAgICQoJyNmaWxlJykuY2hhbmdlKChldjogRmlsZVJlYWRlckV2ZW50KSA9PiB7XG4gICAgICAgIHVwbG9hZEZpbGVzKHNoZWxsLCBldik7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IHVwIHN0ZG91dC9zdGRlcnIvc3RkaW4uXG4gICAgICBwcm9jZXNzLnN0ZG91dC5vbignZGF0YScsKGRhdGE6IEJ1ZmZlcikgPT4gc2hlbGwuc3Rkb3V0KGRhdGEudG9TdHJpbmcoKSkpO1xuICAgICAgcHJvY2Vzcy5zdGRlcnIub24oJ2RhdGEnLChkYXRhOiBCdWZmZXIpID0+IHNoZWxsLnN0ZGVycihkYXRhLnRvU3RyaW5nKCkpKTtcblxuICAgICAgc2hlbGwubG9hZGluZ0NvbXBsZXRlZCh3ZWxjb21lVGV4dCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIE1vdW50cyArIHNldHMgdXAgdGhlIGZpbGUgc3lzdGVtLlxuICovXG5mdW5jdGlvbiBzZXR1cEZpbGVTeXN0ZW0ocGVyc2lzdGVudEZzOiBhbnksIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gIGNvbnN0IHJvb3QgPSBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uTW91bnRhYmxlRmlsZVN5c3RlbSgpO1xuICBCcm93c2VyRlMuaW5pdGlhbGl6ZShyb290KTtcbiAgZnMubWtkaXJTeW5jKCcvbW50Jyk7XG4gIHJvb3QubW91bnQoJy9ob21lJywgcGVyc2lzdGVudEZzKTtcbiAgcm9vdC5tb3VudCgnL3RtcCcsIG5ldyBCcm93c2VyRlMuRmlsZVN5c3RlbS5Jbk1lbW9yeSgpKTtcbiAgcm9vdC5tb3VudCgnL21udC9sb2NhbFN0b3JhZ2UnLCBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uTG9jYWxTdG9yYWdlKCkpO1xuICByb290Lm1vdW50KCcvcHJvZ3JhbXMnLCBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uWG1sSHR0cFJlcXVlc3QocmVxdWlyZSgnanNvbiEuLi8uLi9idWlsZC9wcm9ncmFtcy9saXN0aW5ncy5qc29uJyksICdwcm9ncmFtcy8nKSk7XG4gIGNiKCk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFBlcnNpc3RhbnRGcyhjYjogKGZzOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgaWYgKEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluZGV4ZWREQi5pc0F2YWlsYWJsZSgpKSB7XG4gICAgY29uc3QgaWRiZnMgPSBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uSW5kZXhlZERCKChlLCBmcykgPT4ge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgY2IobmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluTWVtb3J5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IoaWRiZnMpO1xuICAgICAgfVxuICAgIH0sICdkb3BwaW8tY2FjaGUnKTtcbiAgfSBlbHNlIGlmIChCcm93c2VyRlMuRmlsZVN5c3RlbS5IVE1MNUZTLmlzQXZhaWxhYmxlKCkpIHtcbiAgICBjb25zdCBodG1sNWZzID0gbmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkhUTUw1RlMoMTAwKjEwMjQqMTAyNCk7XG4gICAgaHRtbDVmcy5hbGxvY2F0ZSgoZSkgPT4ge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgY2IobmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluTWVtb3J5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IoaHRtbDVmcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2IobmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluTWVtb3J5KCkpO1xuICB9XG59XG5cbi8qKlxuICogRG93bmxvYWRzICsgZXh0cmFjdHMgamF2YV9ob21lIHRvIGJyb3dzZXItbG9jYWwgc3RvcmFnZS5cbiAqL1xuZnVuY3Rpb24gc2V0dXBKYXZhSG9tZShwZXJzaXN0ZW50RnM6IGFueSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgY29uc3QgcHJvZ3Jlc3NCYXJUZXh0ID0gJCgnLnByb2dyZXNzLWJhciBzcGFuJyk7XG4gIGNvbnN0IHByb2dyZXNzQmFyID0gJCgnLnByb2dyZXNzLWJhcicpO1xuICBjb25zdCBmcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdmcycpO1xuICBwcm9ncmVzc0JhclRleHQudGV4dChgQ2hlY2tpbmcgYnJvd3NlciBjYWNoZS4uLmApO1xuICBCcm93c2VyRlMuaW5pdGlhbGl6ZShwZXJzaXN0ZW50RnMpO1xuICBmcy5yZWFkRmlsZSgnL3ZlbmRvci9qYXZhX2hvbWUvamRrLmpzb24nLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgZG93bmxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRVUkwgPSBEb3BwaW8uVk0uSlZNLmdldENvbXBpbGVkSkRLVVJMKCk7XG4gICAgICAgIGlmIChqc29uLnVybCA9PT0gZXhwZWN0ZWRVUkwpIHtcbiAgICAgICAgICAvLyBjaGVja3Mgb3V0LiBieXBhc3MgZG93bmxvYWQuXG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZXBsYWNlLlxuICAgICAgICAgIGRvd25sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZG93bmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRvd25sb2FkKCkge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsICdkb3BwaW9faG9tZS56aXAnKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIChlKSA9PiB7XG4gICAgICBjb25zdCB0aW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgIGNvbnN0IGxvYWRlZCA9IGUubG9hZGVkO1xuICAgICAgY29uc3QgdG90YWwgPSBlLnRvdGFsO1xuICAgICAgLy8gS0Ivc1xuICAgICAgY29uc3QgcmF0ZSA9IChsb2FkZWQgPj4gMTApIC8gKCh0aW1lIC0gc3RhcnRUaW1lKSAvIDEwMDApO1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gKHRvdGFsIC0gbG9hZGVkKSA+PiAxMDtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1RpbWUgPSBNYXRoLmZsb29yKHJlbWFpbmluZyAvIHJhdGUpO1xuICAgICAgY29uc3QgcmVtYWluaW5nTWludXRlcyA9IE1hdGguZmxvb3IocmVtYWluaW5nVGltZSAvIDYwKTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1NlY29uZHMgPSByZW1haW5pbmdUaW1lICUgNjA7XG4gICAgICBjb25zdCBwZXJjZW50ID0gKChsb2FkZWQgLyB0b3RhbCkgKiAxMDApfDA7XG4gICAgICBwcm9ncmVzc0JhclRleHQudGV4dChgRG93bmxvYWRpbmcgZG9wcGlvX2hvbWUuemlwIGF0ICR7cmF0ZS50b0ZpeGVkKDIpfSBLQi9zIFske2xvYWRlZCA+PiAxMH0gS0IgLyAke3RvdGFsID4+IDEwfSBLQl0gKCR7cmVtYWluaW5nTWludXRlc31tJHtyZW1haW5pbmdTZWNvbmRzfXMgcmVtYWluaW5nKWApO1xuICAgICAgcHJvZ3Jlc3NCYXIuYXR0cignYXJpYS12YWx1ZW5vdycsIHBlcmNlbnQpO1xuICAgICAgcHJvZ3Jlc3NCYXIuY3NzKCd3aWR0aCcsIGAke3BlcmNlbnR9JWApO1xuICAgIH0pO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGUpID0+IHtcbiAgICAgIGV4dHJhY3QoeGhyLnJlc3BvbnNlKTtcbiAgICB9KTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZSkgPT4ge1xuICAgICAgcHJvZ3Jlc3NCYXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmFkZENsYXNzKCdwcm9ncmVzcy1iYXItZGFuZ2VyJyk7XG4gICAgICBwcm9ncmVzc0JhclRleHQudGV4dChgRXJyb3IgZG93bmxvYWRpbmcgZG9wcGlvX2hvbWUuemlwOiAke2UuZXJyb3J9YCk7XG4gICAgfSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKGUpID0+IHtcbiAgICAgIHByb2dyZXNzQmFyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5hZGRDbGFzcygncHJvZ3Jlc3MtYmFyLWRhbmdlcicpO1xuICAgICAgcHJvZ3Jlc3NCYXJUZXh0LnRleHQoYEVycm9yIGRvd25sb2FkaW5nIGRvcHBpb19ob21lLnppcDogVHJhbnNmZXIgYWJvcnRlZC5gKTtcbiAgICB9KTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0cmFjdChkYXRhOiBBcnJheUJ1ZmZlcik6IHZvaWQge1xuICAgIGNvbnN0IG1mcyA9IG5ldyBCcm93c2VyRlMuRmlsZVN5c3RlbS5Nb3VudGFibGVGaWxlU3lzdGVtKCk7XG4gICAgbWZzLm1vdW50KCcvcGVyc2lzdCcsIHBlcnNpc3RlbnRGcyk7XG4gICAgbWZzLm1vdW50KCcvZG9wcGlvX2hvbWUnLCBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uWmlwRlMobmV3IEJ1ZmZlcihkYXRhKSkpO1xuICAgIEJyb3dzZXJGUy5pbml0aWFsaXplKG1mcyk7XG4gICAgcmVjdXJzaXZlQ29weSgnL2RvcHBpb19ob21lJywgJy9wZXJzaXN0JywgKHNyYywgZGVzdCwgc2l6ZSkgPT4ge1xuICAgICAgcHJvZ3Jlc3NCYXJUZXh0LnRleHQoYEV4dHJhY3RpbmcgJHtkZXN0LnNsaWNlKGRlc3QuaW5kZXhPZignLycsIDEpICsgMSl9Li4uYCk7XG4gICAgfSwgKGVycj8pID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJvZ3Jlc3NCYXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmFkZENsYXNzKCdwcm9ncmVzcy1iYXItZGFuZ2VyJyk7XG4gICAgICAgIHByb2dyZXNzQmFyVGV4dC50ZXh0KGBFcnJvciBleHRyYWN0aW5nIGRvcHBpb19ob21lLnppcDogJHtlcnJ9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgbGV0IHBlcnNpc3RlbnRGczogYW55ID0gbnVsbDtcbiAgY29uc3RydWN0UGVyc2lzdGFudEZzKChfZnMpID0+IHtcbiAgICBwZXJzaXN0ZW50RnMgPSBfZnM7XG4gICAgQnJvd3NlckZTLmluaXRpYWxpemUoX2ZzKTtcbiAgICBjb25zdCBmcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdmcycpO1xuICAgIGZzLnJlYWRkaXIoJy8nLCAoZXJyLCBmaWxlcykgPT4ge1xuICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gQWRkIGNsZWFyIGRlbW8gYnV0dG9uLlxuICAgICAgICAkKCcjY2xlYXItZGVtby1idXR0b24nKS5mYWRlSW4oJ2Zhc3QnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgJCgnI2NsZWFyLWRlbW8tYnV0dG9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICBjb25zdCByZXNldFN0YXR1cyA9ICQoJyNyZXNldC1zdGF0dXMnKTtcbiAgICAgICAgICByZWN1cnNpdmVSbSgnLycsIChwKSA9PiB7XG4gICAgICAgICAgICByZXNldFN0YXR1cy50ZXh0KGBEZWxldGluZyBjYWNoZWQgZmlsZSAke3B9Li4uYCk7XG4gICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYoZXJyKSBjb25zb2xlLmVycm9yKGBFcnJvciByZW1vdmluZzogJHtlcnJ9YCk7XG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkKCcjZGVtb19idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnI2J1dHRvbi1hbmQtd2FybmluZycpLmZhZGVPdXQoJ2Zhc3QnLCAoKSA9PiB7XG4gICAgICAkKCcjcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lcicpLmZhZGVJbignZmFzdCcsICgpID0+IHtcbiAgICAgICAgaWYgKCFwZXJzaXN0ZW50RnMpIHtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzc0JhclRleHQgPSAkKCcucHJvZ3Jlc3MtYmFyIHNwYW4nKTtcbiAgICAgICAgICBwcm9ncmVzc0JhclRleHQudGV4dChgV2FpdGluZyBmb3IgeW91IHRvIGdyYW50IG9yIGRlbnkgdXMgYWNjZXNzIHRvIGJyb3dzZXIgc3RvcmFnZS4uLi5gKTtcbiAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZXJzaXN0ZW50RnMpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgIHN0ZXAyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGVwMigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RlcDIoKSB7XG4gICAgICAgICAgc2V0dXBKYXZhSG9tZShwZXJzaXN0ZW50RnMsICgpID0+IHtcbiAgICAgICAgICAgIHNldHVwRmlsZVN5c3RlbShwZXJzaXN0ZW50RnMsICgpID0+IHtcbiAgICAgICAgICAgICAgJCgnI3Byb2dyZXNzLWJhci1jb250YWluZXInKS5mYWRlT3V0KCdmYXN0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0RGVtbygpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuIl19\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = BrowserFS;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _ = __webpack_require__(3);\n\tvar async = __webpack_require__(4);\n\tvar BrowserFS = __webpack_require__(1);\n\tvar path = BrowserFS.BFSRequire('path'), fs = BrowserFS.BFSRequire('fs');\n\tfunction filterSubstring(prefix, lst) {\n\t    return lst.filter(function (x) { return x.substr(0, prefix.length) == prefix; });\n\t}\n\texports.filterSubstring = filterSubstring;\n\t/**\n\t * Asynchronous method for processing a Unix glob.\n\t */\n\tfunction processGlob(glob, cb) {\n\t    var globNormalized = path.normalize(glob), pathComps = globNormalized.split('/'), \n\t    // We bootstrap the algorithm with '/' or '.', depending on whether or not\n\t    // the glob is a relative or absolute path.\n\t    expanded = [glob.charAt(0) === '/' ? '/' : '.'];\n\t    /**\n\t     * Constructs a regular expression for a given glob pattern.\n\t     */\n\t    function constructRegExp(pattern) {\n\t        return new RegExp(\"^\" + pattern.replace(/\\./g, \"\\\\.\").split('*').join('[^/]*') + \"$\");\n\t    }\n\t    // Process each component of the path separately.\n\t    async.eachSeries(pathComps, function (path_comp, next_item) {\n\t        var r;\n\t        if (path_comp === \"\") {\n\t            // This condition occurs for:\n\t            // * The first component in an absolute directory.\n\t            // * The last component in a path that ends in '/' (normalize doesn't remove it).\n\t            return next_item();\n\t        }\n\t        r = constructRegExp(path_comp);\n\t        expandDirs(expanded, r, function (_expanded) {\n\t            expanded = _expanded;\n\t            next_item();\n\t        });\n\t    }, function (e) {\n\t        cb(expanded);\n\t    });\n\t}\n\texports.processGlob = processGlob;\n\t/**\n\t * Calls `readdir` on each directory, and ignores any files in `dirs`.\n\t * Tests the result against the regular expression.\n\t * Passes back any directories that pass the test.\n\t */\n\tfunction expandDirs(dirs, r, cb) {\n\t    var expanded = [];\n\t    async.each(dirs, function (dir, next_item) {\n\t        fs.readdir(dir, function (err, contents) {\n\t            var i;\n\t            if (err == null) {\n\t                for (i = 0; i < contents.length; i++) {\n\t                    if (r.test(contents[i])) {\n\t                        // Note: We don't 'resolve' because we don't want the path to become\n\t                        // absolute if it was relative in the first place.\n\t                        expanded.push(path.join(dir, contents[i]));\n\t                    }\n\t                }\n\t            }\n\t            next_item();\n\t        });\n\t    }, function () {\n\t        cb(expanded);\n\t    });\n\t}\n\tfunction fileNameCompletions(cmd, args, filter, cb) {\n\t    var toComplete = _.last(args);\n\t    var lastSlash = toComplete.lastIndexOf('/');\n\t    var dirPfx, searchPfx;\n\t    if (lastSlash >= 0) {\n\t        dirPfx = toComplete.slice(0, lastSlash + 1);\n\t        searchPfx = toComplete.slice(lastSlash + 1);\n\t    }\n\t    else {\n\t        dirPfx = '';\n\t        searchPfx = toComplete;\n\t    }\n\t    var dirPath = (dirPfx == '') ? '.' : path.resolve(dirPfx);\n\t    fs.readdir(dirPath, function (err, dirList) {\n\t        var completions = [];\n\t        if (err != null) {\n\t            return cb(completions);\n\t        }\n\t        dirList = filterSubstring(searchPfx, dirList);\n\t        async.each(dirList, \n\t        // runs on each element\n\t        function (item, next) {\n\t            fs.stat(path.resolve(dirPfx + item), function (err, stats) {\n\t                if (err != null) {\n\t                }\n\t                else if (stats.isDirectory() && filter(item, true)) {\n\t                    completions.push(dirPfx + item + '/');\n\t                }\n\t                else if (filter(item, false)) {\n\t                    completions.push(dirPfx + item);\n\t                }\n\t                next();\n\t            });\n\t        }, \n\t        // runs at the end of processing\n\t        function () { return cb(completions); });\n\t    });\n\t}\n\texports.fileNameCompletions = fileNameCompletions;\n\t// use the awesome greedy regex hack, from http://stackoverflow.com/a/1922153/10601\n\tfunction longestCommmonPrefix(lst) {\n\t    return lst.join(' ').match(/^(\\S*)\\S*(?: \\1\\S*)*$/i)[1];\n\t}\n\texports.longestCommmonPrefix = longestCommmonPrefix;\n\tfunction columnize(str_list, line_length) {\n\t    var max_len = 0;\n\t    for (var i = 0; i < str_list.length; i++) {\n\t        var len = str_list[i].length;\n\t        if (len > max_len) {\n\t            max_len = len;\n\t        }\n\t    }\n\t    var num_cols = (line_length / (max_len + 1)) | 0;\n\t    var col_size = Math.ceil(str_list.length / num_cols);\n\t    var column_list = [];\n\t    for (var j = 1; j <= num_cols; j++) {\n\t        column_list.push(str_list.splice(0, col_size));\n\t    }\n\t    function make_row(i) {\n\t        return column_list.filter(function (col) { return col[i] != null; })\n\t            .map(function (col) { return padRight(col[i], max_len + 1); })\n\t            .join('');\n\t    }\n\t    var row_list = [];\n\t    for (var i = 0; i < col_size; i++) {\n\t        row_list.push(make_row(i));\n\t    }\n\t    return row_list.join('\\n');\n\t}\n\texports.columnize = columnize;\n\tfunction padRight(str, len) {\n\t    return str + Array(len - str.length + 1).join(' ');\n\t}\n\texports.padRight = padRight;\n\tfunction recursiveRm(dir, progressCb, cb) {\n\t    function processDir(folder, cb) {\n\t        fs.readdir(folder, function (err, items) {\n\t            if (err) {\n\t                return cb(err);\n\t            }\n\t            async.each(items, function (item, next) {\n\t                var p = path.resolve(folder, item);\n\t                fs.stat(p, function (e, stat) {\n\t                    if (e) {\n\t                        next(e);\n\t                    }\n\t                    else {\n\t                        if (stat.isDirectory()) {\n\t                            processDir(p, function (e) {\n\t                                if (!e) {\n\t                                    fs.rmdir(p, next);\n\t                                }\n\t                                else {\n\t                                    next(e);\n\t                                }\n\t                            });\n\t                            ;\n\t                        }\n\t                        else {\n\t                            progressCb(p);\n\t                            fs.unlink(p, next);\n\t                        }\n\t                    }\n\t                });\n\t            }, cb);\n\t        });\n\t    }\n\t    processDir(dir, cb);\n\t}\n\texports.recursiveRm = recursiveRm;\n\tfunction recursiveCopy(srcFolder, destFolder, progressCb, cb) {\n\t    function processDir(srcFolder, destFolder, cb) {\n\t        fs.mkdir(destFolder, function (err) {\n\t            // Ignore EEXIST.\n\t            if (err && err.code !== 'EEXIST') {\n\t                cb(err);\n\t            }\n\t            else {\n\t                fs.readdir(srcFolder, function (e, items) {\n\t                    if (e) {\n\t                        cb(e);\n\t                    }\n\t                    else {\n\t                        async.each(items, function (item, next) {\n\t                            var srcItem = path.resolve(srcFolder, item), destItem = path.resolve(destFolder, item);\n\t                            fs.stat(srcItem, function (e, stat) {\n\t                                if (e) {\n\t                                    cb(e);\n\t                                }\n\t                                else {\n\t                                    if (stat.isDirectory()) {\n\t                                        processDir(srcItem, destItem, next);\n\t                                    }\n\t                                    else {\n\t                                        progressCb(srcItem, destItem, stat);\n\t                                        copyFile(srcItem, destItem, next);\n\t                                    }\n\t                                }\n\t                            });\n\t                        }, cb);\n\t                    }\n\t                });\n\t            }\n\t        });\n\t    }\n\t    processDir(srcFolder, destFolder, cb);\n\t}\n\texports.recursiveCopy = recursiveCopy;\n\tfunction copyFile(srcFile, destFile, cb) {\n\t    fs.readFile(srcFile, function (e, data) {\n\t        if (e) {\n\t            cb(e);\n\t        }\n\t        else {\n\t            fs.writeFile(destFile, data, cb);\n\t        }\n\t    });\n\t}\n\texports.copyFile = copyFile;\n\t// Adapted from http://stackoverflow.com/a/4770179\n\t// left: 37, up: 38, right: 39, down: 40,\n\t// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\n\tvar keys = { 37: 1, 38: 1, 39: 1, 40: 1, 32: 1, 33: 1, 34: 1, 35: 1, 36: 1 };\n\tfunction preventDefault(e) {\n\t    e = e || window.event;\n\t    if (e.preventDefault) {\n\t        e.preventDefault();\n\t    }\n\t    e.returnValue = false;\n\t}\n\tfunction preventDefaultForScrollKeys(e) {\n\t    if (keys[e.keyCode]) {\n\t        preventDefault(e);\n\t        return false;\n\t    }\n\t}\n\tfunction disableScroll(element) {\n\t    if (element.addEventListener) {\n\t        element.addEventListener('DOMMouseScroll', preventDefault, false);\n\t    }\n\t    //  element.onwheel = preventDefault; // modern standard\n\t    //  element.onmousewheel = preventDefault; // older browsers, IE\n\t    // element.ontouchmove  = preventDefault; // mobile\n\t    // element.onkeydown  = preventDefaultForScrollKeys;\n\t}\n\texports.disableScroll = disableScroll;\n\tfunction enableScroll(element) {\n\t    if (element.removeEventListener) {\n\t        element.removeEventListener('DOMMouseScroll', preventDefault, false);\n\t    }\n\t    element.onmousewheel = null;\n\t    element.onwheel = null;\n\t    element.ontouchmove = null;\n\t    // element.onkeydown = null;\n\t}\n\texports.enableScroll = enableScroll;\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLElBQU8sQ0FBQyxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBQ2pDLElBQU8sS0FBSyxXQUFXLE9BQU8sQ0FBQyxDQUFDO0FBRWhDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBRXhDLElBQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQ3ZDLEVBQUUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRWxDLHlCQUFnQyxNQUFjLEVBQUUsR0FBYTtJQUMzRCxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUFNLEVBQXBDLENBQW9DLENBQUMsQ0FBQztBQUNqRSxDQUFDO0FBRmUsdUJBQWUsa0JBRTlCLENBQUE7QUFFRDs7R0FFRztBQUNILHFCQUE0QixJQUFZLEVBQUUsRUFBaUM7SUFDekUsSUFBSSxjQUFjLEdBQVcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFDN0MsU0FBUyxHQUFhLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQy9DLDBFQUEwRTtJQUMxRSwyQ0FBMkM7SUFDM0MsUUFBUSxHQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBRTlEOztPQUVHO0lBQ0gseUJBQXlCLE9BQWU7UUFDdEMsTUFBTSxDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxD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QkFBWSxlQVEzQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9mcyA9IHJlcXVpcmUoJ2ZzJyk7XG5pbXBvcnQgU3RhdHMgPSBfZnMuU3RhdHM7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmltcG9ydCBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJyk7XG5cbmltcG9ydCBCcm93c2VyRlMgPSByZXF1aXJlKCdicm93c2VyZnMnKTtcblxuY29uc3QgcGF0aCA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdwYXRoJyksXG4gIGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJTdWJzdHJpbmcocHJlZml4OiBzdHJpbmcsIGxzdDogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG4gIHJldHVybiBsc3QuZmlsdGVyKCh4KSA9PiB4LnN1YnN0cigwLCBwcmVmaXgubGVuZ3RoKSA9PSBwcmVmaXgpO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91cyBtZXRob2QgZm9yIHByb2Nlc3NpbmcgYSBVbml4IGdsb2IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzR2xvYihnbG9iOiBzdHJpbmcsIGNiOiAoZXhwYW5zaW9uOiBzdHJpbmdbXSkgPT4gdm9pZCk6IHZvaWQge1xuICB2YXIgZ2xvYk5vcm1hbGl6ZWQ6IHN0cmluZyA9IHBhdGgubm9ybWFsaXplKGdsb2IpLFxuICAgICAgcGF0aENvbXBzOiBzdHJpbmdbXSA9IGdsb2JOb3JtYWxpemVkLnNwbGl0KCcvJyksXG4gICAgICAvLyBXZSBib290c3RyYXAgdGhlIGFsZ29yaXRobSB3aXRoICcvJyBvciAnLicsIGRlcGVuZGluZyBvbiB3aGV0aGVyIG9yIG5vdFxuICAgICAgLy8gdGhlIGdsb2IgaXMgYSByZWxhdGl2ZSBvciBhYnNvbHV0ZSBwYXRoLlxuICAgICAgZXhwYW5kZWQ6IHN0cmluZ1tdID0gW2dsb2IuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnLiddO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgcmVndWxhciBleHByZXNzaW9uIGZvciBhIGdpdmVuIGdsb2IgcGF0dGVybi5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbnN0cnVjdFJlZ0V4cChwYXR0ZXJuOiBzdHJpbmcpOiBSZWdFeHAge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiXlwiICsgcGF0dGVybi5yZXBsYWNlKC9cXC4vZywgXCJcXFxcLlwiKS5zcGxpdCgnKicpLmpvaW4oJ1teL10qJykgKyBcIiRcIik7XG4gIH1cblxuICAvLyBQcm9jZXNzIGVhY2ggY29tcG9uZW50IG9mIHRoZSBwYXRoIHNlcGFyYXRlbHkuXG4gIGFzeW5jLmVhY2hTZXJpZXMocGF0aENvbXBzLCBmdW5jdGlvbihwYXRoX2NvbXA6IHN0cmluZywgbmV4dF9pdGVtOiAoZT86IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHZhciByOiBSZWdFeHA7XG4gICAgaWYgKHBhdGhfY29tcCA9PT0gXCJcIikge1xuICAgICAgLy8gVGhpcyBjb25kaXRpb24gb2NjdXJzIGZvcjpcbiAgICAgIC8vICogVGhlIGZpcnN0IGNvbXBvbmVudCBpbiBhbiBhYnNvbHV0ZSBkaXJlY3RvcnkuXG4gICAgICAvLyAqIFRoZSBsYXN0IGNvbXBvbmVudCBpbiBhIHBhdGggdGhhdCBlbmRzIGluICcvJyAobm9ybWFsaXplIGRvZXNuJ3QgcmVtb3ZlIGl0KS5cbiAgICAgIHJldHVybiBuZXh0X2l0ZW0oKTtcbiAgICB9XG4gICAgciA9IGNvbnN0cnVjdFJlZ0V4cChwYXRoX2NvbXApO1xuICAgIGV4cGFuZERpcnMoZXhwYW5kZWQsIHIsIGZ1bmN0aW9uKF9leHBhbmRlZDogc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgIGV4cGFuZGVkID0gX2V4cGFuZGVkO1xuICAgICAgbmV4dF9pdGVtKCk7XG4gICAgfSk7XG4gIH0sIChlPzogYW55KSA9PiB7XG4gICAgY2IoZXhwYW5kZWQpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxscyBgcmVhZGRpcmAgb24gZWFjaCBkaXJlY3RvcnksIGFuZCBpZ25vcmVzIGFueSBmaWxlcyBpbiBgZGlyc2AuXG4gKiBUZXN0cyB0aGUgcmVzdWx0IGFnYWluc3QgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIFBhc3NlcyBiYWNrIGFueSBkaXJlY3RvcmllcyB0aGF0IHBhc3MgdGhlIHRlc3QuXG4gKi9cbmZ1bmN0aW9uIGV4cGFuZERpcnMoZGlyczogc3RyaW5nW10sIHI6IFJlZ0V4cCwgY2I6IChleHBhbnNpb246IHN0cmluZ1tdKSA9PiB2b2lkKTogdm9pZCB7XG4gIHZhciBleHBhbmRlZDogc3RyaW5nW10gPSBbXTtcbiAgYXN5bmMuZWFjaChkaXJzLCAoZGlyOiBzdHJpbmcsIG5leHRfaXRlbTogKCkgPT4gdm9pZCk6IHZvaWQgPT4ge1xuICAgIGZzLnJlYWRkaXIoZGlyLCAoZXJyOiBhbnksIGNvbnRlbnRzPzogc3RyaW5nW10pOiB2b2lkID0+IHtcbiAgICAgIHZhciBpOiBudW1iZXI7XG4gICAgICBpZiAoZXJyID09IG51bGwpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHIudGVzdChjb250ZW50c1tpXSkpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IFdlIGRvbid0ICdyZXNvbHZlJyBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdGhlIHBhdGggdG8gYmVjb21lXG4gICAgICAgICAgICAvLyBhYnNvbHV0ZSBpZiBpdCB3YXMgcmVsYXRpdmUgaW4gdGhlIGZpcnN0IHBsYWNlLlxuICAgICAgICAgICAgZXhwYW5kZWQucHVzaChwYXRoLmpvaW4oZGlyLCBjb250ZW50c1tpXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dF9pdGVtKCk7XG4gICAgfSk7XG4gIH0sICgpID0+IHtcbiAgICBjYihleHBhbmRlZCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZU5hbWVDb21wbGV0aW9ucyhjbWQ6IHN0cmluZywgYXJnczogc3RyaW5nW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcjogKGl0ZW06IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pPT5ib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYjogKGM6IHN0cmluZ1tdKT0+dm9pZCk6IHZvaWQge1xuICB2YXIgdG9Db21wbGV0ZSA9IF8ubGFzdChhcmdzKTtcbiAgdmFyIGxhc3RTbGFzaCA9IHRvQ29tcGxldGUubGFzdEluZGV4T2YoJy8nKTtcbiAgdmFyIGRpclBmeDogc3RyaW5nLCBzZWFyY2hQZng6IHN0cmluZztcbiAgaWYgKGxhc3RTbGFzaCA+PSAwKSB7XG4gICAgZGlyUGZ4ID0gdG9Db21wbGV0ZS5zbGljZSgwLCBsYXN0U2xhc2ggKyAxKTtcbiAgICBzZWFyY2hQZnggPSB0b0NvbXBsZXRlLnNsaWNlKGxhc3RTbGFzaCArIDEpO1xuICB9IGVsc2Uge1xuICAgIGRpclBmeCA9ICcnO1xuICAgIHNlYXJjaFBmeCA9IHRvQ29tcGxldGU7XG4gIH1cbiAgdmFyIGRpclBhdGggPSAoZGlyUGZ4ID09ICcnKSA/ICcuJyA6IHBhdGgucmVzb2x2ZShkaXJQZngpO1xuICBmcy5yZWFkZGlyKGRpclBhdGgsIGZ1bmN0aW9uKGVycjogRXJyb3IsIGRpckxpc3Q6IHN0cmluZ1tdKXtcbiAgICB2YXIgY29tcGxldGlvbnM6IHN0cmluZ1tdID0gW107XG4gICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gY2IoY29tcGxldGlvbnMpXG4gICAgfVxuICAgIGRpckxpc3QgPSBmaWx0ZXJTdWJzdHJpbmcoc2VhcmNoUGZ4LCBkaXJMaXN0KTtcbiAgICBhc3luYy5lYWNoKGRpckxpc3QsXG4gICAgICAvLyBydW5zIG9uIGVhY2ggZWxlbWVudFxuICAgICAgKGl0ZW06IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBmcy5zdGF0KHBhdGgucmVzb2x2ZShkaXJQZnggKyBpdGVtKSwgZnVuY3Rpb24oZXJyOiBFcnJvciwgc3RhdHM6IFN0YXRzKSB7XG4gICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSAmJiBmaWx0ZXIoaXRlbSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIGNvbXBsZXRpb25zLnB1c2goZGlyUGZ4ICsgaXRlbSArICcvJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXIoaXRlbSwgZmFsc2UpKSB7XG4gICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKGRpclBmeCArIGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIC8vIHJ1bnMgYXQgdGhlIGVuZCBvZiBwcm9jZXNzaW5nXG4gICAgICAoKSA9PiBjYihjb21wbGV0aW9ucykpO1xuICB9KTtcbn1cblxuLy8gdXNlIHRoZSBhd2Vzb21lIGdyZWVkeSByZWdleCBoYWNrLCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE5MjIxNTMvMTA2MDFcbmV4cG9ydCBmdW5jdGlvbiBsb25nZXN0Q29tbW1vblByZWZpeChsc3Q6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgcmV0dXJuIGxzdC5qb2luKCcgJykubWF0Y2goL14oXFxTKilcXFMqKD86IFxcMVxcUyopKiQvaSlbMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2x1bW5pemUoc3RyX2xpc3Q6IHN0cmluZ1tdLCBsaW5lX2xlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgdmFyIG1heF9sZW4gPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cl9saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxlbiA9IHN0cl9saXN0W2ldLmxlbmd0aDtcbiAgICBpZiAobGVuID4gbWF4X2xlbikge1xuICAgICAgbWF4X2xlbiA9IGxlbjtcbiAgICB9XG4gIH1cbiAgdmFyIG51bV9jb2xzID0gKGxpbmVfbGVuZ3RoIC8gKG1heF9sZW4gKyAxKSkgfCAwO1xuICB2YXIgY29sX3NpemUgPSBNYXRoLmNlaWwoc3RyX2xpc3QubGVuZ3RoIC8gbnVtX2NvbHMpO1xuICB2YXIgY29sdW1uX2xpc3Q6IHN0cmluZ1tdW10gPSBbXTtcbiAgZm9yICh2YXIgaiA9IDE7IGogPD0gbnVtX2NvbHM7IGorKykge1xuICAgIGNvbHVtbl9saXN0LnB1c2goc3RyX2xpc3Quc3BsaWNlKDAsIGNvbF9zaXplKSk7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZV9yb3coaTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gY29sdW1uX2xpc3QuZmlsdGVyKChjb2wpPT5jb2xbaV0hPW51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgLm1hcCgoY29sKT0+cGFkUmlnaHQoY29sW2ldLCBtYXhfbGVuICsgMSkpXG4gICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpO1xuICB9XG4gIHZhciByb3dfbGlzdDogc3RyaW5nW10gPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xfc2l6ZTsgaSsrKSB7XG4gICAgcm93X2xpc3QucHVzaChtYWtlX3JvdyhpKSk7XG4gIH1cbiAgcmV0dXJuIHJvd19saXN0LmpvaW4oJ1xcbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFkUmlnaHQoc3RyOiBzdHJpbmcsIGxlbjogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ciArIEFycmF5KGxlbiAtIHN0ci5sZW5ndGggKyAxKS5qb2luKCcgJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWN1cnNpdmVSbShkaXI6IHN0cmluZywgcHJvZ3Jlc3NDYjogKGZpbGU6IHN0cmluZykgPT4gdm9pZCwgY2I6IChlcnI/OiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgZnVuY3Rpb24gcHJvY2Vzc0Rpcihmb2xkZXI6IHN0cmluZywgY2I6IChlcnI/OiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBmcy5yZWFkZGlyKGZvbGRlciwgKGVyciwgaXRlbXMpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG4gICAgICBhc3luYy5lYWNoKGl0ZW1zLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoZXJyPzogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgIGNvbnN0IHAgPSBwYXRoLnJlc29sdmUoZm9sZGVyLCBpdGVtKTtcbiAgICAgICAgZnMuc3RhdChwLCAoZSwgc3RhdCkgPT4ge1xuICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBuZXh0KGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NEaXIocCwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUpIHtcbiAgICAgICAgICAgICAgICAgIGZzLnJtZGlyKHAsIG5leHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuZXh0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3NDYihwKTtcbiAgICAgICAgICAgICAgZnMudW5saW5rKHAsIG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCBjYik7XG4gICAgfSk7XG4gIH1cbiAgcHJvY2Vzc0RpcihkaXIsIGNiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY3Vyc2l2ZUNvcHkoc3JjRm9sZGVyOiBzdHJpbmcsIGRlc3RGb2xkZXI6IHN0cmluZywgcHJvZ3Jlc3NDYjogKHNyYzogc3RyaW5nLCBkZXN0OiBzdHJpbmcsIHNpemU6IFN0YXRzKSA9PiB2b2lkLCBjYjogKGVycj86IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICBmdW5jdGlvbiBwcm9jZXNzRGlyKHNyY0ZvbGRlcjogc3RyaW5nLCBkZXN0Rm9sZGVyOiBzdHJpbmcsIGNiOiAoZXJyPzogYW55KSA9PiB2b2lkKSB7XG4gICAgZnMubWtkaXIoZGVzdEZvbGRlciwgKGVycj86IE5vZGVKUy5FcnJub0V4Y2VwdGlvbikgPT4ge1xuICAgICAgLy8gSWdub3JlIEVFWElTVC5cbiAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09ICdFRVhJU1QnKSB7XG4gICAgICAgIGNiKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcy5yZWFkZGlyKHNyY0ZvbGRlciwgKGU6IE5vZGVKUy5FcnJub0V4Y2VwdGlvbiwgaXRlbXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGNiKGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc3luYy5lYWNoKGl0ZW1zLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoZXJyPzogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgIHZhciBzcmNJdGVtID0gcGF0aC5yZXNvbHZlKHNyY0ZvbGRlciwgaXRlbSksXG4gICAgICAgICAgICAgICAgZGVzdEl0ZW0gPSBwYXRoLnJlc29sdmUoZGVzdEZvbGRlciwgaXRlbSk7XG4gICAgICAgICAgICAgIGZzLnN0YXQoc3JjSXRlbSwgKGU6IE5vZGVKUy5FcnJub0V4Y2VwdGlvbiwgc3RhdD86IFN0YXRzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgIGNiKGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEaXIoc3JjSXRlbSwgZGVzdEl0ZW0sIG5leHQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYihzcmNJdGVtLCBkZXN0SXRlbSwgc3RhdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlGaWxlKHNyY0l0ZW0sIGRlc3RJdGVtLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgY2IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcm9jZXNzRGlyKHNyY0ZvbGRlciwgZGVzdEZvbGRlciwgY2IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29weUZpbGUoc3JjRmlsZTogc3RyaW5nLCBkZXN0RmlsZTogc3RyaW5nLCBjYjogKGVycj86IGFueSkgPT4gdm9pZCkge1xuICBmcy5yZWFkRmlsZShzcmNGaWxlLCAoZTogYW55LCBkYXRhPzogQnVmZmVyKSA9PiB7XG4gICAgaWYgKGUpIHtcbiAgICAgIGNiKGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcy53cml0ZUZpbGUoZGVzdEZpbGUsIGRhdGEsIGNiKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDc3MDE3OVxuLy8gbGVmdDogMzcsIHVwOiAzOCwgcmlnaHQ6IDM5LCBkb3duOiA0MCxcbi8vIHNwYWNlYmFyOiAzMiwgcGFnZXVwOiAzMywgcGFnZWRvd246IDM0LCBlbmQ6IDM1LCBob21lOiAzNlxuY29uc3Qga2V5czoge1trZXk6IG51bWJlcl06IG51bWJlcn0gPSB7Mzc6IDEsIDM4OiAxLCAzOTogMSwgNDA6IDEsIDMyOiAxLCAzMzogMSwgMzQ6IDEsIDM1OiAxLCAzNjogMX07XG5cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGU6IEV2ZW50KTogdm9pZCB7XG4gIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXMoZTogS2V5Ym9hcmRFdmVudCk6IGJvb2xlYW4gfCB2b2lkIHtcbiAgaWYgKGtleXNbZS5rZXlDb2RlXSkge1xuICAgIHByZXZlbnREZWZhdWx0KGUpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVNjcm9sbChlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gIH1cbi8vICBlbGVtZW50Lm9ud2hlZWwgPSBwcmV2ZW50RGVmYXVsdDsgLy8gbW9kZXJuIHN0YW5kYXJkXG4vLyAgZWxlbWVudC5vbm1vdXNld2hlZWwgPSBwcmV2ZW50RGVmYXVsdDsgLy8gb2xkZXIgYnJvd3NlcnMsIElFXG4vLyBlbGVtZW50Lm9udG91Y2htb3ZlICA9IHByZXZlbnREZWZhdWx0OyAvLyBtb2JpbGVcbiAgLy8gZWxlbWVudC5vbmtleWRvd24gID0gcHJldmVudERlZmF1bHRGb3JTY3JvbGxLZXlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlU2Nyb2xsKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgfVxuICBlbGVtZW50Lm9ubW91c2V3aGVlbCA9IG51bGw7XG4gIGVsZW1lbnQub253aGVlbCA9IG51bGw7XG4gIGVsZW1lbnQub250b3VjaG1vdmUgPSBudWxsO1xuICAvLyBlbGVtZW50Lm9ua2V5ZG93biA9IG51bGw7XG59XG4iXX0=\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//     Underscore.js 1.8.3\n\t//     http://underscorejs.org\n\t//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t//     Underscore may be freely distributed under the MIT license.\n\t\n\t(function() {\n\t\n\t  // Baseline setup\n\t  // --------------\n\t\n\t  // Establish the root object, `window` in the browser, or `exports` on the server.\n\t  var root = this;\n\t\n\t  // Save the previous value of the `_` variable.\n\t  var previousUnderscore = root._;\n\t\n\t  // Save bytes in the minified (but not gzipped) version:\n\t  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\t\n\t  // Create quick reference variables for speed access to core prototypes.\n\t  var\n\t    push             = ArrayProto.push,\n\t    slice            = ArrayProto.slice,\n\t    toString         = ObjProto.toString,\n\t    hasOwnProperty   = ObjProto.hasOwnProperty;\n\t\n\t  // All **ECMAScript 5** native function implementations that we hope to use\n\t  // are declared here.\n\t  var\n\t    nativeIsArray      = Array.isArray,\n\t    nativeKeys         = Object.keys,\n\t    nativeBind         = FuncProto.bind,\n\t    nativeCreate       = Object.create;\n\t\n\t  // Naked function reference for surrogate-prototype-swapping.\n\t  var Ctor = function(){};\n\t\n\t  // Create a safe reference to the Underscore object for use below.\n\t  var _ = function(obj) {\n\t    if (obj instanceof _) return obj;\n\t    if (!(this instanceof _)) return new _(obj);\n\t    this._wrapped = obj;\n\t  };\n\t\n\t  // Export the Underscore object for **Node.js**, with\n\t  // backwards-compatibility for the old `require()` API. If we're in\n\t  // the browser, add `_` as a global object.\n\t  if (true) {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t      exports = module.exports = _;\n\t    }\n\t    exports._ = _;\n\t  } else {\n\t    root._ = _;\n\t  }\n\t\n\t  // Current version.\n\t  _.VERSION = '1.8.3';\n\t\n\t  // Internal function that returns an efficient (for current engines) version\n\t  // of the passed-in callback, to be repeatedly applied in other Underscore\n\t  // functions.\n\t  var optimizeCb = function(func, context, argCount) {\n\t    if (context === void 0) return func;\n\t    switch (argCount == null ? 3 : argCount) {\n\t      case 1: return function(value) {\n\t        return func.call(context, value);\n\t      };\n\t      case 2: return function(value, other) {\n\t        return func.call(context, value, other);\n\t      };\n\t      case 3: return function(value, index, collection) {\n\t        return func.call(context, value, index, collection);\n\t      };\n\t      case 4: return function(accumulator, value, index, collection) {\n\t        return func.call(context, accumulator, value, index, collection);\n\t      };\n\t    }\n\t    return function() {\n\t      return func.apply(context, arguments);\n\t    };\n\t  };\n\t\n\t  // A mostly-internal function to generate callbacks that can be applied\n\t  // to each element in a collection, returning the desired result — either\n\t  // identity, an arbitrary callback, a property matcher, or a property accessor.\n\t  var cb = function(value, context, argCount) {\n\t    if (value == null) return _.identity;\n\t    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n\t    if (_.isObject(value)) return _.matcher(value);\n\t    return _.property(value);\n\t  };\n\t  _.iteratee = function(value, context) {\n\t    return cb(value, context, Infinity);\n\t  };\n\t\n\t  // An internal function for creating assigner functions.\n\t  var createAssigner = function(keysFunc, undefinedOnly) {\n\t    return function(obj) {\n\t      var length = arguments.length;\n\t      if (length < 2 || obj == null) return obj;\n\t      for (var index = 1; index < length; index++) {\n\t        var source = arguments[index],\n\t            keys = keysFunc(source),\n\t            l = keys.length;\n\t        for (var i = 0; i < l; i++) {\n\t          var key = keys[i];\n\t          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n\t        }\n\t      }\n\t      return obj;\n\t    };\n\t  };\n\t\n\t  // An internal function for creating a new object that inherits from another.\n\t  var baseCreate = function(prototype) {\n\t    if (!_.isObject(prototype)) return {};\n\t    if (nativeCreate) return nativeCreate(prototype);\n\t    Ctor.prototype = prototype;\n\t    var result = new Ctor;\n\t    Ctor.prototype = null;\n\t    return result;\n\t  };\n\t\n\t  var property = function(key) {\n\t    return function(obj) {\n\t      return obj == null ? void 0 : obj[key];\n\t    };\n\t  };\n\t\n\t  // Helper for collection methods to determine whether a collection\n\t  // should be iterated as an array or as an object\n\t  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\t  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n\t  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n\t  var getLength = property('length');\n\t  var isArrayLike = function(collection) {\n\t    var length = getLength(collection);\n\t    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n\t  };\n\t\n\t  // Collection Functions\n\t  // --------------------\n\t\n\t  // The cornerstone, an `each` implementation, aka `forEach`.\n\t  // Handles raw objects in addition to array-likes. Treats all\n\t  // sparse array-likes as if they were dense.\n\t  _.each = _.forEach = function(obj, iteratee, context) {\n\t    iteratee = optimizeCb(iteratee, context);\n\t    var i, length;\n\t    if (isArrayLike(obj)) {\n\t      for (i = 0, length = obj.length; i < length; i++) {\n\t        iteratee(obj[i], i, obj);\n\t      }\n\t    } else {\n\t      var keys = _.keys(obj);\n\t      for (i = 0, length = keys.length; i < length; i++) {\n\t        iteratee(obj[keys[i]], keys[i], obj);\n\t      }\n\t    }\n\t    return obj;\n\t  };\n\t\n\t  // Return the results of applying the iteratee to each element.\n\t  _.map = _.collect = function(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    var keys = !isArrayLike(obj) && _.keys(obj),\n\t        length = (keys || obj).length,\n\t        results = Array(length);\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = keys ? keys[index] : index;\n\t      results[index] = iteratee(obj[currentKey], currentKey, obj);\n\t    }\n\t    return results;\n\t  };\n\t\n\t  // Create a reducing function iterating left or right.\n\t  function createReduce(dir) {\n\t    // Optimized iterator function as using arguments.length\n\t    // in the main function will deoptimize the, see #1991.\n\t    function iterator(obj, iteratee, memo, keys, index, length) {\n\t      for (; index >= 0 && index < length; index += dir) {\n\t        var currentKey = keys ? keys[index] : index;\n\t        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n\t      }\n\t      return memo;\n\t    }\n\t\n\t    return function(obj, iteratee, memo, context) {\n\t      iteratee = optimizeCb(iteratee, context, 4);\n\t      var keys = !isArrayLike(obj) && _.keys(obj),\n\t          length = (keys || obj).length,\n\t          index = dir > 0 ? 0 : length - 1;\n\t      // Determine the initial value if none is provided.\n\t      if (arguments.length < 3) {\n\t        memo = obj[keys ? keys[index] : index];\n\t        index += dir;\n\t      }\n\t      return iterator(obj, iteratee, memo, keys, index, length);\n\t    };\n\t  }\n\t\n\t  // **Reduce** builds up a single result from a list of values, aka `inject`,\n\t  // or `foldl`.\n\t  _.reduce = _.foldl = _.inject = createReduce(1);\n\t\n\t  // The right-associative version of reduce, also known as `foldr`.\n\t  _.reduceRight = _.foldr = createReduce(-1);\n\t\n\t  // Return the first value which passes a truth test. Aliased as `detect`.\n\t  _.find = _.detect = function(obj, predicate, context) {\n\t    var key;\n\t    if (isArrayLike(obj)) {\n\t      key = _.findIndex(obj, predicate, context);\n\t    } else {\n\t      key = _.findKey(obj, predicate, context);\n\t    }\n\t    if (key !== void 0 && key !== -1) return obj[key];\n\t  };\n\t\n\t  // Return all the elements that pass a truth test.\n\t  // Aliased as `select`.\n\t  _.filter = _.select = function(obj, predicate, context) {\n\t    var results = [];\n\t    predicate = cb(predicate, context);\n\t    _.each(obj, function(value, index, list) {\n\t      if (predicate(value, index, list)) results.push(value);\n\t    });\n\t    return results;\n\t  };\n\t\n\t  // Return all the elements for which a truth test fails.\n\t  _.reject = function(obj, predicate, context) {\n\t    return _.filter(obj, _.negate(cb(predicate)), context);\n\t  };\n\t\n\t  // Determine whether all of the elements match a truth test.\n\t  // Aliased as `all`.\n\t  _.every = _.all = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var keys = !isArrayLike(obj) && _.keys(obj),\n\t        length = (keys || obj).length;\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = keys ? keys[index] : index;\n\t      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n\t    }\n\t    return true;\n\t  };\n\t\n\t  // Determine if at least one element in the object matches a truth test.\n\t  // Aliased as `any`.\n\t  _.some = _.any = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var keys = !isArrayLike(obj) && _.keys(obj),\n\t        length = (keys || obj).length;\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = keys ? keys[index] : index;\n\t      if (predicate(obj[currentKey], currentKey, obj)) return true;\n\t    }\n\t    return false;\n\t  };\n\t\n\t  // Determine if the array or object contains a given item (using `===`).\n\t  // Aliased as `includes` and `include`.\n\t  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n\t    if (!isArrayLike(obj)) obj = _.values(obj);\n\t    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n\t    return _.indexOf(obj, item, fromIndex) >= 0;\n\t  };\n\t\n\t  // Invoke a method (with arguments) on every item in a collection.\n\t  _.invoke = function(obj, method) {\n\t    var args = slice.call(arguments, 2);\n\t    var isFunc = _.isFunction(method);\n\t    return _.map(obj, function(value) {\n\t      var func = isFunc ? method : value[method];\n\t      return func == null ? func : func.apply(value, args);\n\t    });\n\t  };\n\t\n\t  // Convenience version of a common use case of `map`: fetching a property.\n\t  _.pluck = function(obj, key) {\n\t    return _.map(obj, _.property(key));\n\t  };\n\t\n\t  // Convenience version of a common use case of `filter`: selecting only objects\n\t  // containing specific `key:value` pairs.\n\t  _.where = function(obj, attrs) {\n\t    return _.filter(obj, _.matcher(attrs));\n\t  };\n\t\n\t  // Convenience version of a common use case of `find`: getting the first object\n\t  // containing specific `key:value` pairs.\n\t  _.findWhere = function(obj, attrs) {\n\t    return _.find(obj, _.matcher(attrs));\n\t  };\n\t\n\t  // Return the maximum element (or element-based computation).\n\t  _.max = function(obj, iteratee, context) {\n\t    var result = -Infinity, lastComputed = -Infinity,\n\t        value, computed;\n\t    if (iteratee == null && obj != null) {\n\t      obj = isArrayLike(obj) ? obj : _.values(obj);\n\t      for (var i = 0, length = obj.length; i < length; i++) {\n\t        value = obj[i];\n\t        if (value > result) {\n\t          result = value;\n\t        }\n\t      }\n\t    } else {\n\t      iteratee = cb(iteratee, context);\n\t      _.each(obj, function(value, index, list) {\n\t        computed = iteratee(value, index, list);\n\t        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n\t          result = value;\n\t          lastComputed = computed;\n\t        }\n\t      });\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Return the minimum element (or element-based computation).\n\t  _.min = function(obj, iteratee, context) {\n\t    var result = Infinity, lastComputed = Infinity,\n\t        value, computed;\n\t    if (iteratee == null && obj != null) {\n\t      obj = isArrayLike(obj) ? obj : _.values(obj);\n\t      for (var i = 0, length = obj.length; i < length; i++) {\n\t        value = obj[i];\n\t        if (value < result) {\n\t          result = value;\n\t        }\n\t      }\n\t    } else {\n\t      iteratee = cb(iteratee, context);\n\t      _.each(obj, function(value, index, list) {\n\t        computed = iteratee(value, index, list);\n\t        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n\t          result = value;\n\t          lastComputed = computed;\n\t        }\n\t      });\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Shuffle a collection, using the modern version of the\n\t  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n\t  _.shuffle = function(obj) {\n\t    var set = isArrayLike(obj) ? obj : _.values(obj);\n\t    var length = set.length;\n\t    var shuffled = Array(length);\n\t    for (var index = 0, rand; index < length; index++) {\n\t      rand = _.random(0, index);\n\t      if (rand !== index) shuffled[index] = shuffled[rand];\n\t      shuffled[rand] = set[index];\n\t    }\n\t    return shuffled;\n\t  };\n\t\n\t  // Sample **n** random values from a collection.\n\t  // If **n** is not specified, returns a single random element.\n\t  // The internal `guard` argument allows it to work with `map`.\n\t  _.sample = function(obj, n, guard) {\n\t    if (n == null || guard) {\n\t      if (!isArrayLike(obj)) obj = _.values(obj);\n\t      return obj[_.random(obj.length - 1)];\n\t    }\n\t    return _.shuffle(obj).slice(0, Math.max(0, n));\n\t  };\n\t\n\t  // Sort the object's values by a criterion produced by an iteratee.\n\t  _.sortBy = function(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    return _.pluck(_.map(obj, function(value, index, list) {\n\t      return {\n\t        value: value,\n\t        index: index,\n\t        criteria: iteratee(value, index, list)\n\t      };\n\t    }).sort(function(left, right) {\n\t      var a = left.criteria;\n\t      var b = right.criteria;\n\t      if (a !== b) {\n\t        if (a > b || a === void 0) return 1;\n\t        if (a < b || b === void 0) return -1;\n\t      }\n\t      return left.index - right.index;\n\t    }), 'value');\n\t  };\n\t\n\t  // An internal function used for aggregate \"group by\" operations.\n\t  var group = function(behavior) {\n\t    return function(obj, iteratee, context) {\n\t      var result = {};\n\t      iteratee = cb(iteratee, context);\n\t      _.each(obj, function(value, index) {\n\t        var key = iteratee(value, index, obj);\n\t        behavior(result, value, key);\n\t      });\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Groups the object's values by a criterion. Pass either a string attribute\n\t  // to group by, or a function that returns the criterion.\n\t  _.groupBy = group(function(result, value, key) {\n\t    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n\t  });\n\t\n\t  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n\t  // when you know that your index values will be unique.\n\t  _.indexBy = group(function(result, value, key) {\n\t    result[key] = value;\n\t  });\n\t\n\t  // Counts instances of an object that group by a certain criterion. Pass\n\t  // either a string attribute to count by, or a function that returns the\n\t  // criterion.\n\t  _.countBy = group(function(result, value, key) {\n\t    if (_.has(result, key)) result[key]++; else result[key] = 1;\n\t  });\n\t\n\t  // Safely create a real, live array from anything iterable.\n\t  _.toArray = function(obj) {\n\t    if (!obj) return [];\n\t    if (_.isArray(obj)) return slice.call(obj);\n\t    if (isArrayLike(obj)) return _.map(obj, _.identity);\n\t    return _.values(obj);\n\t  };\n\t\n\t  // Return the number of elements in an object.\n\t  _.size = function(obj) {\n\t    if (obj == null) return 0;\n\t    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n\t  };\n\t\n\t  // Split a collection into two arrays: one whose elements all satisfy the given\n\t  // predicate, and one whose elements all do not satisfy the predicate.\n\t  _.partition = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var pass = [], fail = [];\n\t    _.each(obj, function(value, key, obj) {\n\t      (predicate(value, key, obj) ? pass : fail).push(value);\n\t    });\n\t    return [pass, fail];\n\t  };\n\t\n\t  // Array Functions\n\t  // ---------------\n\t\n\t  // Get the first element of an array. Passing **n** will return the first N\n\t  // values in the array. Aliased as `head` and `take`. The **guard** check\n\t  // allows it to work with `_.map`.\n\t  _.first = _.head = _.take = function(array, n, guard) {\n\t    if (array == null) return void 0;\n\t    if (n == null || guard) return array[0];\n\t    return _.initial(array, array.length - n);\n\t  };\n\t\n\t  // Returns everything but the last entry of the array. Especially useful on\n\t  // the arguments object. Passing **n** will return all the values in\n\t  // the array, excluding the last N.\n\t  _.initial = function(array, n, guard) {\n\t    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n\t  };\n\t\n\t  // Get the last element of an array. Passing **n** will return the last N\n\t  // values in the array.\n\t  _.last = function(array, n, guard) {\n\t    if (array == null) return void 0;\n\t    if (n == null || guard) return array[array.length - 1];\n\t    return _.rest(array, Math.max(0, array.length - n));\n\t  };\n\t\n\t  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n\t  // Especially useful on the arguments object. Passing an **n** will return\n\t  // the rest N values in the array.\n\t  _.rest = _.tail = _.drop = function(array, n, guard) {\n\t    return slice.call(array, n == null || guard ? 1 : n);\n\t  };\n\t\n\t  // Trim out all falsy values from an array.\n\t  _.compact = function(array) {\n\t    return _.filter(array, _.identity);\n\t  };\n\t\n\t  // Internal implementation of a recursive `flatten` function.\n\t  var flatten = function(input, shallow, strict, startIndex) {\n\t    var output = [], idx = 0;\n\t    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n\t      var value = input[i];\n\t      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n\t        //flatten current level of array or arguments object\n\t        if (!shallow) value = flatten(value, shallow, strict);\n\t        var j = 0, len = value.length;\n\t        output.length += len;\n\t        while (j < len) {\n\t          output[idx++] = value[j++];\n\t        }\n\t      } else if (!strict) {\n\t        output[idx++] = value;\n\t      }\n\t    }\n\t    return output;\n\t  };\n\t\n\t  // Flatten out an array, either recursively (by default), or just one level.\n\t  _.flatten = function(array, shallow) {\n\t    return flatten(array, shallow, false);\n\t  };\n\t\n\t  // Return a version of the array that does not contain the specified value(s).\n\t  _.without = function(array) {\n\t    return _.difference(array, slice.call(arguments, 1));\n\t  };\n\t\n\t  // Produce a duplicate-free version of the array. If the array has already\n\t  // been sorted, you have the option of using a faster algorithm.\n\t  // Aliased as `unique`.\n\t  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n\t    if (!_.isBoolean(isSorted)) {\n\t      context = iteratee;\n\t      iteratee = isSorted;\n\t      isSorted = false;\n\t    }\n\t    if (iteratee != null) iteratee = cb(iteratee, context);\n\t    var result = [];\n\t    var seen = [];\n\t    for (var i = 0, length = getLength(array); i < length; i++) {\n\t      var value = array[i],\n\t          computed = iteratee ? iteratee(value, i, array) : value;\n\t      if (isSorted) {\n\t        if (!i || seen !== computed) result.push(value);\n\t        seen = computed;\n\t      } else if (iteratee) {\n\t        if (!_.contains(seen, computed)) {\n\t          seen.push(computed);\n\t          result.push(value);\n\t        }\n\t      } else if (!_.contains(result, value)) {\n\t        result.push(value);\n\t      }\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Produce an array that contains the union: each distinct element from all of\n\t  // the passed-in arrays.\n\t  _.union = function() {\n\t    return _.uniq(flatten(arguments, true, true));\n\t  };\n\t\n\t  // Produce an array that contains every item shared between all the\n\t  // passed-in arrays.\n\t  _.intersection = function(array) {\n\t    var result = [];\n\t    var argsLength = arguments.length;\n\t    for (var i = 0, length = getLength(array); i < length; i++) {\n\t      var item = array[i];\n\t      if (_.contains(result, item)) continue;\n\t      for (var j = 1; j < argsLength; j++) {\n\t        if (!_.contains(arguments[j], item)) break;\n\t      }\n\t      if (j === argsLength) result.push(item);\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Take the difference between one array and a number of other arrays.\n\t  // Only the elements present in just the first array will remain.\n\t  _.difference = function(array) {\n\t    var rest = flatten(arguments, true, true, 1);\n\t    return _.filter(array, function(value){\n\t      return !_.contains(rest, value);\n\t    });\n\t  };\n\t\n\t  // Zip together multiple lists into a single array -- elements that share\n\t  // an index go together.\n\t  _.zip = function() {\n\t    return _.unzip(arguments);\n\t  };\n\t\n\t  // Complement of _.zip. Unzip accepts an array of arrays and groups\n\t  // each array's elements on shared indices\n\t  _.unzip = function(array) {\n\t    var length = array && _.max(array, getLength).length || 0;\n\t    var result = Array(length);\n\t\n\t    for (var index = 0; index < length; index++) {\n\t      result[index] = _.pluck(array, index);\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Converts lists into objects. Pass either a single array of `[key, value]`\n\t  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n\t  // the corresponding values.\n\t  _.object = function(list, values) {\n\t    var result = {};\n\t    for (var i = 0, length = getLength(list); i < length; i++) {\n\t      if (values) {\n\t        result[list[i]] = values[i];\n\t      } else {\n\t        result[list[i][0]] = list[i][1];\n\t      }\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Generator function to create the findIndex and findLastIndex functions\n\t  function createPredicateIndexFinder(dir) {\n\t    return function(array, predicate, context) {\n\t      predicate = cb(predicate, context);\n\t      var length = getLength(array);\n\t      var index = dir > 0 ? 0 : length - 1;\n\t      for (; index >= 0 && index < length; index += dir) {\n\t        if (predicate(array[index], index, array)) return index;\n\t      }\n\t      return -1;\n\t    };\n\t  }\n\t\n\t  // Returns the first index on an array-like that passes a predicate test\n\t  _.findIndex = createPredicateIndexFinder(1);\n\t  _.findLastIndex = createPredicateIndexFinder(-1);\n\t\n\t  // Use a comparator function to figure out the smallest index at which\n\t  // an object should be inserted so as to maintain order. Uses binary search.\n\t  _.sortedIndex = function(array, obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context, 1);\n\t    var value = iteratee(obj);\n\t    var low = 0, high = getLength(array);\n\t    while (low < high) {\n\t      var mid = Math.floor((low + high) / 2);\n\t      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n\t    }\n\t    return low;\n\t  };\n\t\n\t  // Generator function to create the indexOf and lastIndexOf functions\n\t  function createIndexFinder(dir, predicateFind, sortedIndex) {\n\t    return function(array, item, idx) {\n\t      var i = 0, length = getLength(array);\n\t      if (typeof idx == 'number') {\n\t        if (dir > 0) {\n\t            i = idx >= 0 ? idx : Math.max(idx + length, i);\n\t        } else {\n\t            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n\t        }\n\t      } else if (sortedIndex && idx && length) {\n\t        idx = sortedIndex(array, item);\n\t        return array[idx] === item ? idx : -1;\n\t      }\n\t      if (item !== item) {\n\t        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n\t        return idx >= 0 ? idx + i : -1;\n\t      }\n\t      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n\t        if (array[idx] === item) return idx;\n\t      }\n\t      return -1;\n\t    };\n\t  }\n\t\n\t  // Return the position of the first occurrence of an item in an array,\n\t  // or -1 if the item is not included in the array.\n\t  // If the array is large and already in sort order, pass `true`\n\t  // for **isSorted** to use binary search.\n\t  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n\t  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\t\n\t  // Generate an integer Array containing an arithmetic progression. A port of\n\t  // the native Python `range()` function. See\n\t  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n\t  _.range = function(start, stop, step) {\n\t    if (stop == null) {\n\t      stop = start || 0;\n\t      start = 0;\n\t    }\n\t    step = step || 1;\n\t\n\t    var length = Math.max(Math.ceil((stop - start) / step), 0);\n\t    var range = Array(length);\n\t\n\t    for (var idx = 0; idx < length; idx++, start += step) {\n\t      range[idx] = start;\n\t    }\n\t\n\t    return range;\n\t  };\n\t\n\t  // Function (ahem) Functions\n\t  // ------------------\n\t\n\t  // Determines whether to execute a function as a constructor\n\t  // or a normal function with the provided arguments\n\t  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n\t    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n\t    var self = baseCreate(sourceFunc.prototype);\n\t    var result = sourceFunc.apply(self, args);\n\t    if (_.isObject(result)) return result;\n\t    return self;\n\t  };\n\t\n\t  // Create a function bound to a given object (assigning `this`, and arguments,\n\t  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n\t  // available.\n\t  _.bind = function(func, context) {\n\t    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n\t    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n\t    var args = slice.call(arguments, 2);\n\t    var bound = function() {\n\t      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n\t    };\n\t    return bound;\n\t  };\n\t\n\t  // Partially apply a function by creating a version that has had some of its\n\t  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n\t  // as a placeholder, allowing any combination of arguments to be pre-filled.\n\t  _.partial = function(func) {\n\t    var boundArgs = slice.call(arguments, 1);\n\t    var bound = function() {\n\t      var position = 0, length = boundArgs.length;\n\t      var args = Array(length);\n\t      for (var i = 0; i < length; i++) {\n\t        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n\t      }\n\t      while (position < arguments.length) args.push(arguments[position++]);\n\t      return executeBound(func, bound, this, this, args);\n\t    };\n\t    return bound;\n\t  };\n\t\n\t  // Bind a number of an object's methods to that object. Remaining arguments\n\t  // are the method names to be bound. Useful for ensuring that all callbacks\n\t  // defined on an object belong to it.\n\t  _.bindAll = function(obj) {\n\t    var i, length = arguments.length, key;\n\t    if (length <= 1) throw new Error('bindAll must be passed function names');\n\t    for (i = 1; i < length; i++) {\n\t      key = arguments[i];\n\t      obj[key] = _.bind(obj[key], obj);\n\t    }\n\t    return obj;\n\t  };\n\t\n\t  // Memoize an expensive function by storing its results.\n\t  _.memoize = function(func, hasher) {\n\t    var memoize = function(key) {\n\t      var cache = memoize.cache;\n\t      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n\t      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n\t      return cache[address];\n\t    };\n\t    memoize.cache = {};\n\t    return memoize;\n\t  };\n\t\n\t  // Delays a function for the given number of milliseconds, and then calls\n\t  // it with the arguments supplied.\n\t  _.delay = function(func, wait) {\n\t    var args = slice.call(arguments, 2);\n\t    return setTimeout(function(){\n\t      return func.apply(null, args);\n\t    }, wait);\n\t  };\n\t\n\t  // Defers a function, scheduling it to run after the current call stack has\n\t  // cleared.\n\t  _.defer = _.partial(_.delay, _, 1);\n\t\n\t  // Returns a function, that, when invoked, will only be triggered at most once\n\t  // during a given window of time. Normally, the throttled function will run\n\t  // as much as it can, without ever going more than once per `wait` duration;\n\t  // but if you'd like to disable the execution on the leading edge, pass\n\t  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n\t  _.throttle = function(func, wait, options) {\n\t    var context, args, result;\n\t    var timeout = null;\n\t    var previous = 0;\n\t    if (!options) options = {};\n\t    var later = function() {\n\t      previous = options.leading === false ? 0 : _.now();\n\t      timeout = null;\n\t      result = func.apply(context, args);\n\t      if (!timeout) context = args = null;\n\t    };\n\t    return function() {\n\t      var now = _.now();\n\t      if (!previous && options.leading === false) previous = now;\n\t      var remaining = wait - (now - previous);\n\t      context = this;\n\t      args = arguments;\n\t      if (remaining <= 0 || remaining > wait) {\n\t        if (timeout) {\n\t          clearTimeout(timeout);\n\t          timeout = null;\n\t        }\n\t        previous = now;\n\t        result = func.apply(context, args);\n\t        if (!timeout) context = args = null;\n\t      } else if (!timeout && options.trailing !== false) {\n\t        timeout = setTimeout(later, remaining);\n\t      }\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Returns a function, that, as long as it continues to be invoked, will not\n\t  // be triggered. The function will be called after it stops being called for\n\t  // N milliseconds. If `immediate` is passed, trigger the function on the\n\t  // leading edge, instead of the trailing.\n\t  _.debounce = function(func, wait, immediate) {\n\t    var timeout, args, context, timestamp, result;\n\t\n\t    var later = function() {\n\t      var last = _.now() - timestamp;\n\t\n\t      if (last < wait && last >= 0) {\n\t        timeout = setTimeout(later, wait - last);\n\t      } else {\n\t        timeout = null;\n\t        if (!immediate) {\n\t          result = func.apply(context, args);\n\t          if (!timeout) context = args = null;\n\t        }\n\t      }\n\t    };\n\t\n\t    return function() {\n\t      context = this;\n\t      args = arguments;\n\t      timestamp = _.now();\n\t      var callNow = immediate && !timeout;\n\t      if (!timeout) timeout = setTimeout(later, wait);\n\t      if (callNow) {\n\t        result = func.apply(context, args);\n\t        context = args = null;\n\t      }\n\t\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Returns the first function passed as an argument to the second,\n\t  // allowing you to adjust arguments, run code before and after, and\n\t  // conditionally execute the original function.\n\t  _.wrap = function(func, wrapper) {\n\t    return _.partial(wrapper, func);\n\t  };\n\t\n\t  // Returns a negated version of the passed-in predicate.\n\t  _.negate = function(predicate) {\n\t    return function() {\n\t      return !predicate.apply(this, arguments);\n\t    };\n\t  };\n\t\n\t  // Returns a function that is the composition of a list of functions, each\n\t  // consuming the return value of the function that follows.\n\t  _.compose = function() {\n\t    var args = arguments;\n\t    var start = args.length - 1;\n\t    return function() {\n\t      var i = start;\n\t      var result = args[start].apply(this, arguments);\n\t      while (i--) result = args[i].call(this, result);\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Returns a function that will only be executed on and after the Nth call.\n\t  _.after = function(times, func) {\n\t    return function() {\n\t      if (--times < 1) {\n\t        return func.apply(this, arguments);\n\t      }\n\t    };\n\t  };\n\t\n\t  // Returns a function that will only be executed up to (but not including) the Nth call.\n\t  _.before = function(times, func) {\n\t    var memo;\n\t    return function() {\n\t      if (--times > 0) {\n\t        memo = func.apply(this, arguments);\n\t      }\n\t      if (times <= 1) func = null;\n\t      return memo;\n\t    };\n\t  };\n\t\n\t  // Returns a function that will be executed at most one time, no matter how\n\t  // often you call it. Useful for lazy initialization.\n\t  _.once = _.partial(_.before, 2);\n\t\n\t  // Object Functions\n\t  // ----------------\n\t\n\t  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n\t  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n\t  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n\t                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\t\n\t  function collectNonEnumProps(obj, keys) {\n\t    var nonEnumIdx = nonEnumerableProps.length;\n\t    var constructor = obj.constructor;\n\t    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\t\n\t    // Constructor is a special case.\n\t    var prop = 'constructor';\n\t    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\t\n\t    while (nonEnumIdx--) {\n\t      prop = nonEnumerableProps[nonEnumIdx];\n\t      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n\t        keys.push(prop);\n\t      }\n\t    }\n\t  }\n\t\n\t  // Retrieve the names of an object's own properties.\n\t  // Delegates to **ECMAScript 5**'s native `Object.keys`\n\t  _.keys = function(obj) {\n\t    if (!_.isObject(obj)) return [];\n\t    if (nativeKeys) return nativeKeys(obj);\n\t    var keys = [];\n\t    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n\t    // Ahem, IE < 9.\n\t    if (hasEnumBug) collectNonEnumProps(obj, keys);\n\t    return keys;\n\t  };\n\t\n\t  // Retrieve all the property names of an object.\n\t  _.allKeys = function(obj) {\n\t    if (!_.isObject(obj)) return [];\n\t    var keys = [];\n\t    for (var key in obj) keys.push(key);\n\t    // Ahem, IE < 9.\n\t    if (hasEnumBug) collectNonEnumProps(obj, keys);\n\t    return keys;\n\t  };\n\t\n\t  // Retrieve the values of an object's properties.\n\t  _.values = function(obj) {\n\t    var keys = _.keys(obj);\n\t    var length = keys.length;\n\t    var values = Array(length);\n\t    for (var i = 0; i < length; i++) {\n\t      values[i] = obj[keys[i]];\n\t    }\n\t    return values;\n\t  };\n\t\n\t  // Returns the results of applying the iteratee to each element of the object\n\t  // In contrast to _.map it returns an object\n\t  _.mapObject = function(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    var keys =  _.keys(obj),\n\t          length = keys.length,\n\t          results = {},\n\t          currentKey;\n\t      for (var index = 0; index < length; index++) {\n\t        currentKey = keys[index];\n\t        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n\t      }\n\t      return results;\n\t  };\n\t\n\t  // Convert an object into a list of `[key, value]` pairs.\n\t  _.pairs = function(obj) {\n\t    var keys = _.keys(obj);\n\t    var length = keys.length;\n\t    var pairs = Array(length);\n\t    for (var i = 0; i < length; i++) {\n\t      pairs[i] = [keys[i], obj[keys[i]]];\n\t    }\n\t    return pairs;\n\t  };\n\t\n\t  // Invert the keys and values of an object. The values must be serializable.\n\t  _.invert = function(obj) {\n\t    var result = {};\n\t    var keys = _.keys(obj);\n\t    for (var i = 0, length = keys.length; i < length; i++) {\n\t      result[obj[keys[i]]] = keys[i];\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Return a sorted list of the function names available on the object.\n\t  // Aliased as `methods`\n\t  _.functions = _.methods = function(obj) {\n\t    var names = [];\n\t    for (var key in obj) {\n\t      if (_.isFunction(obj[key])) names.push(key);\n\t    }\n\t    return names.sort();\n\t  };\n\t\n\t  // Extend a given object with all the properties in passed-in object(s).\n\t  _.extend = createAssigner(_.allKeys);\n\t\n\t  // Assigns a given object with all the own properties in the passed-in object(s)\n\t  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n\t  _.extendOwn = _.assign = createAssigner(_.keys);\n\t\n\t  // Returns the first key on an object that passes a predicate test\n\t  _.findKey = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var keys = _.keys(obj), key;\n\t    for (var i = 0, length = keys.length; i < length; i++) {\n\t      key = keys[i];\n\t      if (predicate(obj[key], key, obj)) return key;\n\t    }\n\t  };\n\t\n\t  // Return a copy of the object only containing the whitelisted properties.\n\t  _.pick = function(object, oiteratee, context) {\n\t    var result = {}, obj = object, iteratee, keys;\n\t    if (obj == null) return result;\n\t    if (_.isFunction(oiteratee)) {\n\t      keys = _.allKeys(obj);\n\t      iteratee = optimizeCb(oiteratee, context);\n\t    } else {\n\t      keys = flatten(arguments, false, false, 1);\n\t      iteratee = function(value, key, obj) { return key in obj; };\n\t      obj = Object(obj);\n\t    }\n\t    for (var i = 0, length = keys.length; i < length; i++) {\n\t      var key = keys[i];\n\t      var value = obj[key];\n\t      if (iteratee(value, key, obj)) result[key] = value;\n\t    }\n\t    return result;\n\t  };\n\t\n\t   // Return a copy of the object without the blacklisted properties.\n\t  _.omit = function(obj, iteratee, context) {\n\t    if (_.isFunction(iteratee)) {\n\t      iteratee = _.negate(iteratee);\n\t    } else {\n\t      var keys = _.map(flatten(arguments, false, false, 1), String);\n\t      iteratee = function(value, key) {\n\t        return !_.contains(keys, key);\n\t      };\n\t    }\n\t    return _.pick(obj, iteratee, context);\n\t  };\n\t\n\t  // Fill in a given object with default properties.\n\t  _.defaults = createAssigner(_.allKeys, true);\n\t\n\t  // Creates an object that inherits from the given prototype object.\n\t  // If additional properties are provided then they will be added to the\n\t  // created object.\n\t  _.create = function(prototype, props) {\n\t    var result = baseCreate(prototype);\n\t    if (props) _.extendOwn(result, props);\n\t    return result;\n\t  };\n\t\n\t  // Create a (shallow-cloned) duplicate of an object.\n\t  _.clone = function(obj) {\n\t    if (!_.isObject(obj)) return obj;\n\t    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n\t  };\n\t\n\t  // Invokes interceptor with the obj, and then returns obj.\n\t  // The primary purpose of this method is to \"tap into\" a method chain, in\n\t  // order to perform operations on intermediate results within the chain.\n\t  _.tap = function(obj, interceptor) {\n\t    interceptor(obj);\n\t    return obj;\n\t  };\n\t\n\t  // Returns whether an object has a given set of `key:value` pairs.\n\t  _.isMatch = function(object, attrs) {\n\t    var keys = _.keys(attrs), length = keys.length;\n\t    if (object == null) return !length;\n\t    var obj = Object(object);\n\t    for (var i = 0; i < length; i++) {\n\t      var key = keys[i];\n\t      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n\t    }\n\t    return true;\n\t  };\n\t\n\t\n\t  // Internal recursive comparison function for `isEqual`.\n\t  var eq = function(a, b, aStack, bStack) {\n\t    // Identical objects are equal. `0 === -0`, but they aren't identical.\n\t    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n\t    if (a === b) return a !== 0 || 1 / a === 1 / b;\n\t    // A strict comparison is necessary because `null == undefined`.\n\t    if (a == null || b == null) return a === b;\n\t    // Unwrap any wrapped objects.\n\t    if (a instanceof _) a = a._wrapped;\n\t    if (b instanceof _) b = b._wrapped;\n\t    // Compare `[[Class]]` names.\n\t    var className = toString.call(a);\n\t    if (className !== toString.call(b)) return false;\n\t    switch (className) {\n\t      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n\t      case '[object RegExp]':\n\t      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n\t      case '[object String]':\n\t        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n\t        // equivalent to `new String(\"5\")`.\n\t        return '' + a === '' + b;\n\t      case '[object Number]':\n\t        // `NaN`s are equivalent, but non-reflexive.\n\t        // Object(NaN) is equivalent to NaN\n\t        if (+a !== +a) return +b !== +b;\n\t        // An `egal` comparison is performed for other numeric values.\n\t        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n\t      case '[object Date]':\n\t      case '[object Boolean]':\n\t        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n\t        // millisecond representations. Note that invalid dates with millisecond representations\n\t        // of `NaN` are not equivalent.\n\t        return +a === +b;\n\t    }\n\t\n\t    var areArrays = className === '[object Array]';\n\t    if (!areArrays) {\n\t      if (typeof a != 'object' || typeof b != 'object') return false;\n\t\n\t      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n\t      // from different frames are.\n\t      var aCtor = a.constructor, bCtor = b.constructor;\n\t      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n\t                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n\t                          && ('constructor' in a && 'constructor' in b)) {\n\t        return false;\n\t      }\n\t    }\n\t    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n\t    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\t\n\t    // Initializing stack of traversed objects.\n\t    // It's done here since we only need them for objects and arrays comparison.\n\t    aStack = aStack || [];\n\t    bStack = bStack || [];\n\t    var length = aStack.length;\n\t    while (length--) {\n\t      // Linear search. Performance is inversely proportional to the number of\n\t      // unique nested structures.\n\t      if (aStack[length] === a) return bStack[length] === b;\n\t    }\n\t\n\t    // Add the first object to the stack of traversed objects.\n\t    aStack.push(a);\n\t    bStack.push(b);\n\t\n\t    // Recursively compare objects and arrays.\n\t    if (areArrays) {\n\t      // Compare array lengths to determine if a deep comparison is necessary.\n\t      length = a.length;\n\t      if (length !== b.length) return false;\n\t      // Deep compare the contents, ignoring non-numeric properties.\n\t      while (length--) {\n\t        if (!eq(a[length], b[length], aStack, bStack)) return false;\n\t      }\n\t    } else {\n\t      // Deep compare objects.\n\t      var keys = _.keys(a), key;\n\t      length = keys.length;\n\t      // Ensure that both objects contain the same number of properties before comparing deep equality.\n\t      if (_.keys(b).length !== length) return false;\n\t      while (length--) {\n\t        // Deep compare each member\n\t        key = keys[length];\n\t        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n\t      }\n\t    }\n\t    // Remove the first object from the stack of traversed objects.\n\t    aStack.pop();\n\t    bStack.pop();\n\t    return true;\n\t  };\n\t\n\t  // Perform a deep comparison to check if two objects are equal.\n\t  _.isEqual = function(a, b) {\n\t    return eq(a, b);\n\t  };\n\t\n\t  // Is a given array, string, or object empty?\n\t  // An \"empty\" object has no enumerable own-properties.\n\t  _.isEmpty = function(obj) {\n\t    if (obj == null) return true;\n\t    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n\t    return _.keys(obj).length === 0;\n\t  };\n\t\n\t  // Is a given value a DOM element?\n\t  _.isElement = function(obj) {\n\t    return !!(obj && obj.nodeType === 1);\n\t  };\n\t\n\t  // Is a given value an array?\n\t  // Delegates to ECMA5's native Array.isArray\n\t  _.isArray = nativeIsArray || function(obj) {\n\t    return toString.call(obj) === '[object Array]';\n\t  };\n\t\n\t  // Is a given variable an object?\n\t  _.isObject = function(obj) {\n\t    var type = typeof obj;\n\t    return type === 'function' || type === 'object' && !!obj;\n\t  };\n\t\n\t  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n\t  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n\t    _['is' + name] = function(obj) {\n\t      return toString.call(obj) === '[object ' + name + ']';\n\t    };\n\t  });\n\t\n\t  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n\t  // there isn't any inspectable \"Arguments\" type.\n\t  if (!_.isArguments(arguments)) {\n\t    _.isArguments = function(obj) {\n\t      return _.has(obj, 'callee');\n\t    };\n\t  }\n\t\n\t  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n\t  // IE 11 (#1621), and in Safari 8 (#1929).\n\t  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n\t    _.isFunction = function(obj) {\n\t      return typeof obj == 'function' || false;\n\t    };\n\t  }\n\t\n\t  // Is a given object a finite number?\n\t  _.isFinite = function(obj) {\n\t    return isFinite(obj) && !isNaN(parseFloat(obj));\n\t  };\n\t\n\t  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n\t  _.isNaN = function(obj) {\n\t    return _.isNumber(obj) && obj !== +obj;\n\t  };\n\t\n\t  // Is a given value a boolean?\n\t  _.isBoolean = function(obj) {\n\t    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n\t  };\n\t\n\t  // Is a given value equal to null?\n\t  _.isNull = function(obj) {\n\t    return obj === null;\n\t  };\n\t\n\t  // Is a given variable undefined?\n\t  _.isUndefined = function(obj) {\n\t    return obj === void 0;\n\t  };\n\t\n\t  // Shortcut function for checking if an object has a given property directly\n\t  // on itself (in other words, not on a prototype).\n\t  _.has = function(obj, key) {\n\t    return obj != null && hasOwnProperty.call(obj, key);\n\t  };\n\t\n\t  // Utility Functions\n\t  // -----------------\n\t\n\t  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n\t  // previous owner. Returns a reference to the Underscore object.\n\t  _.noConflict = function() {\n\t    root._ = previousUnderscore;\n\t    return this;\n\t  };\n\t\n\t  // Keep the identity function around for default iteratees.\n\t  _.identity = function(value) {\n\t    return value;\n\t  };\n\t\n\t  // Predicate-generating functions. Often useful outside of Underscore.\n\t  _.constant = function(value) {\n\t    return function() {\n\t      return value;\n\t    };\n\t  };\n\t\n\t  _.noop = function(){};\n\t\n\t  _.property = property;\n\t\n\t  // Generates a function for a given object that returns a given property.\n\t  _.propertyOf = function(obj) {\n\t    return obj == null ? function(){} : function(key) {\n\t      return obj[key];\n\t    };\n\t  };\n\t\n\t  // Returns a predicate for checking whether an object has a given set of\n\t  // `key:value` pairs.\n\t  _.matcher = _.matches = function(attrs) {\n\t    attrs = _.extendOwn({}, attrs);\n\t    return function(obj) {\n\t      return _.isMatch(obj, attrs);\n\t    };\n\t  };\n\t\n\t  // Run a function **n** times.\n\t  _.times = function(n, iteratee, context) {\n\t    var accum = Array(Math.max(0, n));\n\t    iteratee = optimizeCb(iteratee, context, 1);\n\t    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n\t    return accum;\n\t  };\n\t\n\t  // Return a random integer between min and max (inclusive).\n\t  _.random = function(min, max) {\n\t    if (max == null) {\n\t      max = min;\n\t      min = 0;\n\t    }\n\t    return min + Math.floor(Math.random() * (max - min + 1));\n\t  };\n\t\n\t  // A (possibly faster) way to get the current timestamp as an integer.\n\t  _.now = Date.now || function() {\n\t    return new Date().getTime();\n\t  };\n\t\n\t   // List of HTML entities for escaping.\n\t  var escapeMap = {\n\t    '&': '&amp;',\n\t    '<': '&lt;',\n\t    '>': '&gt;',\n\t    '\"': '&quot;',\n\t    \"'\": '&#x27;',\n\t    '`': '&#x60;'\n\t  };\n\t  var unescapeMap = _.invert(escapeMap);\n\t\n\t  // Functions for escaping and unescaping strings to/from HTML interpolation.\n\t  var createEscaper = function(map) {\n\t    var escaper = function(match) {\n\t      return map[match];\n\t    };\n\t    // Regexes for identifying a key that needs to be escaped\n\t    var source = '(?:' + _.keys(map).join('|') + ')';\n\t    var testRegexp = RegExp(source);\n\t    var replaceRegexp = RegExp(source, 'g');\n\t    return function(string) {\n\t      string = string == null ? '' : '' + string;\n\t      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n\t    };\n\t  };\n\t  _.escape = createEscaper(escapeMap);\n\t  _.unescape = createEscaper(unescapeMap);\n\t\n\t  // If the value of the named `property` is a function then invoke it with the\n\t  // `object` as context; otherwise, return it.\n\t  _.result = function(object, property, fallback) {\n\t    var value = object == null ? void 0 : object[property];\n\t    if (value === void 0) {\n\t      value = fallback;\n\t    }\n\t    return _.isFunction(value) ? value.call(object) : value;\n\t  };\n\t\n\t  // Generate a unique integer id (unique within the entire client session).\n\t  // Useful for temporary DOM ids.\n\t  var idCounter = 0;\n\t  _.uniqueId = function(prefix) {\n\t    var id = ++idCounter + '';\n\t    return prefix ? prefix + id : id;\n\t  };\n\t\n\t  // By default, Underscore uses ERB-style template delimiters, change the\n\t  // following template settings to use alternative delimiters.\n\t  _.templateSettings = {\n\t    evaluate    : /<%([\\s\\S]+?)%>/g,\n\t    interpolate : /<%=([\\s\\S]+?)%>/g,\n\t    escape      : /<%-([\\s\\S]+?)%>/g\n\t  };\n\t\n\t  // When customizing `templateSettings`, if you don't want to define an\n\t  // interpolation, evaluation or escaping regex, we need one that is\n\t  // guaranteed not to match.\n\t  var noMatch = /(.)^/;\n\t\n\t  // Certain characters need to be escaped so that they can be put into a\n\t  // string literal.\n\t  var escapes = {\n\t    \"'\":      \"'\",\n\t    '\\\\':     '\\\\',\n\t    '\\r':     'r',\n\t    '\\n':     'n',\n\t    '\\u2028': 'u2028',\n\t    '\\u2029': 'u2029'\n\t  };\n\t\n\t  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\t\n\t  var escapeChar = function(match) {\n\t    return '\\\\' + escapes[match];\n\t  };\n\t\n\t  // JavaScript micro-templating, similar to John Resig's implementation.\n\t  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n\t  // and correctly escapes quotes within interpolated code.\n\t  // NB: `oldSettings` only exists for backwards compatibility.\n\t  _.template = function(text, settings, oldSettings) {\n\t    if (!settings && oldSettings) settings = oldSettings;\n\t    settings = _.defaults({}, settings, _.templateSettings);\n\t\n\t    // Combine delimiters into one regular expression via alternation.\n\t    var matcher = RegExp([\n\t      (settings.escape || noMatch).source,\n\t      (settings.interpolate || noMatch).source,\n\t      (settings.evaluate || noMatch).source\n\t    ].join('|') + '|$', 'g');\n\t\n\t    // Compile the template source, escaping string literals appropriately.\n\t    var index = 0;\n\t    var source = \"__p+='\";\n\t    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n\t      source += text.slice(index, offset).replace(escaper, escapeChar);\n\t      index = offset + match.length;\n\t\n\t      if (escape) {\n\t        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n\t      } else if (interpolate) {\n\t        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n\t      } else if (evaluate) {\n\t        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n\t      }\n\t\n\t      // Adobe VMs need the match returned to produce the correct offest.\n\t      return match;\n\t    });\n\t    source += \"';\\n\";\n\t\n\t    // If a variable is not specified, place data values in local scope.\n\t    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\t\n\t    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n\t      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n\t      source + 'return __p;\\n';\n\t\n\t    try {\n\t      var render = new Function(settings.variable || 'obj', '_', source);\n\t    } catch (e) {\n\t      e.source = source;\n\t      throw e;\n\t    }\n\t\n\t    var template = function(data) {\n\t      return render.call(this, data, _);\n\t    };\n\t\n\t    // Provide the compiled source as a convenience for precompilation.\n\t    var argument = settings.variable || 'obj';\n\t    template.source = 'function(' + argument + '){\\n' + source + '}';\n\t\n\t    return template;\n\t  };\n\t\n\t  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n\t  _.chain = function(obj) {\n\t    var instance = _(obj);\n\t    instance._chain = true;\n\t    return instance;\n\t  };\n\t\n\t  // OOP\n\t  // ---------------\n\t  // If Underscore is called as a function, it returns a wrapped object that\n\t  // can be used OO-style. This wrapper holds altered versions of all the\n\t  // underscore functions. Wrapped objects may be chained.\n\t\n\t  // Helper function to continue chaining intermediate results.\n\t  var result = function(instance, obj) {\n\t    return instance._chain ? _(obj).chain() : obj;\n\t  };\n\t\n\t  // Add your own custom functions to the Underscore object.\n\t  _.mixin = function(obj) {\n\t    _.each(_.functions(obj), function(name) {\n\t      var func = _[name] = obj[name];\n\t      _.prototype[name] = function() {\n\t        var args = [this._wrapped];\n\t        push.apply(args, arguments);\n\t        return result(this, func.apply(_, args));\n\t      };\n\t    });\n\t  };\n\t\n\t  // Add all of the Underscore functions to the wrapper object.\n\t  _.mixin(_);\n\t\n\t  // Add all mutator Array functions to the wrapper.\n\t  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n\t    var method = ArrayProto[name];\n\t    _.prototype[name] = function() {\n\t      var obj = this._wrapped;\n\t      method.apply(obj, arguments);\n\t      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n\t      return result(this, obj);\n\t    };\n\t  });\n\t\n\t  // Add all accessor Array functions to the wrapper.\n\t  _.each(['concat', 'join', 'slice'], function(name) {\n\t    var method = ArrayProto[name];\n\t    _.prototype[name] = function() {\n\t      return result(this, method.apply(this._wrapped, arguments));\n\t    };\n\t  });\n\t\n\t  // Extracts the result from a wrapped and chained object.\n\t  _.prototype.value = function() {\n\t    return this._wrapped;\n\t  };\n\t\n\t  // Provide unwrapping proxy for some methods used in engine operations\n\t  // such as arithmetic and JSON stringification.\n\t  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\t\n\t  _.prototype.toString = function() {\n\t    return '' + this._wrapped;\n\t  };\n\t\n\t  // AMD registration happens at the end for compatibility with AMD loaders\n\t  // that may not enforce next-turn semantics on modules. Even though general\n\t  // practice for AMD registration is to be anonymous, underscore registers\n\t  // as a named module because, like jQuery, it is a base library that is\n\t  // popular enough to be bundled in a third party lib, but not be part of\n\t  // an AMD load request. Those cases could generate an error when an\n\t  // anonymous define() is called outside of a loader request.\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t      return _;\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  }\n\t}.call(this));\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(global) {/*!\n\t * async\n\t * https://github.com/caolan/async\n\t *\n\t * Copyright 2010-2014 Caolan McMahon\n\t * Released under the MIT license\n\t */\n\t(function () {\n\t\n\t    var async = {};\n\t    function noop() {}\n\t    function identity(v) {\n\t        return v;\n\t    }\n\t    function toBool(v) {\n\t        return !!v;\n\t    }\n\t    function notId(v) {\n\t        return !v;\n\t    }\n\t\n\t    // global on the server, window in the browser\n\t    var previous_async;\n\t\n\t    // Establish the root object, `window` (`self`) in the browser, `global`\n\t    // on the server, or `this` in some virtual machines. We use `self`\n\t    // instead of `window` for `WebWorker` support.\n\t    var root = typeof self === 'object' && self.self === self && self ||\n\t            typeof global === 'object' && global.global === global && global ||\n\t            this;\n\t\n\t    if (root != null) {\n\t        previous_async = root.async;\n\t    }\n\t\n\t    async.noConflict = function () {\n\t        root.async = previous_async;\n\t        return async;\n\t    };\n\t\n\t    function only_once(fn) {\n\t        return function() {\n\t            if (fn === null) throw new Error(\"Callback was already called.\");\n\t            fn.apply(this, arguments);\n\t            fn = null;\n\t        };\n\t    }\n\t\n\t    function _once(fn) {\n\t        return function() {\n\t            if (fn === null) return;\n\t            fn.apply(this, arguments);\n\t            fn = null;\n\t        };\n\t    }\n\t\n\t    //// cross-browser compatiblity functions ////\n\t\n\t    var _toString = Object.prototype.toString;\n\t\n\t    var _isArray = Array.isArray || function (obj) {\n\t        return _toString.call(obj) === '[object Array]';\n\t    };\n\t\n\t    // Ported from underscore.js isObject\n\t    var _isObject = function(obj) {\n\t        var type = typeof obj;\n\t        return type === 'function' || type === 'object' && !!obj;\n\t    };\n\t\n\t    function _isArrayLike(arr) {\n\t        return _isArray(arr) || (\n\t            // has a positive integer length property\n\t            typeof arr.length === \"number\" &&\n\t            arr.length >= 0 &&\n\t            arr.length % 1 === 0\n\t        );\n\t    }\n\t\n\t    function _arrayEach(arr, iterator) {\n\t        var index = -1,\n\t            length = arr.length;\n\t\n\t        while (++index < length) {\n\t            iterator(arr[index], index, arr);\n\t        }\n\t    }\n\t\n\t    function _map(arr, iterator) {\n\t        var index = -1,\n\t            length = arr.length,\n\t            result = Array(length);\n\t\n\t        while (++index < length) {\n\t            result[index] = iterator(arr[index], index, arr);\n\t        }\n\t        return result;\n\t    }\n\t\n\t    function _range(count) {\n\t        return _map(Array(count), function (v, i) { return i; });\n\t    }\n\t\n\t    function _reduce(arr, iterator, memo) {\n\t        _arrayEach(arr, function (x, i, a) {\n\t            memo = iterator(memo, x, i, a);\n\t        });\n\t        return memo;\n\t    }\n\t\n\t    function _forEachOf(object, iterator) {\n\t        _arrayEach(_keys(object), function (key) {\n\t            iterator(object[key], key);\n\t        });\n\t    }\n\t\n\t    function _indexOf(arr, item) {\n\t        for (var i = 0; i < arr.length; i++) {\n\t            if (arr[i] === item) return i;\n\t        }\n\t        return -1;\n\t    }\n\t\n\t    var _keys = Object.keys || function (obj) {\n\t        var keys = [];\n\t        for (var k in obj) {\n\t            if (obj.hasOwnProperty(k)) {\n\t                keys.push(k);\n\t            }\n\t        }\n\t        return keys;\n\t    };\n\t\n\t    function _keyIterator(coll) {\n\t        var i = -1;\n\t        var len;\n\t        var keys;\n\t        if (_isArrayLike(coll)) {\n\t            len = coll.length;\n\t            return function next() {\n\t                i++;\n\t                return i < len ? i : null;\n\t            };\n\t        } else {\n\t            keys = _keys(coll);\n\t            len = keys.length;\n\t            return function next() {\n\t                i++;\n\t                return i < len ? keys[i] : null;\n\t            };\n\t        }\n\t    }\n\t\n\t    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n\t    // This accumulates the arguments passed into an array, after a given index.\n\t    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n\t    function _restParam(func, startIndex) {\n\t        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n\t        return function() {\n\t            var length = Math.max(arguments.length - startIndex, 0);\n\t            var rest = Array(length);\n\t            for (var index = 0; index < length; index++) {\n\t                rest[index] = arguments[index + startIndex];\n\t            }\n\t            switch (startIndex) {\n\t                case 0: return func.call(this, rest);\n\t                case 1: return func.call(this, arguments[0], rest);\n\t            }\n\t            // Currently unused but handle cases outside of the switch statement:\n\t            // var args = Array(startIndex + 1);\n\t            // for (index = 0; index < startIndex; index++) {\n\t            //     args[index] = arguments[index];\n\t            // }\n\t            // args[startIndex] = rest;\n\t            // return func.apply(this, args);\n\t        };\n\t    }\n\t\n\t    function _withoutIndex(iterator) {\n\t        return function (value, index, callback) {\n\t            return iterator(value, callback);\n\t        };\n\t    }\n\t\n\t    //// exported async module functions ////\n\t\n\t    //// nextTick implementation with browser-compatible fallback ////\n\t\n\t    // capture the global reference to guard against fakeTimer mocks\n\t    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\t\n\t    var _delay = _setImmediate ? function(fn) {\n\t        // not a direct alias for IE10 compatibility\n\t        _setImmediate(fn);\n\t    } : function(fn) {\n\t        setTimeout(fn, 0);\n\t    };\n\t\n\t    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n\t        async.nextTick = process.nextTick;\n\t    } else {\n\t        async.nextTick = _delay;\n\t    }\n\t    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\t\n\t\n\t    async.forEach =\n\t    async.each = function (arr, iterator, callback) {\n\t        return async.eachOf(arr, _withoutIndex(iterator), callback);\n\t    };\n\t\n\t    async.forEachSeries =\n\t    async.eachSeries = function (arr, iterator, callback) {\n\t        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n\t    };\n\t\n\t\n\t    async.forEachLimit =\n\t    async.eachLimit = function (arr, limit, iterator, callback) {\n\t        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n\t    };\n\t\n\t    async.forEachOf =\n\t    async.eachOf = function (object, iterator, callback) {\n\t        callback = _once(callback || noop);\n\t        object = object || [];\n\t\n\t        var iter = _keyIterator(object);\n\t        var key, completed = 0;\n\t\n\t        while ((key = iter()) != null) {\n\t            completed += 1;\n\t            iterator(object[key], key, only_once(done));\n\t        }\n\t\n\t        if (completed === 0) callback(null);\n\t\n\t        function done(err) {\n\t            completed--;\n\t            if (err) {\n\t                callback(err);\n\t            }\n\t            // Check key is null in case iterator isn't exhausted\n\t            // and done resolved synchronously.\n\t            else if (key === null && completed <= 0) {\n\t                callback(null);\n\t            }\n\t        }\n\t    };\n\t\n\t    async.forEachOfSeries =\n\t    async.eachOfSeries = function (obj, iterator, callback) {\n\t        callback = _once(callback || noop);\n\t        obj = obj || [];\n\t        var nextKey = _keyIterator(obj);\n\t        var key = nextKey();\n\t        function iterate() {\n\t            var sync = true;\n\t            if (key === null) {\n\t                return callback(null);\n\t            }\n\t            iterator(obj[key], key, only_once(function (err) {\n\t                if (err) {\n\t                    callback(err);\n\t                }\n\t                else {\n\t                    key = nextKey();\n\t                    if (key === null) {\n\t                        return callback(null);\n\t                    } else {\n\t                        if (sync) {\n\t                            async.setImmediate(iterate);\n\t                        } else {\n\t                            iterate();\n\t                        }\n\t                    }\n\t                }\n\t            }));\n\t            sync = false;\n\t        }\n\t        iterate();\n\t    };\n\t\n\t\n\t\n\t    async.forEachOfLimit =\n\t    async.eachOfLimit = function (obj, limit, iterator, callback) {\n\t        _eachOfLimit(limit)(obj, iterator, callback);\n\t    };\n\t\n\t    function _eachOfLimit(limit) {\n\t\n\t        return function (obj, iterator, callback) {\n\t            callback = _once(callback || noop);\n\t            obj = obj || [];\n\t            var nextKey = _keyIterator(obj);\n\t            if (limit <= 0) {\n\t                return callback(null);\n\t            }\n\t            var done = false;\n\t            var running = 0;\n\t            var errored = false;\n\t\n\t            (function replenish () {\n\t                if (done && running <= 0) {\n\t                    return callback(null);\n\t                }\n\t\n\t                while (running < limit && !errored) {\n\t                    var key = nextKey();\n\t                    if (key === null) {\n\t                        done = true;\n\t                        if (running <= 0) {\n\t                            callback(null);\n\t                        }\n\t                        return;\n\t                    }\n\t                    running += 1;\n\t                    iterator(obj[key], key, only_once(function (err) {\n\t                        running -= 1;\n\t                        if (err) {\n\t                            callback(err);\n\t                            errored = true;\n\t                        }\n\t                        else {\n\t                            replenish();\n\t                        }\n\t                    }));\n\t                }\n\t            })();\n\t        };\n\t    }\n\t\n\t\n\t    function doParallel(fn) {\n\t        return function (obj, iterator, callback) {\n\t            return fn(async.eachOf, obj, iterator, callback);\n\t        };\n\t    }\n\t    function doParallelLimit(fn) {\n\t        return function (obj, limit, iterator, callback) {\n\t            return fn(_eachOfLimit(limit), obj, iterator, callback);\n\t        };\n\t    }\n\t    function doSeries(fn) {\n\t        return function (obj, iterator, callback) {\n\t            return fn(async.eachOfSeries, obj, iterator, callback);\n\t        };\n\t    }\n\t\n\t    function _asyncMap(eachfn, arr, iterator, callback) {\n\t        callback = _once(callback || noop);\n\t        arr = arr || [];\n\t        var results = _isArrayLike(arr) ? [] : {};\n\t        eachfn(arr, function (value, index, callback) {\n\t            iterator(value, function (err, v) {\n\t                results[index] = v;\n\t                callback(err);\n\t            });\n\t        }, function (err) {\n\t            callback(err, results);\n\t        });\n\t    }\n\t\n\t    async.map = doParallel(_asyncMap);\n\t    async.mapSeries = doSeries(_asyncMap);\n\t    async.mapLimit = doParallelLimit(_asyncMap);\n\t\n\t    // reduce only has a series version, as doing reduce in parallel won't\n\t    // work in many situations.\n\t    async.inject =\n\t    async.foldl =\n\t    async.reduce = function (arr, memo, iterator, callback) {\n\t        async.eachOfSeries(arr, function (x, i, callback) {\n\t            iterator(memo, x, function (err, v) {\n\t                memo = v;\n\t                callback(err);\n\t            });\n\t        }, function (err) {\n\t            callback(err, memo);\n\t        });\n\t    };\n\t\n\t    async.foldr =\n\t    async.reduceRight = function (arr, memo, iterator, callback) {\n\t        var reversed = _map(arr, identity).reverse();\n\t        async.reduce(reversed, memo, iterator, callback);\n\t    };\n\t\n\t    async.transform = function (arr, memo, iterator, callback) {\n\t        if (arguments.length === 3) {\n\t            callback = iterator;\n\t            iterator = memo;\n\t            memo = _isArray(arr) ? [] : {};\n\t        }\n\t\n\t        async.eachOf(arr, function(v, k, cb) {\n\t            iterator(memo, v, k, cb);\n\t        }, function(err) {\n\t            callback(err, memo);\n\t        });\n\t    };\n\t\n\t    function _filter(eachfn, arr, iterator, callback) {\n\t        var results = [];\n\t        eachfn(arr, function (x, index, callback) {\n\t            iterator(x, function (v) {\n\t                if (v) {\n\t                    results.push({index: index, value: x});\n\t                }\n\t                callback();\n\t            });\n\t        }, function () {\n\t            callback(_map(results.sort(function (a, b) {\n\t                return a.index - b.index;\n\t            }), function (x) {\n\t                return x.value;\n\t            }));\n\t        });\n\t    }\n\t\n\t    async.select =\n\t    async.filter = doParallel(_filter);\n\t\n\t    async.selectLimit =\n\t    async.filterLimit = doParallelLimit(_filter);\n\t\n\t    async.selectSeries =\n\t    async.filterSeries = doSeries(_filter);\n\t\n\t    function _reject(eachfn, arr, iterator, callback) {\n\t        _filter(eachfn, arr, function(value, cb) {\n\t            iterator(value, function(v) {\n\t                cb(!v);\n\t            });\n\t        }, callback);\n\t    }\n\t    async.reject = doParallel(_reject);\n\t    async.rejectLimit = doParallelLimit(_reject);\n\t    async.rejectSeries = doSeries(_reject);\n\t\n\t    function _createTester(eachfn, check, getResult) {\n\t        return function(arr, limit, iterator, cb) {\n\t            function done() {\n\t                if (cb) cb(getResult(false, void 0));\n\t            }\n\t            function iteratee(x, _, callback) {\n\t                if (!cb) return callback();\n\t                iterator(x, function (v) {\n\t                    if (cb && check(v)) {\n\t                        cb(getResult(true, x));\n\t                        cb = iterator = false;\n\t                    }\n\t                    callback();\n\t                });\n\t            }\n\t            if (arguments.length > 3) {\n\t                eachfn(arr, limit, iteratee, done);\n\t            } else {\n\t                cb = iterator;\n\t                iterator = limit;\n\t                eachfn(arr, iteratee, done);\n\t            }\n\t        };\n\t    }\n\t\n\t    async.any =\n\t    async.some = _createTester(async.eachOf, toBool, identity);\n\t\n\t    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\t\n\t    async.all =\n\t    async.every = _createTester(async.eachOf, notId, notId);\n\t\n\t    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\t\n\t    function _findGetResult(v, x) {\n\t        return x;\n\t    }\n\t    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n\t    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n\t    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\t\n\t    async.sortBy = function (arr, iterator, callback) {\n\t        async.map(arr, function (x, callback) {\n\t            iterator(x, function (err, criteria) {\n\t                if (err) {\n\t                    callback(err);\n\t                }\n\t                else {\n\t                    callback(null, {value: x, criteria: criteria});\n\t                }\n\t            });\n\t        }, function (err, results) {\n\t            if (err) {\n\t                return callback(err);\n\t            }\n\t            else {\n\t                callback(null, _map(results.sort(comparator), function (x) {\n\t                    return x.value;\n\t                }));\n\t            }\n\t\n\t        });\n\t\n\t        function comparator(left, right) {\n\t            var a = left.criteria, b = right.criteria;\n\t            return a < b ? -1 : a > b ? 1 : 0;\n\t        }\n\t    };\n\t\n\t    async.auto = function (tasks, concurrency, callback) {\n\t        if (typeof arguments[1] === 'function') {\n\t            // concurrency is optional, shift the args.\n\t            callback = concurrency;\n\t            concurrency = null;\n\t        }\n\t        callback = _once(callback || noop);\n\t        var keys = _keys(tasks);\n\t        var remainingTasks = keys.length;\n\t        if (!remainingTasks) {\n\t            return callback(null);\n\t        }\n\t        if (!concurrency) {\n\t            concurrency = remainingTasks;\n\t        }\n\t\n\t        var results = {};\n\t        var runningTasks = 0;\n\t\n\t        var hasError = false;\n\t\n\t        var listeners = [];\n\t        function addListener(fn) {\n\t            listeners.unshift(fn);\n\t        }\n\t        function removeListener(fn) {\n\t            var idx = _indexOf(listeners, fn);\n\t            if (idx >= 0) listeners.splice(idx, 1);\n\t        }\n\t        function taskComplete() {\n\t            remainingTasks--;\n\t            _arrayEach(listeners.slice(0), function (fn) {\n\t                fn();\n\t            });\n\t        }\n\t\n\t        addListener(function () {\n\t            if (!remainingTasks) {\n\t                callback(null, results);\n\t            }\n\t        });\n\t\n\t        _arrayEach(keys, function (k) {\n\t            if (hasError) return;\n\t            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n\t            var taskCallback = _restParam(function(err, args) {\n\t                runningTasks--;\n\t                if (args.length <= 1) {\n\t                    args = args[0];\n\t                }\n\t                if (err) {\n\t                    var safeResults = {};\n\t                    _forEachOf(results, function(val, rkey) {\n\t                        safeResults[rkey] = val;\n\t                    });\n\t                    safeResults[k] = args;\n\t                    hasError = true;\n\t\n\t                    callback(err, safeResults);\n\t                }\n\t                else {\n\t                    results[k] = args;\n\t                    async.setImmediate(taskComplete);\n\t                }\n\t            });\n\t            var requires = task.slice(0, task.length - 1);\n\t            // prevent dead-locks\n\t            var len = requires.length;\n\t            var dep;\n\t            while (len--) {\n\t                if (!(dep = tasks[requires[len]])) {\n\t                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n\t                }\n\t                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n\t                    throw new Error('Has cyclic dependencies');\n\t                }\n\t            }\n\t            function ready() {\n\t                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n\t                    return (a && results.hasOwnProperty(x));\n\t                }, true) && !results.hasOwnProperty(k);\n\t            }\n\t            if (ready()) {\n\t                runningTasks++;\n\t                task[task.length - 1](taskCallback, results);\n\t            }\n\t            else {\n\t                addListener(listener);\n\t            }\n\t            function listener() {\n\t                if (ready()) {\n\t                    runningTasks++;\n\t                    removeListener(listener);\n\t                    task[task.length - 1](taskCallback, results);\n\t                }\n\t            }\n\t        });\n\t    };\n\t\n\t\n\t\n\t    async.retry = function(times, task, callback) {\n\t        var DEFAULT_TIMES = 5;\n\t        var DEFAULT_INTERVAL = 0;\n\t\n\t        var attempts = [];\n\t\n\t        var opts = {\n\t            times: DEFAULT_TIMES,\n\t            interval: DEFAULT_INTERVAL\n\t        };\n\t\n\t        function parseTimes(acc, t){\n\t            if(typeof t === 'number'){\n\t                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n\t            } else if(typeof t === 'object'){\n\t                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n\t                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n\t            } else {\n\t                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n\t            }\n\t        }\n\t\n\t        var length = arguments.length;\n\t        if (length < 1 || length > 3) {\n\t            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n\t        } else if (length <= 2 && typeof times === 'function') {\n\t            callback = task;\n\t            task = times;\n\t        }\n\t        if (typeof times !== 'function') {\n\t            parseTimes(opts, times);\n\t        }\n\t        opts.callback = callback;\n\t        opts.task = task;\n\t\n\t        function wrappedTask(wrappedCallback, wrappedResults) {\n\t            function retryAttempt(task, finalAttempt) {\n\t                return function(seriesCallback) {\n\t                    task(function(err, result){\n\t                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n\t                    }, wrappedResults);\n\t                };\n\t            }\n\t\n\t            function retryInterval(interval){\n\t                return function(seriesCallback){\n\t                    setTimeout(function(){\n\t                        seriesCallback(null);\n\t                    }, interval);\n\t                };\n\t            }\n\t\n\t            while (opts.times) {\n\t\n\t                var finalAttempt = !(opts.times-=1);\n\t                attempts.push(retryAttempt(opts.task, finalAttempt));\n\t                if(!finalAttempt && opts.interval > 0){\n\t                    attempts.push(retryInterval(opts.interval));\n\t                }\n\t            }\n\t\n\t            async.series(attempts, function(done, data){\n\t                data = data[data.length - 1];\n\t                (wrappedCallback || opts.callback)(data.err, data.result);\n\t            });\n\t        }\n\t\n\t        // If a callback is passed, run this as a controll flow\n\t        return opts.callback ? wrappedTask() : wrappedTask;\n\t    };\n\t\n\t    async.waterfall = function (tasks, callback) {\n\t        callback = _once(callback || noop);\n\t        if (!_isArray(tasks)) {\n\t            var err = new Error('First argument to waterfall must be an array of functions');\n\t            return callback(err);\n\t        }\n\t        if (!tasks.length) {\n\t            return callback();\n\t        }\n\t        function wrapIterator(iterator) {\n\t            return _restParam(function (err, args) {\n\t                if (err) {\n\t                    callback.apply(null, [err].concat(args));\n\t                }\n\t                else {\n\t                    var next = iterator.next();\n\t                    if (next) {\n\t                        args.push(wrapIterator(next));\n\t                    }\n\t                    else {\n\t                        args.push(callback);\n\t                    }\n\t                    ensureAsync(iterator).apply(null, args);\n\t                }\n\t            });\n\t        }\n\t        wrapIterator(async.iterator(tasks))();\n\t    };\n\t\n\t    function _parallel(eachfn, tasks, callback) {\n\t        callback = callback || noop;\n\t        var results = _isArrayLike(tasks) ? [] : {};\n\t\n\t        eachfn(tasks, function (task, key, callback) {\n\t            task(_restParam(function (err, args) {\n\t                if (args.length <= 1) {\n\t                    args = args[0];\n\t                }\n\t                results[key] = args;\n\t                callback(err);\n\t            }));\n\t        }, function (err) {\n\t            callback(err, results);\n\t        });\n\t    }\n\t\n\t    async.parallel = function (tasks, callback) {\n\t        _parallel(async.eachOf, tasks, callback);\n\t    };\n\t\n\t    async.parallelLimit = function(tasks, limit, callback) {\n\t        _parallel(_eachOfLimit(limit), tasks, callback);\n\t    };\n\t\n\t    async.series = function(tasks, callback) {\n\t        _parallel(async.eachOfSeries, tasks, callback);\n\t    };\n\t\n\t    async.iterator = function (tasks) {\n\t        function makeCallback(index) {\n\t            function fn() {\n\t                if (tasks.length) {\n\t                    tasks[index].apply(null, arguments);\n\t                }\n\t                return fn.next();\n\t            }\n\t            fn.next = function () {\n\t                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n\t            };\n\t            return fn;\n\t        }\n\t        return makeCallback(0);\n\t    };\n\t\n\t    async.apply = _restParam(function (fn, args) {\n\t        return _restParam(function (callArgs) {\n\t            return fn.apply(\n\t                null, args.concat(callArgs)\n\t            );\n\t        });\n\t    });\n\t\n\t    function _concat(eachfn, arr, fn, callback) {\n\t        var result = [];\n\t        eachfn(arr, function (x, index, cb) {\n\t            fn(x, function (err, y) {\n\t                result = result.concat(y || []);\n\t                cb(err);\n\t            });\n\t        }, function (err) {\n\t            callback(err, result);\n\t        });\n\t    }\n\t    async.concat = doParallel(_concat);\n\t    async.concatSeries = doSeries(_concat);\n\t\n\t    async.whilst = function (test, iterator, callback) {\n\t        callback = callback || noop;\n\t        if (test()) {\n\t            var next = _restParam(function(err, args) {\n\t                if (err) {\n\t                    callback(err);\n\t                } else if (test.apply(this, args)) {\n\t                    iterator(next);\n\t                } else {\n\t                    callback.apply(null, [null].concat(args));\n\t                }\n\t            });\n\t            iterator(next);\n\t        } else {\n\t            callback(null);\n\t        }\n\t    };\n\t\n\t    async.doWhilst = function (iterator, test, callback) {\n\t        var calls = 0;\n\t        return async.whilst(function() {\n\t            return ++calls <= 1 || test.apply(this, arguments);\n\t        }, iterator, callback);\n\t    };\n\t\n\t    async.until = function (test, iterator, callback) {\n\t        return async.whilst(function() {\n\t            return !test.apply(this, arguments);\n\t        }, iterator, callback);\n\t    };\n\t\n\t    async.doUntil = function (iterator, test, callback) {\n\t        return async.doWhilst(iterator, function() {\n\t            return !test.apply(this, arguments);\n\t        }, callback);\n\t    };\n\t\n\t    async.during = function (test, iterator, callback) {\n\t        callback = callback || noop;\n\t\n\t        var next = _restParam(function(err, args) {\n\t            if (err) {\n\t                callback(err);\n\t            } else {\n\t                args.push(check);\n\t                test.apply(this, args);\n\t            }\n\t        });\n\t\n\t        var check = function(err, truth) {\n\t            if (err) {\n\t                callback(err);\n\t            } else if (truth) {\n\t                iterator(next);\n\t            } else {\n\t                callback(null);\n\t            }\n\t        };\n\t\n\t        test(check);\n\t    };\n\t\n\t    async.doDuring = function (iterator, test, callback) {\n\t        var calls = 0;\n\t        async.during(function(next) {\n\t            if (calls++ < 1) {\n\t                next(null, true);\n\t            } else {\n\t                test.apply(this, arguments);\n\t            }\n\t        }, iterator, callback);\n\t    };\n\t\n\t    function _queue(worker, concurrency, payload) {\n\t        if (concurrency == null) {\n\t            concurrency = 1;\n\t        }\n\t        else if(concurrency === 0) {\n\t            throw new Error('Concurrency must not be zero');\n\t        }\n\t        function _insert(q, data, pos, callback) {\n\t            if (callback != null && typeof callback !== \"function\") {\n\t                throw new Error(\"task callback must be a function\");\n\t            }\n\t            q.started = true;\n\t            if (!_isArray(data)) {\n\t                data = [data];\n\t            }\n\t            if(data.length === 0 && q.idle()) {\n\t                // call drain immediately if there are no tasks\n\t                return async.setImmediate(function() {\n\t                    q.drain();\n\t                });\n\t            }\n\t            _arrayEach(data, function(task) {\n\t                var item = {\n\t                    data: task,\n\t                    callback: callback || noop\n\t                };\n\t\n\t                if (pos) {\n\t                    q.tasks.unshift(item);\n\t                } else {\n\t                    q.tasks.push(item);\n\t                }\n\t\n\t                if (q.tasks.length === q.concurrency) {\n\t                    q.saturated();\n\t                }\n\t            });\n\t            async.setImmediate(q.process);\n\t        }\n\t        function _next(q, tasks) {\n\t            return function(){\n\t                workers -= 1;\n\t\n\t                var removed = false;\n\t                var args = arguments;\n\t                _arrayEach(tasks, function (task) {\n\t                    _arrayEach(workersList, function (worker, index) {\n\t                        if (worker === task && !removed) {\n\t                            workersList.splice(index, 1);\n\t                            removed = true;\n\t                        }\n\t                    });\n\t\n\t                    task.callback.apply(task, args);\n\t                });\n\t                if (q.tasks.length + workers === 0) {\n\t                    q.drain();\n\t                }\n\t                q.process();\n\t            };\n\t        }\n\t\n\t        var workers = 0;\n\t        var workersList = [];\n\t        var q = {\n\t            tasks: [],\n\t            concurrency: concurrency,\n\t            payload: payload,\n\t            saturated: noop,\n\t            empty: noop,\n\t            drain: noop,\n\t            started: false,\n\t            paused: false,\n\t            push: function (data, callback) {\n\t                _insert(q, data, false, callback);\n\t            },\n\t            kill: function () {\n\t                q.drain = noop;\n\t                q.tasks = [];\n\t            },\n\t            unshift: function (data, callback) {\n\t                _insert(q, data, true, callback);\n\t            },\n\t            process: function () {\n\t                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\t\n\t                    var tasks = q.payload ?\n\t                        q.tasks.splice(0, q.payload) :\n\t                        q.tasks.splice(0, q.tasks.length);\n\t\n\t                    var data = _map(tasks, function (task) {\n\t                        return task.data;\n\t                    });\n\t\n\t                    if (q.tasks.length === 0) {\n\t                        q.empty();\n\t                    }\n\t                    workers += 1;\n\t                    workersList.push(tasks[0]);\n\t                    var cb = only_once(_next(q, tasks));\n\t                    worker(data, cb);\n\t                }\n\t            },\n\t            length: function () {\n\t                return q.tasks.length;\n\t            },\n\t            running: function () {\n\t                return workers;\n\t            },\n\t            workersList: function () {\n\t                return workersList;\n\t            },\n\t            idle: function() {\n\t                return q.tasks.length + workers === 0;\n\t            },\n\t            pause: function () {\n\t                q.paused = true;\n\t            },\n\t            resume: function () {\n\t                if (q.paused === false) { return; }\n\t                q.paused = false;\n\t                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n\t                // Need to call q.process once per concurrent\n\t                // worker to preserve full concurrency after pause\n\t                for (var w = 1; w <= resumeCount; w++) {\n\t                    async.setImmediate(q.process);\n\t                }\n\t            }\n\t        };\n\t        return q;\n\t    }\n\t\n\t    async.queue = function (worker, concurrency) {\n\t        var q = _queue(function (items, cb) {\n\t            worker(items[0], cb);\n\t        }, concurrency, 1);\n\t\n\t        return q;\n\t    };\n\t\n\t    async.priorityQueue = function (worker, concurrency) {\n\t\n\t        function _compareTasks(a, b){\n\t            return a.priority - b.priority;\n\t        }\n\t\n\t        function _binarySearch(sequence, item, compare) {\n\t            var beg = -1,\n\t                end = sequence.length - 1;\n\t            while (beg < end) {\n\t                var mid = beg + ((end - beg + 1) >>> 1);\n\t                if (compare(item, sequence[mid]) >= 0) {\n\t                    beg = mid;\n\t                } else {\n\t                    end = mid - 1;\n\t                }\n\t            }\n\t            return beg;\n\t        }\n\t\n\t        function _insert(q, data, priority, callback) {\n\t            if (callback != null && typeof callback !== \"function\") {\n\t                throw new Error(\"task callback must be a function\");\n\t            }\n\t            q.started = true;\n\t            if (!_isArray(data)) {\n\t                data = [data];\n\t            }\n\t            if(data.length === 0) {\n\t                // call drain immediately if there are no tasks\n\t                return async.setImmediate(function() {\n\t                    q.drain();\n\t                });\n\t            }\n\t            _arrayEach(data, function(task) {\n\t                var item = {\n\t                    data: task,\n\t                    priority: priority,\n\t                    callback: typeof callback === 'function' ? callback : noop\n\t                };\n\t\n\t                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\t\n\t                if (q.tasks.length === q.concurrency) {\n\t                    q.saturated();\n\t                }\n\t                async.setImmediate(q.process);\n\t            });\n\t        }\n\t\n\t        // Start with a normal queue\n\t        var q = async.queue(worker, concurrency);\n\t\n\t        // Override push to accept second parameter representing priority\n\t        q.push = function (data, priority, callback) {\n\t            _insert(q, data, priority, callback);\n\t        };\n\t\n\t        // Remove unshift function\n\t        delete q.unshift;\n\t\n\t        return q;\n\t    };\n\t\n\t    async.cargo = function (worker, payload) {\n\t        return _queue(worker, 1, payload);\n\t    };\n\t\n\t    function _console_fn(name) {\n\t        return _restParam(function (fn, args) {\n\t            fn.apply(null, args.concat([_restParam(function (err, args) {\n\t                if (typeof console === 'object') {\n\t                    if (err) {\n\t                        if (console.error) {\n\t                            console.error(err);\n\t                        }\n\t                    }\n\t                    else if (console[name]) {\n\t                        _arrayEach(args, function (x) {\n\t                            console[name](x);\n\t                        });\n\t                    }\n\t                }\n\t            })]));\n\t        });\n\t    }\n\t    async.log = _console_fn('log');\n\t    async.dir = _console_fn('dir');\n\t    /*async.info = _console_fn('info');\n\t    async.warn = _console_fn('warn');\n\t    async.error = _console_fn('error');*/\n\t\n\t    async.memoize = function (fn, hasher) {\n\t        var memo = {};\n\t        var queues = {};\n\t        var has = Object.prototype.hasOwnProperty;\n\t        hasher = hasher || identity;\n\t        var memoized = _restParam(function memoized(args) {\n\t            var callback = args.pop();\n\t            var key = hasher.apply(null, args);\n\t            if (has.call(memo, key)) {   \n\t                async.setImmediate(function () {\n\t                    callback.apply(null, memo[key]);\n\t                });\n\t            }\n\t            else if (has.call(queues, key)) {\n\t                queues[key].push(callback);\n\t            }\n\t            else {\n\t                queues[key] = [callback];\n\t                fn.apply(null, args.concat([_restParam(function (args) {\n\t                    memo[key] = args;\n\t                    var q = queues[key];\n\t                    delete queues[key];\n\t                    for (var i = 0, l = q.length; i < l; i++) {\n\t                        q[i].apply(null, args);\n\t                    }\n\t                })]));\n\t            }\n\t        });\n\t        memoized.memo = memo;\n\t        memoized.unmemoized = fn;\n\t        return memoized;\n\t    };\n\t\n\t    async.unmemoize = function (fn) {\n\t        return function () {\n\t            return (fn.unmemoized || fn).apply(null, arguments);\n\t        };\n\t    };\n\t\n\t    function _times(mapper) {\n\t        return function (count, iterator, callback) {\n\t            mapper(_range(count), iterator, callback);\n\t        };\n\t    }\n\t\n\t    async.times = _times(async.map);\n\t    async.timesSeries = _times(async.mapSeries);\n\t    async.timesLimit = function (count, limit, iterator, callback) {\n\t        return async.mapLimit(_range(count), limit, iterator, callback);\n\t    };\n\t\n\t    async.seq = function (/* functions... */) {\n\t        var fns = arguments;\n\t        return _restParam(function (args) {\n\t            var that = this;\n\t\n\t            var callback = args[args.length - 1];\n\t            if (typeof callback == 'function') {\n\t                args.pop();\n\t            } else {\n\t                callback = noop;\n\t            }\n\t\n\t            async.reduce(fns, args, function (newargs, fn, cb) {\n\t                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n\t                    cb(err, nextargs);\n\t                })]));\n\t            },\n\t            function (err, results) {\n\t                callback.apply(that, [err].concat(results));\n\t            });\n\t        });\n\t    };\n\t\n\t    async.compose = function (/* functions... */) {\n\t        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n\t    };\n\t\n\t\n\t    function _applyEach(eachfn) {\n\t        return _restParam(function(fns, args) {\n\t            var go = _restParam(function(args) {\n\t                var that = this;\n\t                var callback = args.pop();\n\t                return eachfn(fns, function (fn, _, cb) {\n\t                    fn.apply(that, args.concat([cb]));\n\t                },\n\t                callback);\n\t            });\n\t            if (args.length) {\n\t                return go.apply(this, args);\n\t            }\n\t            else {\n\t                return go;\n\t            }\n\t        });\n\t    }\n\t\n\t    async.applyEach = _applyEach(async.eachOf);\n\t    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\t\n\t\n\t    async.forever = function (fn, callback) {\n\t        var done = only_once(callback || noop);\n\t        var task = ensureAsync(fn);\n\t        function next(err) {\n\t            if (err) {\n\t                return done(err);\n\t            }\n\t            task(next);\n\t        }\n\t        next();\n\t    };\n\t\n\t    function ensureAsync(fn) {\n\t        return _restParam(function (args) {\n\t            var callback = args.pop();\n\t            args.push(function () {\n\t                var innerArgs = arguments;\n\t                if (sync) {\n\t                    async.setImmediate(function () {\n\t                        callback.apply(null, innerArgs);\n\t                    });\n\t                } else {\n\t                    callback.apply(null, innerArgs);\n\t                }\n\t            });\n\t            var sync = true;\n\t            fn.apply(this, args);\n\t            sync = false;\n\t        });\n\t    }\n\t\n\t    async.ensureAsync = ensureAsync;\n\t\n\t    async.constant = _restParam(function(values) {\n\t        var args = [null].concat(values);\n\t        return function (callback) {\n\t            return callback.apply(this, args);\n\t        };\n\t    });\n\t\n\t    async.wrapSync =\n\t    async.asyncify = function asyncify(func) {\n\t        return _restParam(function (args) {\n\t            var callback = args.pop();\n\t            var result;\n\t            try {\n\t                result = func.apply(this, args);\n\t            } catch (e) {\n\t                return callback(e);\n\t            }\n\t            // if result is Promise object\n\t            if (_isObject(result) && typeof result.then === \"function\") {\n\t                result.then(function(value) {\n\t                    callback(null, value);\n\t                })[\"catch\"](function(err) {\n\t                    callback(err.message ? err : new Error(err));\n\t                });\n\t            } else {\n\t                callback(null, result);\n\t            }\n\t        });\n\t    };\n\t\n\t    // Node.js\n\t    if (typeof module === 'object' && module.exports) {\n\t        module.exports = async;\n\t    }\n\t    // AMD / RequireJS\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t            return async;\n\t        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t    // included directly via <script> tag\n\t    else {\n\t        root.async = async;\n\t    }\n\t\n\t}());\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\tvar async = __webpack_require__(4);\n\tvar util_1 = __webpack_require__(2);\n\tvar _ = __webpack_require__(3);\n\tvar BrowserFS = __webpack_require__(1);\n\tvar Terminal = __webpack_require__(6);\n\tvar process = BrowserFS.BFSRequire('process');\n\tvar Buffer = BrowserFS.BFSRequire('buffer').Buffer;\n\tvar fs = BrowserFS.BFSRequire('fs');\n\tglobal.globalTerm = null;\n\tvar ControlCodes = (function () {\n\t    function ControlCodes() {\n\t    }\n\t    ControlCodes.CURSOR_POSITION = function (term, col, row) {\n\t        return \"\\u001B[\" + (row + 1 - term.ybase) + \";\" + (col + 1) + \"H\";\n\t    };\n\t    ControlCodes.SAVE_CURSOR = \"\\x1b7\";\n\t    ControlCodes.RESTORE_CURSOR = \"\\x1b8\";\n\t    ControlCodes.UP_ARROW = \"\\x1b[A\";\n\t    ControlCodes.RIGHT_ARROW = \"\\x1b[C\";\n\t    ControlCodes.LEFT_ARROW = \"\\x1b[D\";\n\t    ControlCodes.SHOW_CURSOR = \"\\x1b[?25h\";\n\t    return ControlCodes;\n\t}());\n\t/**\n\t * Runs a shell on an xterm.js terminal.\n\t */\n\tvar Shell = (function () {\n\t    function Shell(shellElement, commands, loadingText, shellHistoryFile) {\n\t        var _this = this;\n\t        this._terminal = null;\n\t        this._commands = {};\n\t        this._activeCommand = null;\n\t        // Is the shell enabled, or is a program running?\n\t        this._shellEnabled = false;\n\t        this._psX = 0;\n\t        this._psY = 0;\n\t        this._endX = 0;\n\t        this._endY = 0;\n\t        this._history = [];\n\t        this._historyOffset = 0;\n\t        this._disableInput = true;\n\t        this._savedCommand = \"\";\n\t        this._bufferedInput = \"\";\n\t        this._shellHistoryFile = shellHistoryFile;\n\t        commands.forEach(function (c) {\n\t            _this._commands[c.getCommand()] = c;\n\t        });\n\t        var rows = 25;\n\t        var term = this._terminal = globalTerm = new Terminal({\n\t            cols: 80,\n\t            rows: rows,\n\t            cancelEvents: true\n\t        });\n\t        term.open(shellElement);\n\t        term.cursorHidden = true;\n\t        term.on('key', function (key, e) {\n\t            if (_this._disableInput) {\n\t                return;\n\t            }\n\t            var keyCode = e.keyCode;\n\t            var keyProcessed = false;\n\t            if (e.ctrlKey) {\n\t                switch (keyCode) {\n\t                    case 65 /* A */:\n\t                        // move cursor to start\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._moveToStart();\n\t                        }\n\t                        break;\n\t                    case 67 /* C */:\n\t                        // Special: Kill any active programs. Otherwise, ignore.\n\t                        keyProcessed = true;\n\t                        _this.killProgram();\n\t                        break;\n\t                    case 68 /* D */:\n\t                        // forward delete\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._forwardDelete();\n\t                        }\n\t                        break;\n\t                    case 69 /* E */:\n\t                        // move to end\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._moveToEnd();\n\t                        }\n\t                        break;\n\t                    case 78 /* N */:\n\t                        // next history\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._nextHistory();\n\t                        }\n\t                        break;\n\t                    case 80 /* P */:\n\t                        // prev history\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._prevHistory();\n\t                        }\n\t                        break;\n\t                    case 66 /* B */:\n\t                        // back\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._cursorLeft();\n\t                        }\n\t                        break;\n\t                    case 70 /* F */:\n\t                        // forward\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._cursorRight();\n\t                        }\n\t                        break;\n\t                    case 75 /* K */:\n\t                        // delete until end\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            var toDelete = _this._getEnteredText().length - _this._getCursorOffset();\n\t                            for (var i = 0; i < toDelete; i++) {\n\t                                _this._forwardDelete();\n\t                            }\n\t                        }\n\t                        break;\n\t                    default:\n\t                        keyProcessed = false;\n\t                        break;\n\t                }\n\t            }\n\t            else if (e.altKey) {\n\t                switch (keyCode) {\n\t                    case 70 /* F */:\n\t                        // move to next word\n\t                        break;\n\t                    case 66 /* B */:\n\t                        // move to prev word\n\t                        break;\n\t                    case 68 /* D */:\n\t                        // delete next word\n\t                        break;\n\t                }\n\t            }\n\t            else {\n\t                switch (keyCode) {\n\t                    case 38 /* UP */:\n\t                        // prev history\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._prevHistory();\n\t                        }\n\t                        break;\n\t                    case 40 /* DOWN */:\n\t                        // next history\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._nextHistory();\n\t                        }\n\t                        break;\n\t                    case 37 /* LEFT */:\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._cursorLeft();\n\t                        }\n\t                        break;\n\t                    case 39 /* RIGHT */:\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._cursorRight();\n\t                        }\n\t                        break;\n\t                    case 8 /* BACKSPACE */:\n\t                        // delete character\n\t                        keyProcessed = true;\n\t                        _this.stdin('\\b');\n\t                        break;\n\t                    case 9 /* TAB */:\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._disableInput = true;\n\t                            var cmd = _this._getEnteredText();\n\t                            _this._tabComplete(cmd, _this._getArgs(cmd), function () {\n\t                                _this._disableInput = false;\n\t                            });\n\t                        }\n\t                        break;\n\t                    case 46 /* DELETE */:\n\t                        // forward delete\n\t                        // NOTE: Is also '.' on my Mac...\n\t                        if (_this._shellEnabled && e.type === \"keydown\") {\n\t                            keyProcessed = true;\n\t                            _this._forwardDelete();\n\t                        }\n\t                        break;\n\t                    case 35 /* END */:\n\t                        // move to end\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._moveToEnd();\n\t                        }\n\t                        break;\n\t                    case 36 /* HOME */:\n\t                        // Move to start\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            _this._moveToStart();\n\t                        }\n\t                        break;\n\t                    case 13 /* ENTER */:\n\t                        // run command.\n\t                        if (_this._shellEnabled) {\n\t                            keyProcessed = true;\n\t                            var cmd = _this._getEnteredText();\n\t                            _this.stdout(ControlCodes.CURSOR_POSITION(_this._terminal, _this._endX, _this._endY) + \"\\n\");\n\t                            _this._runCommand(cmd, _this._getArgs(cmd));\n\t                        }\n\t                        break;\n\t                }\n\t                if (!keyProcessed) {\n\t                    _this.stdin(key);\n\t                }\n\t            }\n\t        });\n\t        this._terminal;\n\t    }\n\t    /**\n\t     * Get the width of the terminal in characters.\n\t     */\n\t    Shell.prototype.cols = function () {\n\t        return this._terminal.cols;\n\t    };\n\t    Shell.prototype._cursorX = function () {\n\t        return this._terminal.x;\n\t    };\n\t    Shell.prototype._cursorY = function () {\n\t        return this._terminal.ybase + this._terminal.y;\n\t    };\n\t    /**\n\t     * Called once the loading phase has completed.\n\t     */\n\t    Shell.prototype.loadingCompleted = function (greeting) {\n\t        var _this = this;\n\t        fs.readFile(this._shellHistoryFile, function (err, data) {\n\t            if (!err) {\n\t                _this._history = data.toString().split('\\n');\n\t                _this._historyOffset = _this._history.length;\n\t            }\n\t            if (greeting[greeting.length - 1] !== '\\n') {\n\t                greeting += '\\n';\n\t            }\n\t            _this._disableInput = false;\n\t            _this.backspace(_this.cols());\n\t            _this.stdout(greeting);\n\t            _this.prompt();\n\t        });\n\t    };\n\t    Shell.prototype._cursorLeft = function () {\n\t        if (this._cursorX() === 0 && this._cursorY() > 0) {\n\t            // Move up one, to end of line.\n\t            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, this._terminal.cols - 1, this._cursorY() - 1));\n\t        }\n\t        else {\n\t            this.stdout(ControlCodes.LEFT_ARROW);\n\t        }\n\t    };\n\t    Shell.prototype._cursorRight = function () {\n\t        if (this._cursorX() === this._terminal.cols - 1 && this._endY > this._cursorY()) {\n\t            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, 0, this._cursorY() + 1));\n\t        }\n\t        else {\n\t            this.stdout(ControlCodes.RIGHT_ARROW);\n\t        }\n\t    };\n\t    Shell.prototype._prevHistory = function () {\n\t        if (this._history.length > 0 && this._historyOffset > 0) {\n\t            if (this._historyOffset === this._history.length) {\n\t                this._savedCommand = this._getEnteredText();\n\t            }\n\t            this._historyOffset--;\n\t            this._redrawPrompt(this._history[this._historyOffset]);\n\t        }\n\t    };\n\t    Shell.prototype._nextHistory = function () {\n\t        if (this._history.length > 0 && this._historyOffset < this._history.length) {\n\t            this._historyOffset++;\n\t            if (this._historyOffset === this._history.length) {\n\t                this._redrawPrompt(this._savedCommand);\n\t            }\n\t            else {\n\t                this._redrawPrompt(this._history[this._historyOffset]);\n\t            }\n\t        }\n\t    };\n\t    Shell.prototype._moveToStart = function () {\n\t        this.stdin(ControlCodes.CURSOR_POSITION(this._terminal, this._psX, this._psY));\n\t    };\n\t    Shell.prototype._moveToEnd = function () {\n\t        this.stdin(ControlCodes.CURSOR_POSITION(this._terminal, this._endX, this._endY));\n\t    };\n\t    Shell.prototype._forwardDelete = function () {\n\t        this._cursorRight();\n\t        this.stdin('\\b');\n\t    };\n\t    /**\n\t     * Get the cursor offset into the currently typed command.\n\t     */\n\t    Shell.prototype._getCursorOffset = function () {\n\t        var term = this._terminal;\n\t        var promptX = this._psX;\n\t        var promptY = this._psY;\n\t        var termWidth = term.cols;\n\t        var promptOffset = promptY * termWidth + promptX;\n\t        var cursorX = this._cursorX();\n\t        var cursorY = this._cursorY();\n\t        var cursorOffset = cursorY * termWidth + cursorX;\n\t        return cursorOffset - promptOffset;\n\t    };\n\t    /**\n\t     * Get the currently entered text after the prompt.\n\t     */\n\t    Shell.prototype._getEnteredText = function () {\n\t        var text = \"\";\n\t        var term = this._terminal;\n\t        var cols = term.cols;\n\t        var lines = term.lines;\n\t        var psY = this._psY;\n\t        var endY = this._endY;\n\t        var endX = this._endX;\n\t        for (var y = psY; y <= endY; y++) {\n\t            var row = lines[y];\n\t            for (var x = (y === psY ? this._psX : 0); x < (y === endY ? endX : row.length); x++) {\n\t                text += row[x][1];\n\t            }\n\t        }\n\t        return text;\n\t    };\n\t    Shell.prototype._updateEndLocation = function (delta) {\n\t        var cols = this._terminal.cols;\n\t        this._endX += delta;\n\t        if (this._endX > cols) {\n\t            var rows = Math.floor(this._endX / cols);\n\t            this._endX -= (cols * rows);\n\t            this._endY += rows;\n\t        }\n\t        else if (this._endX < 0) {\n\t            var rows = Math.ceil(Math.abs(this._endX) / cols);\n\t            this._endY -= rows;\n\t            this._endX += (cols * rows);\n\t        }\n\t    };\n\t    /**\n\t     * User-provided input to the program, translated into terminal text.\n\t     * @param isPrintable Is this a \"printable\" character?\n\t     */\n\t    Shell.prototype.stdin = function (key) {\n\t        if (this._shellEnabled) {\n\t            // xterm.js is always in insert mode. That's not what users expect.\n\t            if (key === '\\b') {\n\t                // Handle specially.\n\t                var command = this._getEnteredText(), cursorOffset = this._getCursorOffset();\n\t                if (cursorOffset > 0) {\n\t                    this._cursorLeft();\n\t                    // Extra space overwrites end character.\n\t                    this.stdout(\"\" + ControlCodes.SAVE_CURSOR + command.slice(cursorOffset) + \" \" + ControlCodes.RESTORE_CURSOR);\n\t                    this._updateEndLocation(-1);\n\t                }\n\t            }\n\t            else {\n\t                var suffix = null;\n\t                // Impact on the end of the line?\n\t                switch (key[0]) {\n\t                    // Ignore control codes.\n\t                    case '\\x07': // bell\n\t                    case '\\x1b': // \\e: escaped control codes.\n\t                    case '\\x0e': // shift out\n\t                    case '\\x0f':\n\t                        break;\n\t                    default:\n\t                        suffix = \"\" + ControlCodes.SAVE_CURSOR + this._getEnteredText().slice(this._getCursorOffset()) + ControlCodes.RESTORE_CURSOR;\n\t                        this._updateEndLocation(1);\n\t                        break;\n\t                }\n\t                // Have terminal process text.\n\t                this.stdout(key);\n\t                if (this._terminal.x === this._terminal.cols) {\n\t                    // XXX: Hackfix for xterm bug -- off by one.\n\t                    this._terminal.x--;\n\t                    this._cursorRight();\n\t                }\n\t                var yBefore = this._cursorY();\n\t                if (suffix) {\n\t                    this.stdout(suffix);\n\t                }\n\t                var yAfter = this._cursorY();\n\t                if (yAfter !== yBefore) {\n\t                    // XXX: Hackfix for end of line.\n\t                    this.stdout(ControlCodes.UP_ARROW);\n\t                }\n\t                // Update the prompt.\n\t                this._updatePrompt();\n\t            }\n\t        }\n\t        else {\n\t            // Echo the text. Strip control characters out. Buffer input.\n\t            if (key === '\\b') {\n\t                if (this._bufferedInput.length > 0) {\n\t                    this._cursorLeft();\n\t                    this.stdout(\" \");\n\t                    this._cursorLeft();\n\t                    this._bufferedInput = this._bufferedInput.slice(0, this._bufferedInput.length - 1);\n\t                }\n\t            }\n\t            else if (key === '\\r') {\n\t                this.stdout('\\r\\n');\n\t                this._bufferedInput += '\\n';\n\t                // Pass to program.\n\t                process.stdin.write(this._bufferedInput);\n\t                this._bufferedInput = \"\";\n\t            }\n\t            else if (key[0] !== '\\x1b') {\n\t                this._bufferedInput += key;\n\t                this.stdout(key);\n\t            }\n\t        }\n\t    };\n\t    Shell.prototype.stdout = function (text) {\n\t        var term = this._terminal;\n\t        term.write(text.replace(/\\n/g, '\\r\\n'));\n\t    };\n\t    Shell.prototype.stderr = function (text) {\n\t        // Programs use stderr for weird things. Red text looks out of place.\n\t        // const term = this._terminal;\n\t        // Print red, then switch back to the default color.\n\t        // term.write(`\\x1b[31m${text.replace(/\\n/g, '\\r\\n')}\\x1b[0m`);\n\t        this.stdout(text);\n\t    };\n\t    Shell.prototype._getArgs = function (command) {\n\t        return this._getEnteredText().trim().split(/\\s+/g);\n\t    };\n\t    Shell.prototype._runCommand = function (raw, args) {\n\t        var _this = this;\n\t        this._bufferedInput = \"\";\n\t        this._shellEnabled = false;\n\t        this._historyOffset = this._history.push(raw);\n\t        fs.writeFile(this._shellHistoryFile, new Buffer(this._history.join(\"\\n\")), function () { });\n\t        if (args[0] === '') {\n\t            this.prompt();\n\t            return;\n\t        }\n\t        if (this._activeCommand) {\n\t            this.stderr(\"ERROR: Already running a command!\\n\");\n\t            return;\n\t        }\n\t        var command = this._commands[args[0]];\n\t        if (!command) {\n\t            this.stderr(\"Unknown command \" + args[0] + \". Type \\\"help\\\" for a list of commands.\\n\");\n\t            this.prompt();\n\t        }\n\t        else {\n\t            this._expandArguments(args.slice(1), function (expArgs, err) {\n\t                if (err) {\n\t                    _this.stderr(command.getCommand() + \": \" + err + \"\\n\");\n\t                    _this.prompt();\n\t                }\n\t                else {\n\t                    _this._activeCommand = command;\n\t                    command.run(_this, expArgs, function () {\n\t                        _this.exitProgram();\n\t                    });\n\t                }\n\t            });\n\t        }\n\t    };\n\t    Shell.prototype.killProgram = function () {\n\t        if (this._activeCommand) {\n\t            this._activeCommand.kill();\n\t            this.exitProgram();\n\t        }\n\t    };\n\t    Shell.prototype.exitProgram = function () {\n\t        if (this._activeCommand) {\n\t            this._activeCommand = null;\n\t            if (this._cursorX() !== 0) {\n\t                this.stdout(\"\\n\");\n\t            }\n\t            this.prompt();\n\t        }\n\t    };\n\t    Shell.prototype.focus = function () {\n\t        this._terminal.focus();\n\t    };\n\t    Shell.prototype._ps = function () {\n\t        return process.cwd() + \" $\";\n\t    };\n\t    Shell.prototype.getAvailableCommands = function () {\n\t        return _.clone(this._commands);\n\t    };\n\t    /**\n\t     * After xterm.js updates the cursor, this function ensures that\n\t     * it is in a shell-legal position.\n\t     */\n\t    Shell.prototype._boundCursor = function () {\n\t        var term = this._terminal;\n\t        var cursorX = this._cursorX();\n\t        var cursorY = this._cursorY();\n\t        var psX = this._psX;\n\t        var psY = this._psY;\n\t        var endX = this._endX;\n\t        var endY = this._endY;\n\t        var cols = this._terminal.cols;\n\t        var cursorOffset = cursorY * cols + cursorX;\n\t        var psOffset = psY * cols + psX;\n\t        var endOffset = endY * cols + endX;\n\t        if (cursorOffset < psOffset) {\n\t            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, psX, psY));\n\t        }\n\t        else if (cursorOffset > endOffset) {\n\t            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, endX, endY));\n\t        }\n\t    };\n\t    Shell.prototype._expandArguments = function (args, cb) {\n\t        var expandedArgs = [];\n\t        async.each(args, function (arg, cb) {\n\t            if (arg.indexOf('*') == -1) {\n\t                expandedArgs.push(arg);\n\t                cb();\n\t            }\n\t            else {\n\t                util_1.processGlob(arg, function (expansionTerms) {\n\t                    if (expansionTerms.length > 0) {\n\t                        expandedArgs = expandedArgs.concat(expansionTerms);\n\t                        cb();\n\t                    }\n\t                    else {\n\t                        cb(arg + \": No such file or directory\");\n\t                    }\n\t                });\n\t            }\n\t        }, function (e) {\n\t            cb(expandedArgs, e);\n\t        });\n\t    };\n\t    Shell.prototype.getCompletions = function (args, cb) {\n\t        if (args.length == 1) {\n\t            cb(util_1.filterSubstring(args[0], Object.keys(this.getAvailableCommands())));\n\t        }\n\t        else if (args[0] === 'time') {\n\t            this.getCompletions(args.slice(1), cb);\n\t        }\n\t        else {\n\t            var cmd = this.getAvailableCommands()[args[0]], filter = function () { return true; };\n\t            if (cmd != null) {\n\t                filter = cmd.getAutocompleteFilter();\n\t            }\n\t            util_1.fileNameCompletions(args[0], args, filter, cb);\n\t        }\n\t    };\n\t    Shell.prototype.backspace = function (length) {\n\t        var backspaceStr = '';\n\t        for (var i = 0; i < length; i++) {\n\t            // \\b doesn't clear the current character.\n\t            // Back up one character, replace with one space, back up one more time.\n\t            backspaceStr += \"\\b \\b\";\n\t        }\n\t        this._terminal.write(backspaceStr);\n\t    };\n\t    /**\n\t     * Enables the shell (if disabled), and prompts for user input.\n\t     */\n\t    Shell.prototype.prompt = function () {\n\t        process.stdin.setRawMode(false);\n\t        this._shellEnabled = true;\n\t        this._terminal.write(this._ps() + \" \");\n\t        this._psX = this._endX = this._cursorX();\n\t        this._psY = this._endY = this._cursorY();\n\t        this.stdout(ControlCodes.SHOW_CURSOR);\n\t    };\n\t    /**\n\t     * After the user has entered text, update the prompt text\n\t     * to the *right* of the cursor.\n\t     */\n\t    Shell.prototype._updatePrompt = function () {\n\t        // Save cursor position.\n\t        // Insert text.\n\t        // Restore cursor position.\n\t        this._boundCursor();\n\t    };\n\t    /**\n\t     * Given an updated _commandBuffer, redraw the existing prompt\n\t     * with the cursor at the end of the prompt.\n\t     */\n\t    Shell.prototype._redrawPrompt = function (command) {\n\t        this._shellEnabled = true;\n\t        var oldCommand = this._getEnteredText();\n\t        this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, this._endX, this._endY));\n\t        for (var i = 0; i < oldCommand.length; i++) {\n\t            this.stdin('\\b');\n\t        }\n\t        this._terminal.write(command);\n\t        this._updateEndLocation(command.length);\n\t    };\n\t    Shell.prototype._tabComplete = function (raw, args, cb) {\n\t        var _this = this;\n\t        // The argument we are completing.\n\t        var term = this._terminal;\n\t        var lastArg = _.last(args);\n\t        this.getCompletions(args, function (completions) {\n\t            if (completions.length == 1) {\n\t                var completion = completions[0];\n\t                args[args.length - 1] = completion;\n\t                var command = args.join(\" \") + ((completion[completion.length - 1] !== '/') ? ' ' : '');\n\t                _this._redrawPrompt(command);\n\t            }\n\t            else if (completions.length > 0) {\n\t                var prefix = util_1.longestCommmonPrefix(completions);\n\t                if (prefix === '' || prefix === lastArg) {\n\t                    // We've no more sure completions to give, so show all options.\n\t                    var commonLen_1 = lastArg.lastIndexOf('/') + 1;\n\t                    var options = completions.map(function (c) { return c.slice(commonLen_1); });\n\t                    options.sort();\n\t                    _this.stdout(\"\\n\" + util_1.columnize(options, term.cols) + \"\\n\");\n\t                    // Create a new prompt with same command.\n\t                    _this.prompt();\n\t                    _this._redrawPrompt(raw);\n\t                }\n\t                else {\n\t                    args[args.length - 1] = prefix;\n\t                    _this._redrawPrompt(args.join(\" \"));\n\t                    ;\n\t                }\n\t            }\n\t            cb();\n\t        });\n\t    };\n\t    return Shell;\n\t}());\n\texports.__esModule = true;\n\texports[\"default\"] = Shell;\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hlbGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzaGVsbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBTyxLQUFLLFdBQVcsT0FBTyxDQUFDLENBQUM7QUFDaEMscUJBQWlHLFFBQVEsQ0FBQyxDQUFBO0FBQzFHLElBQU8sQ0FBQyxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBQ2pDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3hDLElBQU8sUUFBUSxXQUFXLE9BQU8sQ0FBQyxDQUFDO0FBQ25DLElBQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDaEQsSUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDckQsSUFBTSxFQUFFLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUUvQixNQUFPLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztBQXVDakM7SUFBQTtJQVVBLENBQUM7SUFIUSw0QkFBZSxHQUF0QixVQUF1QixJQUFjLEVBQUUsR0FBVyxFQUFFLEdBQVc7UUFDN0QsTUFBTSxDQUFDLGFBQVEsR0FBRyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxXQUFJLEdBQUcsR0FBQyxDQUFDLE9BQUcsQ0FBQztJQUNoRCxDQUFDO0lBUk0sd0JBQVcsR0FBRyxPQUFPLENBQUM7SUFDdEIsMkJBQWMsR0FBRyxPQUFPLENBQUM7SUFDekIscUJBQVEsR0FBRyxRQUFRLENBQUM7SUFDcEIsd0JBQVcsR0FBRyxRQUFRLENBQUM7SUFDdkIsdUJBQVUsR0FBRyxRQUFRLENBQUM7SUFDdEIsd0JBQVcsR0FBRyxXQUFXLENBQUM7SUFJbkMsbUJBQUM7QUFBRCxDQUFDLEFBVkQsSUFVQztBQUVEOztHQUVHO0FBQ0g7SUFpQkUsZUFBWSxZQUF5QixFQUFFLFFBQXdCLEVBQUUsV0FBbUIsRUFBRSxn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Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFzeW5jID0gcmVxdWlyZSgnYXN5bmMnKTtcbmltcG9ydCB7cHJvY2Vzc0dsb2IsIGxvbmdlc3RDb21tbW9uUHJlZml4LCBmaWxlTmFtZUNvbXBsZXRpb25zLCBmaWx0ZXJTdWJzdHJpbmcsIGNvbHVtbml6ZX0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuaW1wb3J0IEJyb3dzZXJGUyA9IHJlcXVpcmUoJ2Jyb3dzZXJmcycpO1xuaW1wb3J0IFRlcm1pbmFsID0gcmVxdWlyZSgneHRlcm0nKTtcbmNvbnN0IHByb2Nlc3MgPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgncHJvY2VzcycpO1xuY29uc3QgQnVmZmVyID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjtcbmNvbnN0IGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyk7XG5kZWNsYXJlIHZhciBnbG9iYWxUZXJtOiBUZXJtaW5hbDtcbig8YW55PiBnbG9iYWwpLmdsb2JhbFRlcm0gPSBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoZWxsQ29tbWFuZCB7XG4gIGdldENvbW1hbmQoKTogc3RyaW5nO1xuICBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKTogKGZuYW1lOiBzdHJpbmcsIGlzRGlyOiBib29sZWFuKSA9PiBib29sZWFuO1xuICB0cmFuc2xhdGVGaWxlVG9BcmcoZm5hbWU6IHN0cmluZyk6IHN0cmluZztcbiAgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZDtcbiAga2lsbCgpOiB2b2lkO1xufVxuXG4vKipcbiAqIEVudW0gY29udGFpbmluZyBrZXljb2RlcyB0aGF0IHdlIHNwZWNpYWxseSBoYW5kbGUuXG4gKi9cbmNvbnN0IGVudW0gS2V5Q29kZXMge1xuICBMRUZUID0gMzcsXG4gIFJJR0hUID0gMzksXG4gIFVQID0gMzgsXG4gIERPV04gPSA0MCxcbiAgQkFDS1NQQUNFID0gOCxcbiAgVEFCID0gOSxcbiAgREVMRVRFID0gNDYsXG4gIEVORCA9IDM1LFxuICBIT01FID0gMzYsXG4gIEVOVEVSID0gMTMsXG4gIEFMVCA9IDE4LFxuICBJTlNFUlQgPSA0NSxcbiAgQSA9IDY1LFxuICBDID0gNjcsXG4gIEQgPSA2OCxcbiAgRSA9IDY5LFxuICBOID0gNzgsXG4gIFAgPSA4MCxcbiAgQiA9IDY2LFxuICBGID0gNzAsXG4gIEsgPSA3NSxcbiAgdiA9IDExOCxcbiAgViA9IDg2XG59XG5cbmNsYXNzIENvbnRyb2xDb2RlcyB7XG4gIHN0YXRpYyBTQVZFX0NVUlNPUiA9IFwiXFx4MWI3XCI7XG4gIHN0YXRpYyBSRVNUT1JFX0NVUlNPUiA9IFwiXFx4MWI4XCI7XG4gIHN0YXRpYyBVUF9BUlJPVyA9IFwiXFx4MWJbQVwiO1xuICBzdGF0aWMgUklHSFRfQVJST1cgPSBcIlxceDFiW0NcIjtcbiAgc3RhdGljIExFRlRfQVJST1cgPSBcIlxceDFiW0RcIjtcbiAgc3RhdGljIFNIT1dfQ1VSU09SID0gXCJcXHgxYls/MjVoXCI7XG4gIHN0YXRpYyBDVVJTT1JfUE9TSVRJT04odGVybTogVGVybWluYWwsIGNvbDogbnVtYmVyLCByb3c6IG51bWJlcikge1xuICAgIHJldHVybiBgXFx4MWJbJHtyb3crMSAtIHRlcm0ueWJhc2V9OyR7Y29sKzF9SGA7XG4gIH1cbn1cblxuLyoqXG4gKiBSdW5zIGEgc2hlbGwgb24gYW4geHRlcm0uanMgdGVybWluYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoZWxsIHtcbiAgcHJpdmF0ZSBfdGVybWluYWw6IFRlcm1pbmFsID0gbnVsbDtcbiAgcHJpdmF0ZSBfY29tbWFuZHM6IHsgW2NvbW1hbmQ6IHN0cmluZ106IFNoZWxsQ29tbWFuZCB9ID0ge307XG4gIHByaXZhdGUgX2FjdGl2ZUNvbW1hbmQ6IFNoZWxsQ29tbWFuZCA9IG51bGw7XG4gIC8vIElzIHRoZSBzaGVsbCBlbmFibGVkLCBvciBpcyBhIHByb2dyYW0gcnVubmluZz9cbiAgcHJpdmF0ZSBfc2hlbGxFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3BzWDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfcHNZOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9lbmRYOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9lbmRZOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9oaXN0b3J5OiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIF9oaXN0b3J5T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9kaXNhYmxlSW5wdXQgPSB0cnVlO1xuICBwcml2YXRlIF9zYXZlZENvbW1hbmQgPSBcIlwiO1xuICBwcml2YXRlIF9zaGVsbEhpc3RvcnlGaWxlOiBzdHJpbmc7XG4gIHByaXZhdGUgX2J1ZmZlcmVkSW5wdXQ6IHN0cmluZyA9IFwiXCI7XG5cbiAgY29uc3RydWN0b3Ioc2hlbGxFbGVtZW50OiBIVE1MRWxlbWVudCwgY29tbWFuZHM6IFNoZWxsQ29tbWFuZFtdLCBsb2FkaW5nVGV4dDogc3RyaW5nLCBzaGVsbEhpc3RvcnlGaWxlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zaGVsbEhpc3RvcnlGaWxlID0gc2hlbGxIaXN0b3J5RmlsZTtcbiAgICBjb21tYW5kcy5mb3JFYWNoKChjOiBTaGVsbENvbW1hbmQpID0+IHtcbiAgICAgIHRoaXMuX2NvbW1hbmRzW2MuZ2V0Q29tbWFuZCgpXSA9IGM7XG4gICAgfSk7XG5cbiAgICBjb25zdCByb3dzID0gMjU7XG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsID0gZ2xvYmFsVGVybSA9IG5ldyBUZXJtaW5hbCh7XG4gICAgICBjb2xzOiA4MCxcbiAgICAgIHJvd3M6IHJvd3MsXG4gICAgICBjYW5jZWxFdmVudHM6IHRydWVcbiAgICB9KTtcbiAgICB0ZXJtLm9wZW4oc2hlbGxFbGVtZW50KTtcbiAgICB0ZXJtLmN1cnNvckhpZGRlbiA9IHRydWU7XG5cbiAgICB0ZXJtLm9uKCdrZXknLCAoa2V5LCBlKSA9PiB7XG4gICAgICBpZiAodGhpcy5fZGlzYWJsZUlucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgICBsZXQga2V5UHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuQTpcbiAgICAgICAgICAgIC8vIG1vdmUgY3Vyc29yIHRvIHN0YXJ0XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX21vdmVUb1N0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkM6XG4gICAgICAgICAgICAvLyBTcGVjaWFsOiBLaWxsIGFueSBhY3RpdmUgcHJvZ3JhbXMuIE90aGVyd2lzZSwgaWdub3JlLlxuICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMua2lsbFByb2dyYW0oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuRDpcbiAgICAgICAgICAgIC8vIGZvcndhcmQgZGVsZXRlXG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmREZWxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuRTpcbiAgICAgICAgICAgIC8vIG1vdmUgdG8gZW5kXG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX21vdmVUb0VuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5OOlxuICAgICAgICAgICAgLy8gbmV4dCBoaXN0b3J5XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX25leHRIaXN0b3J5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLlA6XG4gICAgICAgICAgICAvLyBwcmV2IGhpc3RvcnlcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5fcHJldkhpc3RvcnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuQjpcbiAgICAgICAgICAgIC8vIGJhY2tcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5fY3Vyc29yTGVmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5GOlxuICAgICAgICAgICAgLy8gZm9yd2FyZFxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLl9jdXJzb3JSaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5LOlxuICAgICAgICAgICAgLy8gZGVsZXRlIHVudGlsIGVuZFxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBjb25zdCB0b0RlbGV0ZSA9IHRoaXMuX2dldEVudGVyZWRUZXh0KCkubGVuZ3RoIC0gdGhpcy5fZ2V0Q3Vyc29yT2Zmc2V0KCk7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9EZWxldGU7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmREZWxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHtcbiAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5GOlxuICAgICAgICAgICAgLy8gbW92ZSB0byBuZXh0IHdvcmRcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuQjpcbiAgICAgICAgICAgIC8vIG1vdmUgdG8gcHJldiB3b3JkXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkQ6XG4gICAgICAgICAgICAvLyBkZWxldGUgbmV4dCB3b3JkXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5VUDpcbiAgICAgICAgICAgIC8vIHByZXYgaGlzdG9yeVxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLl9wcmV2SGlzdG9yeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5ET1dOOlxuICAgICAgICAgICAgLy8gbmV4dCBoaXN0b3J5XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX25leHRIaXN0b3J5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkxFRlQ6XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2N1cnNvckxlZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuUklHSFQ6XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2N1cnNvclJpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkJBQ0tTUEFDRTpcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0ZGluKCdcXGInKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuVEFCOlxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlSW5wdXQgPSB0cnVlO1xuICAgICAgICAgICAgICBjb25zdCBjbWQgPSB0aGlzLl9nZXRFbnRlcmVkVGV4dCgpO1xuICAgICAgICAgICAgICB0aGlzLl90YWJDb21wbGV0ZShjbWQsIHRoaXMuX2dldEFyZ3MoY21kKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVJbnB1dCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuREVMRVRFOlxuICAgICAgICAgICAgLy8gZm9yd2FyZCBkZWxldGVcbiAgICAgICAgICAgIC8vIE5PVEU6IElzIGFsc28gJy4nIG9uIG15IE1hYy4uLlxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCAmJiBlLnR5cGUgPT09IFwia2V5ZG93blwiKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmREZWxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuRU5EOlxuICAgICAgICAgICAgLy8gbW92ZSB0byBlbmRcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5fbW92ZVRvRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkhPTUU6XG4gICAgICAgICAgICAvLyBNb3ZlIHRvIHN0YXJ0XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX21vdmVUb1N0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkVOVEVSOlxuICAgICAgICAgICAgLy8gcnVuIGNvbW1hbmQuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnN0IGNtZCA9IHRoaXMuX2dldEVudGVyZWRUZXh0KCk7XG4gICAgICAgICAgICAgIHRoaXMuc3Rkb3V0KGAke0NvbnRyb2xDb2Rlcy5DVVJTT1JfUE9TSVRJT04odGhpcy5fdGVybWluYWwsIHRoaXMuX2VuZFgsIHRoaXMuX2VuZFkpfVxcbmApO1xuICAgICAgICAgICAgICB0aGlzLl9ydW5Db21tYW5kKGNtZCwgdGhpcy5fZ2V0QXJncyhjbWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXlQcm9jZXNzZWQpIHtcbiAgICAgICAgICB0aGlzLnN0ZGluKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3Rlcm1pbmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgd2lkdGggb2YgdGhlIHRlcm1pbmFsIGluIGNoYXJhY3RlcnMuXG4gICAqL1xuICBwdWJsaWMgY29scygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICB9XG5cbiAgcHJpdmF0ZSBfY3Vyc29yWCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbC54O1xuICB9XG5cbiAgcHJpdmF0ZSBfY3Vyc29yWSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbC55YmFzZSArIHRoaXMuX3Rlcm1pbmFsLnk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgdGhlIGxvYWRpbmcgcGhhc2UgaGFzIGNvbXBsZXRlZC5cbiAgICovXG4gIHB1YmxpYyBsb2FkaW5nQ29tcGxldGVkKGdyZWV0aW5nOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBmcy5yZWFkRmlsZSh0aGlzLl9zaGVsbEhpc3RvcnlGaWxlLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoIWVycikge1xuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gZGF0YS50b1N0cmluZygpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdGhpcy5faGlzdG9yeU9mZnNldCA9IHRoaXMuX2hpc3RvcnkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGdyZWV0aW5nW2dyZWV0aW5nLmxlbmd0aCAtIDFdICE9PSAnXFxuJykge1xuICAgICAgICBncmVldGluZyArPSAnXFxuJztcbiAgICAgIH1cbiAgICAgIHRoaXMuX2Rpc2FibGVJbnB1dCA9IGZhbHNlO1xuICAgICAgdGhpcy5iYWNrc3BhY2UodGhpcy5jb2xzKCkpO1xuICAgICAgdGhpcy5zdGRvdXQoZ3JlZXRpbmcpO1xuICAgICAgdGhpcy5wcm9tcHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2N1cnNvckxlZnQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2N1cnNvclgoKSA9PT0gMCAmJiB0aGlzLl9jdXJzb3JZKCkgPiAwKSB7XG4gICAgICAvLyBNb3ZlIHVwIG9uZSwgdG8gZW5kIG9mIGxpbmUuXG4gICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuQ1VSU09SX1BPU0lUSU9OKHRoaXMuX3Rlcm1pbmFsLCB0aGlzLl90ZXJtaW5hbC5jb2xzIC0gMSwgdGhpcy5fY3Vyc29yWSgpIC0gMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuTEVGVF9BUlJPVyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfY3Vyc29yUmlnaHQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2N1cnNvclgoKSA9PT0gdGhpcy5fdGVybWluYWwuY29scyAtIDEgJiYgdGhpcy5fZW5kWSA+IHRoaXMuX2N1cnNvclkoKSkge1xuICAgICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgMCwgdGhpcy5fY3Vyc29yWSgpICsgMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuUklHSFRfQVJST1cpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZIaXN0b3J5KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9oaXN0b3J5Lmxlbmd0aCA+IDAgJiYgdGhpcy5faGlzdG9yeU9mZnNldCA+IDApIHtcbiAgICAgIGlmICh0aGlzLl9oaXN0b3J5T2Zmc2V0ID09PSB0aGlzLl9oaXN0b3J5Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9zYXZlZENvbW1hbmQgPSB0aGlzLl9nZXRFbnRlcmVkVGV4dCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5faGlzdG9yeU9mZnNldC0tO1xuICAgICAgdGhpcy5fcmVkcmF3UHJvbXB0KHRoaXMuX2hpc3RvcnlbdGhpcy5faGlzdG9yeU9mZnNldF0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX25leHRIaXN0b3J5KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9oaXN0b3J5Lmxlbmd0aCA+IDAgJiYgdGhpcy5faGlzdG9yeU9mZnNldCA8IHRoaXMuX2hpc3RvcnkubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9oaXN0b3J5T2Zmc2V0Kys7XG4gICAgICBpZiAodGhpcy5faGlzdG9yeU9mZnNldCA9PT0gdGhpcy5faGlzdG9yeS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fcmVkcmF3UHJvbXB0KHRoaXMuX3NhdmVkQ29tbWFuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZWRyYXdQcm9tcHQodGhpcy5faGlzdG9yeVt0aGlzLl9oaXN0b3J5T2Zmc2V0XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbW92ZVRvU3RhcnQoKTogdm9pZCB7XG4gICAgdGhpcy5zdGRpbihDb250cm9sQ29kZXMuQ1VSU09SX1BPU0lUSU9OKHRoaXMuX3Rlcm1pbmFsLCB0aGlzLl9wc1gsIHRoaXMuX3BzWSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfbW92ZVRvRW5kKCk6IHZvaWQge1xuICAgIHRoaXMuc3RkaW4oQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgdGhpcy5fZW5kWCwgdGhpcy5fZW5kWSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZm9yd2FyZERlbGV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9jdXJzb3JSaWdodCgpO1xuICAgIHRoaXMuc3RkaW4oJ1xcYicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3Vyc29yIG9mZnNldCBpbnRvIHRoZSBjdXJyZW50bHkgdHlwZWQgY29tbWFuZC5cbiAgICovXG4gIHByaXZhdGUgX2dldEN1cnNvck9mZnNldCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHRlcm0gPSB0aGlzLl90ZXJtaW5hbDtcbiAgICBjb25zdCBwcm9tcHRYID0gdGhpcy5fcHNYO1xuICAgIGNvbnN0IHByb21wdFkgPSB0aGlzLl9wc1k7XG4gICAgY29uc3QgdGVybVdpZHRoID0gdGVybS5jb2xzO1xuICAgIGNvbnN0IHByb21wdE9mZnNldCA9IHByb21wdFkgKiB0ZXJtV2lkdGggKyBwcm9tcHRYO1xuICAgIGNvbnN0IGN1cnNvclggPSB0aGlzLl9jdXJzb3JYKCk7XG4gICAgY29uc3QgY3Vyc29yWSA9IHRoaXMuX2N1cnNvclkoKTtcbiAgICBjb25zdCBjdXJzb3JPZmZzZXQgPSBjdXJzb3JZICogdGVybVdpZHRoICsgY3Vyc29yWDtcbiAgICByZXR1cm4gY3Vyc29yT2Zmc2V0IC0gcHJvbXB0T2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudGx5IGVudGVyZWQgdGV4dCBhZnRlciB0aGUgcHJvbXB0LlxuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0RW50ZXJlZFRleHQoKTogc3RyaW5nIHtcbiAgICBsZXQgdGV4dCA9IFwiXCI7XG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsO1xuICAgIGNvbnN0IGNvbHMgPSB0ZXJtLmNvbHM7XG4gICAgY29uc3QgbGluZXMgPSB0ZXJtLmxpbmVzO1xuICAgIGNvbnN0IHBzWSA9IHRoaXMuX3BzWTtcbiAgICBjb25zdCBlbmRZID0gdGhpcy5fZW5kWTtcbiAgICBjb25zdCBlbmRYID0gdGhpcy5fZW5kWDtcbiAgICBmb3IgKGxldCB5ID0gcHNZOyB5IDw9IGVuZFk7IHkrKykge1xuICAgICAgY29uc3Qgcm93ID0gbGluZXNbeV07XG4gICAgICBmb3IgKGxldCB4ID0gKHkgPT09IHBzWSA/IHRoaXMuX3BzWCA6IDApOyB4IDwgKHkgPT09IGVuZFkgPyBlbmRYIDogcm93Lmxlbmd0aCk7IHgrKykge1xuICAgICAgICB0ZXh0ICs9IHJvd1t4XVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVFbmRMb2NhdGlvbihkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgY29scyA9IHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgdGhpcy5fZW5kWCArPSBkZWx0YTtcbiAgICBpZiAodGhpcy5fZW5kWCA+IGNvbHMpIHtcbiAgICAgIGNvbnN0IHJvd3MgPSBNYXRoLmZsb29yKHRoaXMuX2VuZFggLyBjb2xzKTtcbiAgICAgIHRoaXMuX2VuZFggLT0gKGNvbHMgKiByb3dzKTtcbiAgICAgIHRoaXMuX2VuZFkgKz0gcm93cztcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2VuZFggPCAwKSB7XG4gICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKE1hdGguYWJzKHRoaXMuX2VuZFgpIC8gY29scyk7XG4gICAgICB0aGlzLl9lbmRZIC09IHJvd3M7XG4gICAgICB0aGlzLl9lbmRYICs9IChjb2xzICogcm93cyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZXItcHJvdmlkZWQgaW5wdXQgdG8gdGhlIHByb2dyYW0sIHRyYW5zbGF0ZWQgaW50byB0ZXJtaW5hbCB0ZXh0LlxuICAgKiBAcGFyYW0gaXNQcmludGFibGUgSXMgdGhpcyBhIFwicHJpbnRhYmxlXCIgY2hhcmFjdGVyP1xuICAgKi9cbiAgcHJpdmF0ZSBzdGRpbihrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgIC8vIHh0ZXJtLmpzIGlzIGFsd2F5cyBpbiBpbnNlcnQgbW9kZS4gVGhhdCdzIG5vdCB3aGF0IHVzZXJzIGV4cGVjdC5cbiAgICAgIGlmIChrZXkgPT09ICdcXGInKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsbHkuXG4gICAgICAgIGxldCBjb21tYW5kID0gdGhpcy5fZ2V0RW50ZXJlZFRleHQoKSxcbiAgICAgICAgICBjdXJzb3JPZmZzZXQgPSB0aGlzLl9nZXRDdXJzb3JPZmZzZXQoKTtcbiAgICAgICAgaWYgKGN1cnNvck9mZnNldCA+IDApIHtcbiAgICAgICAgICB0aGlzLl9jdXJzb3JMZWZ0KCk7XG4gICAgICAgICAgLy8gRXh0cmEgc3BhY2Ugb3ZlcndyaXRlcyBlbmQgY2hhcmFjdGVyLlxuICAgICAgICAgIHRoaXMuc3Rkb3V0KGAke0NvbnRyb2xDb2Rlcy5TQVZFX0NVUlNPUn0ke2NvbW1hbmQuc2xpY2UoY3Vyc29yT2Zmc2V0KX0gJHtDb250cm9sQ29kZXMuUkVTVE9SRV9DVVJTT1J9YCk7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlRW5kTG9jYXRpb24oLTEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc3VmZml4OiBzdHJpbmcgPSBudWxsO1xuICAgICAgICAvLyBJbXBhY3Qgb24gdGhlIGVuZCBvZiB0aGUgbGluZT9cbiAgICAgICAgc3dpdGNoIChrZXlbMF0pIHtcbiAgICAgICAgICAvLyBJZ25vcmUgY29udHJvbCBjb2Rlcy5cbiAgICAgICAgICBjYXNlICdcXHgwNyc6IC8vIGJlbGxcbiAgICAgICAgICBjYXNlICdcXHgxYic6IC8vIFxcZTogZXNjYXBlZCBjb250cm9sIGNvZGVzLlxuICAgICAgICAgIGNhc2UgJ1xceDBlJzogLy8gc2hpZnQgb3V0XG4gICAgICAgICAgY2FzZSAnXFx4MGYnOiAvLyBzaGlmdCBpblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN1ZmZpeCA9IGAke0NvbnRyb2xDb2Rlcy5TQVZFX0NVUlNPUn0ke3RoaXMuX2dldEVudGVyZWRUZXh0KCkuc2xpY2UodGhpcy5fZ2V0Q3Vyc29yT2Zmc2V0KCkpfSR7Q29udHJvbENvZGVzLlJFU1RPUkVfQ1VSU09SfWA7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFbmRMb2NhdGlvbigxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhdmUgdGVybWluYWwgcHJvY2VzcyB0ZXh0LlxuICAgICAgICB0aGlzLnN0ZG91dChrZXkpO1xuICAgICAgICBpZiAodGhpcy5fdGVybWluYWwueCA9PT0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgICAgIC8vIFhYWDogSGFja2ZpeCBmb3IgeHRlcm0gYnVnIC0tIG9mZiBieSBvbmUuXG4gICAgICAgICAgdGhpcy5fdGVybWluYWwueC0tO1xuICAgICAgICAgIHRoaXMuX2N1cnNvclJpZ2h0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeUJlZm9yZSA9IHRoaXMuX2N1cnNvclkoKTtcbiAgICAgICAgaWYgKHN1ZmZpeCkge1xuICAgICAgICAgIHRoaXMuc3Rkb3V0KHN1ZmZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeUFmdGVyID0gdGhpcy5fY3Vyc29yWSgpO1xuICAgICAgICBpZiAoeUFmdGVyICE9PSB5QmVmb3JlKSB7XG4gICAgICAgICAgLy8gWFhYOiBIYWNrZml4IGZvciBlbmQgb2YgbGluZS5cbiAgICAgICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuVVBfQVJST1cpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvbXB0LlxuICAgICAgICB0aGlzLl91cGRhdGVQcm9tcHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRWNobyB0aGUgdGV4dC4gU3RyaXAgY29udHJvbCBjaGFyYWN0ZXJzIG91dC4gQnVmZmVyIGlucHV0LlxuICAgICAgaWYgKGtleSA9PT0gJ1xcYicpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcmVkSW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuX2N1cnNvckxlZnQoKTtcbiAgICAgICAgICB0aGlzLnN0ZG91dChgIGApO1xuICAgICAgICAgIHRoaXMuX2N1cnNvckxlZnQoKTtcbiAgICAgICAgICB0aGlzLl9idWZmZXJlZElucHV0ID0gdGhpcy5fYnVmZmVyZWRJbnB1dC5zbGljZSgwLCB0aGlzLl9idWZmZXJlZElucHV0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ1xccicpIHtcbiAgICAgICAgdGhpcy5zdGRvdXQoJ1xcclxcbicpO1xuICAgICAgICB0aGlzLl9idWZmZXJlZElucHV0ICs9ICdcXG4nO1xuICAgICAgICAvLyBQYXNzIHRvIHByb2dyYW0uXG4gICAgICAgICg8Tm9kZUpTLlJlYWRXcml0ZVN0cmVhbT4gcHJvY2Vzcy5zdGRpbikud3JpdGUodGhpcy5fYnVmZmVyZWRJbnB1dCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkSW5wdXQgPSBcIlwiO1xuICAgICAgfSBlbHNlIGlmIChrZXlbMF0gIT09ICdcXHgxYicpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRJbnB1dCArPSBrZXk7XG4gICAgICAgIHRoaXMuc3Rkb3V0KGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0ZG91dCh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCB0ZXJtID0gdGhpcy5fdGVybWluYWw7XG4gICAgdGVybS53cml0ZSh0ZXh0LnJlcGxhY2UoL1xcbi9nLCAnXFxyXFxuJykpO1xuICB9XG5cbiAgcHVibGljIHN0ZGVycih0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBQcm9ncmFtcyB1c2Ugc3RkZXJyIGZvciB3ZWlyZCB0aGluZ3MuIFJlZCB0ZXh0IGxvb2tzIG91dCBvZiBwbGFjZS5cbiAgICAvLyBjb25zdCB0ZXJtID0gdGhpcy5fdGVybWluYWw7XG4gICAgLy8gUHJpbnQgcmVkLCB0aGVuIHN3aXRjaCBiYWNrIHRvIHRoZSBkZWZhdWx0IGNvbG9yLlxuICAgIC8vIHRlcm0ud3JpdGUoYFxceDFiWzMxbSR7dGV4dC5yZXBsYWNlKC9cXG4vZywgJ1xcclxcbicpfVxceDFiWzBtYCk7XG4gICAgdGhpcy5zdGRvdXQodGV4dCk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRBcmdzKGNvbW1hbmQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RW50ZXJlZFRleHQoKS50cmltKCkuc3BsaXQoL1xccysvZyk7XG4gIH1cblxuICBwcml2YXRlIF9ydW5Db21tYW5kKHJhdzogc3RyaW5nLCBhcmdzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX2J1ZmZlcmVkSW5wdXQgPSBcIlwiO1xuICAgIHRoaXMuX3NoZWxsRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2hpc3RvcnlPZmZzZXQgPSB0aGlzLl9oaXN0b3J5LnB1c2gocmF3KTtcbiAgICBmcy53cml0ZUZpbGUodGhpcy5fc2hlbGxIaXN0b3J5RmlsZSwgbmV3IEJ1ZmZlcih0aGlzLl9oaXN0b3J5LmpvaW4oXCJcXG5cIikpLCAoKSA9PiB7fSk7XG4gICAgaWYgKGFyZ3NbMF0gPT09ICcnKSB7XG4gICAgICB0aGlzLnByb21wdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYWN0aXZlQ29tbWFuZCkge1xuICAgICAgdGhpcy5zdGRlcnIoYEVSUk9SOiBBbHJlYWR5IHJ1bm5pbmcgYSBjb21tYW5kIVxcbmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbW1hbmQgPSB0aGlzLl9jb21tYW5kc1thcmdzWzBdXTtcbiAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgIHRoaXMuc3RkZXJyKGBVbmtub3duIGNvbW1hbmQgJHthcmdzWzBdfS4gVHlwZSBcImhlbHBcIiBmb3IgYSBsaXN0IG9mIGNvbW1hbmRzLlxcbmApO1xuICAgICAgdGhpcy5wcm9tcHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZXhwYW5kQXJndW1lbnRzKGFyZ3Muc2xpY2UoMSksIChleHBBcmdzLCBlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHRoaXMuc3RkZXJyKGAke2NvbW1hbmQuZ2V0Q29tbWFuZCgpfTogJHtlcnJ9XFxuYCk7XG4gICAgICAgICAgdGhpcy5wcm9tcHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9hY3RpdmVDb21tYW5kID0gY29tbWFuZDtcbiAgICAgICAgICBjb21tYW5kLnJ1bih0aGlzLCBleHBBcmdzLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmV4aXRQcm9ncmFtKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBwdWJsaWMga2lsbFByb2dyYW0oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUNvbW1hbmQpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUNvbW1hbmQua2lsbCgpO1xuICAgICAgdGhpcy5leGl0UHJvZ3JhbSgpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZXhpdFByb2dyYW0oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUNvbW1hbmQpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUNvbW1hbmQgPSBudWxsO1xuICAgICAgaWYgKHRoaXMuX2N1cnNvclgoKSAhPT0gMCkge1xuICAgICAgICB0aGlzLnN0ZG91dChcIlxcblwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvbXB0KCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBmb2N1cygpOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5mb2N1cygpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcHMoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7cHJvY2Vzcy5jd2QoKX0gJGA7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXZhaWxhYmxlQ29tbWFuZHMoKTogeyBbY29tbWFuZE5hbWU6IHN0cmluZ106IFNoZWxsQ29tbWFuZCB9IHtcbiAgICByZXR1cm4gXy5jbG9uZSh0aGlzLl9jb21tYW5kcyk7XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgeHRlcm0uanMgdXBkYXRlcyB0aGUgY3Vyc29yLCB0aGlzIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdFxuICAgKiBpdCBpcyBpbiBhIHNoZWxsLWxlZ2FsIHBvc2l0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBfYm91bmRDdXJzb3IoKTogdm9pZCB7XG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsO1xuICAgIGNvbnN0IGN1cnNvclggPSB0aGlzLl9jdXJzb3JYKCk7XG4gICAgY29uc3QgY3Vyc29yWSA9IHRoaXMuX2N1cnNvclkoKTtcbiAgICBjb25zdCBwc1ggPSB0aGlzLl9wc1g7XG4gICAgY29uc3QgcHNZID0gdGhpcy5fcHNZO1xuICAgIGNvbnN0IGVuZFggPSB0aGlzLl9lbmRYO1xuICAgIGNvbnN0IGVuZFkgPSB0aGlzLl9lbmRZO1xuICAgIGNvbnN0IGNvbHMgPSB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgIGNvbnN0IGN1cnNvck9mZnNldCA9IGN1cnNvclkqY29scyArIGN1cnNvclg7XG4gICAgY29uc3QgcHNPZmZzZXQgPSBwc1kqY29scyArIHBzWDtcbiAgICBjb25zdCBlbmRPZmZzZXQgPSBlbmRZKmNvbHMgKyBlbmRYO1xuICAgIGlmIChjdXJzb3JPZmZzZXQgPCBwc09mZnNldCkge1xuICAgICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgcHNYLCBwc1kpKTtcbiAgICB9IGVsc2UgaWYgKGN1cnNvck9mZnNldCA+IGVuZE9mZnNldCkge1xuICAgICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgZW5kWCwgZW5kWSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2V4cGFuZEFyZ3VtZW50cyhhcmdzOiBzdHJpbmdbXSwgY2I6IChleHBhbmRlZEFyZ3M6IHN0cmluZ1tdLCBlcnI6IGFueSkgPT4gdm9pZCkge1xuICAgIHZhciBleHBhbmRlZEFyZ3M6IHN0cmluZ1tdID0gW107XG4gICAgYXN5bmMuZWFjaChhcmdzLChhcmc6IHN0cmluZywgY2I6IChlPzogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICBpZiAoYXJnLmluZGV4T2YoJyonKSA9PSAtMSkge1xuICAgICAgICBleHBhbmRlZEFyZ3MucHVzaChhcmcpO1xuICAgICAgICBjYigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc0dsb2IoYXJnLCAoZXhwYW5zaW9uVGVybXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgaWYgKGV4cGFuc2lvblRlcm1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGV4cGFuZGVkQXJncyA9IGV4cGFuZGVkQXJncy5jb25jYXQoZXhwYW5zaW9uVGVybXMpO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2IoYCR7YXJnfTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwoZT86IGFueSkgPT4ge1xuICAgICAgY2IoZXhwYW5kZWRBcmdzLCBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb21wbGV0aW9ucyhhcmdzOiBzdHJpbmdbXSwgY2I6IChjOiBzdHJpbmdbXSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICBjYihmaWx0ZXJTdWJzdHJpbmcoYXJnc1swXSwgT2JqZWN0LmtleXModGhpcy5nZXRBdmFpbGFibGVDb21tYW5kcygpKSkpO1xuICAgIH0gZWxzZSBpZiAoYXJnc1swXSA9PT0gJ3RpbWUnKSB7XG4gICAgICB0aGlzLmdldENvbXBsZXRpb25zKGFyZ3Muc2xpY2UoMSksIGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNtZCA9IHRoaXMuZ2V0QXZhaWxhYmxlQ29tbWFuZHMoKVthcmdzWzBdXSxcbiAgICAgICAgICBmaWx0ZXI6IChmbmFtZTogc3RyaW5nLCBpc0RpcjogYm9vbGVhbikgPT4gYm9vbGVhbiA9ICgpID0+IHRydWU7XG4gICAgICBpZiAoY21kICE9IG51bGwpIHtcbiAgICAgICAgZmlsdGVyID0gY21kLmdldEF1dG9jb21wbGV0ZUZpbHRlcigpO1xuICAgICAgfVxuICAgICAgZmlsZU5hbWVDb21wbGV0aW9ucyhhcmdzWzBdLCBhcmdzLCBmaWx0ZXIsIGNiKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYmFja3NwYWNlKGxlbmd0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgbGV0IGJhY2tzcGFjZVN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIFxcYiBkb2Vzbid0IGNsZWFyIHRoZSBjdXJyZW50IGNoYXJhY3Rlci5cbiAgICAgIC8vIEJhY2sgdXAgb25lIGNoYXJhY3RlciwgcmVwbGFjZSB3aXRoIG9uZSBzcGFjZSwgYmFjayB1cCBvbmUgbW9yZSB0aW1lLlxuICAgICAgYmFja3NwYWNlU3RyICs9IFwiXFxiIFxcYlwiO1xuICAgIH1cbiAgICB0aGlzLl90ZXJtaW5hbC53cml0ZShiYWNrc3BhY2VTdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIHNoZWxsIChpZiBkaXNhYmxlZCksIGFuZCBwcm9tcHRzIGZvciB1c2VyIGlucHV0LlxuICAgKi9cbiAgcHVibGljIHByb21wdCgpOiB2b2lkIHtcbiAgICAoPGFueT4gcHJvY2Vzcy5zdGRpbikuc2V0UmF3TW9kZShmYWxzZSk7XG4gICAgdGhpcy5fc2hlbGxFbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl90ZXJtaW5hbC53cml0ZShgJHt0aGlzLl9wcygpfSBgKTtcbiAgICB0aGlzLl9wc1ggPSB0aGlzLl9lbmRYID0gdGhpcy5fY3Vyc29yWCgpO1xuICAgIHRoaXMuX3BzWSA9IHRoaXMuX2VuZFkgPSB0aGlzLl9jdXJzb3JZKCk7XG4gICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLlNIT1dfQ1VSU09SKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZnRlciB0aGUgdXNlciBoYXMgZW50ZXJlZCB0ZXh0LCB1cGRhdGUgdGhlIHByb21wdCB0ZXh0XG4gICAqIHRvIHRoZSAqcmlnaHQqIG9mIHRoZSBjdXJzb3IuXG4gICAqL1xuICBwcml2YXRlIF91cGRhdGVQcm9tcHQoKTogdm9pZCB7XG4gICAgLy8gU2F2ZSBjdXJzb3IgcG9zaXRpb24uXG4gICAgLy8gSW5zZXJ0IHRleHQuXG4gICAgLy8gUmVzdG9yZSBjdXJzb3IgcG9zaXRpb24uXG4gICAgdGhpcy5fYm91bmRDdXJzb3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhbiB1cGRhdGVkIF9jb21tYW5kQnVmZmVyLCByZWRyYXcgdGhlIGV4aXN0aW5nIHByb21wdFxuICAgKiB3aXRoIHRoZSBjdXJzb3IgYXQgdGhlIGVuZCBvZiB0aGUgcHJvbXB0LlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVkcmF3UHJvbXB0KGNvbW1hbmQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuX3NoZWxsRW5hYmxlZCA9IHRydWU7XG4gICAgY29uc3Qgb2xkQ29tbWFuZCA9IHRoaXMuX2dldEVudGVyZWRUZXh0KCk7XG4gICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgdGhpcy5fZW5kWCwgdGhpcy5fZW5kWSkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQ29tbWFuZC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGRpbignXFxiJyk7XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLndyaXRlKGNvbW1hbmQpO1xuICAgIHRoaXMuX3VwZGF0ZUVuZExvY2F0aW9uKGNvbW1hbmQubGVuZ3RoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3RhYkNvbXBsZXRlKHJhdzogc3RyaW5nLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAvLyBUaGUgYXJndW1lbnQgd2UgYXJlIGNvbXBsZXRpbmcuXG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsO1xuICAgIGNvbnN0IGxhc3RBcmcgPSBfLmxhc3QoYXJncyk7XG4gICAgdGhpcy5nZXRDb21wbGV0aW9ucyhhcmdzLCAoY29tcGxldGlvbnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICBpZiAoY29tcGxldGlvbnMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IGNvbXBsZXRpb25zWzBdO1xuICAgICAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBjb21wbGV0aW9uO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gYXJncy5qb2luKFwiIFwiKSArICgoY29tcGxldGlvbltjb21wbGV0aW9uLmxlbmd0aCAtIDFdICE9PSAnLycpID8gJyAnIDogJycpO1xuICAgICAgICB0aGlzLl9yZWRyYXdQcm9tcHQoY29tbWFuZCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbXBsZXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IHByZWZpeCA9IGxvbmdlc3RDb21tbW9uUHJlZml4KGNvbXBsZXRpb25zKTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJycgfHwgcHJlZml4ID09PSBsYXN0QXJnKSB7XG4gICAgICAgICAgLy8gV2UndmUgbm8gbW9yZSBzdXJlIGNvbXBsZXRpb25zIHRvIGdpdmUsIHNvIHNob3cgYWxsIG9wdGlvbnMuXG4gICAgICAgICAgbGV0IGNvbW1vbkxlbiA9IGxhc3RBcmcubGFzdEluZGV4T2YoJy8nKSArIDE7XG4gICAgICAgICAgbGV0IG9wdGlvbnMgPSBjb21wbGV0aW9ucy5tYXAoKGMpID0+IGMuc2xpY2UoY29tbW9uTGVuKSk7XG4gICAgICAgICAgb3B0aW9ucy5zb3J0KCk7XG4gICAgICAgICAgdGhpcy5zdGRvdXQoYFxcbiR7Y29sdW1uaXplKG9wdGlvbnMsIHRlcm0uY29scyl9XFxuYCk7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHByb21wdCB3aXRoIHNhbWUgY29tbWFuZC5cbiAgICAgICAgICB0aGlzLnByb21wdCgpO1xuICAgICAgICAgIHRoaXMuX3JlZHJhd1Byb21wdChyYXcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9IHByZWZpeDtcbiAgICAgICAgICB0aGlzLl9yZWRyYXdQcm9tcHQoYXJncy5qb2luKFwiIFwiKSk7O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYigpO1xuICAgIH0pO1xuICB9XG59XG4iXX0=\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * xterm.js: xterm, in the browser\n\t * Copyright (c) 2014, sourceLair Limited (www.sourcelair.com (MIT License)\n\t * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n\t * https://github.com/chjj/term.js\n\t *\n\t * Permission is hereby granted, free of charge, to any person obtaining a copy\n\t * of this software and associated documentation files (the \"Software\"), to deal\n\t * in the Software without restriction, including without limitation the rights\n\t * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\t * copies of the Software, and to permit persons to whom the Software is\n\t * furnished to do so, subject to the following conditions:\n\t *\n\t * The above copyright notice and this permission notice shall be included in\n\t * all copies or substantial portions of the Software.\n\t *\n\t * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\t * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\t * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\t * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\t * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\t * THE SOFTWARE.\n\t *\n\t * Originally forked from (with the author's permission):\n\t *   Fabrice Bellard's javascript vt100 for jslinux:\n\t *   http://bellard.org/jslinux/\n\t *   Copyright (c) 2011 Fabrice Bellard\n\t *   The original design remains. The terminal itself\n\t *   has been extended to include xterm CSI codes, among\n\t *   other features.\n\t */\n\t\n\t(function (xterm) {\n\t    if (true) {\n\t        /*\n\t         * npm/nodejs project\n\t         */\n\t        module.exports = xterm.call(this);\n\t    } else if (typeof define == 'function') {\n\t        /*\n\t         * Require.js is available\n\t         */\n\t        define([], xterm.bind(window));\n\t    } else {\n\t        /*\n\t         * Plain browser environment\n\t         */\n\t        this.Xterm = xterm.call(this);\n\t        this.Terminal = this.Xterm; /* Backwards compatibility with term.js */\n\t    }\n\t})(function() {\n\t    /**\n\t     * Terminal Emulation References:\n\t     *   http://vt100.net/\n\t     *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.txt\n\t     *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n\t     *   http://invisible-island.net/vttest/\n\t     *   http://www.inwap.com/pdp10/ansicode.txt\n\t     *   http://linux.die.net/man/4/console_codes\n\t     *   http://linux.die.net/man/7/urxvt\n\t     */\n\t\n\t    'use strict';\n\t\n\t    /**\n\t     * Shared\n\t     */\n\t\n\t    var window = this, document = this.document;\n\t\n\t    /**\n\t     * EventEmitter\n\t     */\n\t\n\t    function EventEmitter() {\n\t      this._events = this._events || {};\n\t    }\n\t\n\t    EventEmitter.prototype.addListener = function(type, listener) {\n\t      this._events[type] = this._events[type] || [];\n\t      this._events[type].push(listener);\n\t    };\n\t\n\t    EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\t    EventEmitter.prototype.removeListener = function(type, listener) {\n\t      if (!this._events[type]) return;\n\t\n\t      var obj = this._events[type]\n\t        , i = obj.length;\n\t\n\t      while (i--) {\n\t        if (obj[i] === listener || obj[i].listener === listener) {\n\t          obj.splice(i, 1);\n\t          return;\n\t        }\n\t      }\n\t    };\n\t\n\t    EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\t\n\t    EventEmitter.prototype.removeAllListeners = function(type) {\n\t      if (this._events[type]) delete this._events[type];\n\t    };\n\t\n\t    EventEmitter.prototype.once = function(type, listener) {\n\t      function on() {\n\t        var args = Array.prototype.slice.call(arguments);\n\t        this.removeListener(type, on);\n\t        return listener.apply(this, args);\n\t      }\n\t      on.listener = listener;\n\t      return this.on(type, on);\n\t    };\n\t\n\t    EventEmitter.prototype.emit = function(type) {\n\t      if (!this._events[type]) return;\n\t\n\t      var args = Array.prototype.slice.call(arguments, 1)\n\t        , obj = this._events[type]\n\t        , l = obj.length\n\t        , i = 0;\n\t\n\t      for (; i < l; i++) {\n\t        obj[i].apply(this, args);\n\t      }\n\t    };\n\t\n\t    EventEmitter.prototype.listeners = function(type) {\n\t      return this._events[type] = this._events[type] || [];\n\t    };\n\t\n\t\n\t    /**\n\t     * States\n\t     */\n\t    var normal = 0, escaped = 1, csi = 2, osc = 3, charset = 4, dcs = 5, ignore = 6;\n\t\n\t    /**\n\t     * Terminal\n\t     */\n\t\n\t    function Terminal(options) {\n\t      var self = this;\n\t\n\t      if (!(this instanceof Terminal)) {\n\t        return new Terminal(arguments[0], arguments[1], arguments[2]);\n\t      }\n\t\n\t      self.cancel = Terminal.cancel;\n\t\n\t      EventEmitter.call(this);\n\t\n\t      if (typeof options === 'number') {\n\t        options = {\n\t          cols: arguments[0],\n\t          rows: arguments[1],\n\t          handler: arguments[2]\n\t        };\n\t      }\n\t\n\t      options = options || {};\n\t\n\t\n\t      Object.keys(Terminal.defaults).forEach(function(key) {\n\t        if (options[key] == null) {\n\t          options[key] = Terminal.options[key];\n\t\n\t          if (Terminal[key] !== Terminal.defaults[key]) {\n\t            options[key] = Terminal[key];\n\t          }\n\t        }\n\t        self[key] = options[key];\n\t      });\n\t\n\t      if (options.colors.length === 8) {\n\t        options.colors = options.colors.concat(Terminal._colors.slice(8));\n\t      } else if (options.colors.length === 16) {\n\t        options.colors = options.colors.concat(Terminal._colors.slice(16));\n\t      } else if (options.colors.length === 10) {\n\t        options.colors = options.colors.slice(0, -2).concat(\n\t          Terminal._colors.slice(8, -2), options.colors.slice(-2));\n\t      } else if (options.colors.length === 18) {\n\t        options.colors = options.colors.concat(\n\t          Terminal._colors.slice(16, -2), options.colors.slice(-2));\n\t      }\n\t      this.colors = options.colors;\n\t\n\t      this.options = options;\n\t\n\t      // this.context = options.context || window;\n\t      // this.document = options.document || document;\n\t      this.parent = options.body || options.parent\n\t        || (document ? document.getElementsByTagName('body')[0] : null);\n\t\n\t      this.cols = options.cols || options.geometry[0];\n\t      this.rows = options.rows || options.geometry[1];\n\t\n\t      if (options.handler) {\n\t        this.on('data', options.handler);\n\t      }\n\t\n\t      this.ybase = 0;\n\t      this.ydisp = 0;\n\t      this.x = 0;\n\t      this.y = 0;\n\t      this.cursorState = 0;\n\t      this.cursorHidden = false;\n\t      this.convertEol;\n\t      this.state = 0;\n\t      this.queue = '';\n\t      this.scrollTop = 0;\n\t      this.scrollBottom = this.rows - 1;\n\t\n\t      // modes\n\t      this.applicationKeypad = false;\n\t      this.applicationCursor = false;\n\t      this.originMode = false;\n\t      this.insertMode = false;\n\t      this.wraparoundMode = false;\n\t      this.normal = null;\n\t\n\t      // charset\n\t      this.charset = null;\n\t      this.gcharset = null;\n\t      this.glevel = 0;\n\t      this.charsets = [null];\n\t\n\t      // mouse properties\n\t      this.decLocator;\n\t      this.x10Mouse;\n\t      this.vt200Mouse;\n\t      this.vt300Mouse;\n\t      this.normalMouse;\n\t      this.mouseEvents;\n\t      this.sendFocus;\n\t      this.utfMouse;\n\t      this.sgrMouse;\n\t      this.urxvtMouse;\n\t\n\t      // misc\n\t      this.element;\n\t      this.children;\n\t      this.refreshStart;\n\t      this.refreshEnd;\n\t      this.savedX;\n\t      this.savedY;\n\t      this.savedCols;\n\t\n\t      // stream\n\t      this.readable = true;\n\t      this.writable = true;\n\t\n\t      this.defAttr = (0 << 18) | (257 << 9) | (256 << 0);\n\t      this.curAttr = this.defAttr;\n\t\n\t      this.params = [];\n\t      this.currentParam = 0;\n\t      this.prefix = '';\n\t      this.postfix = '';\n\t\n\t      this.lines = [];\n\t      var i = this.rows;\n\t      while (i--) {\n\t        this.lines.push(this.blankLine());\n\t      }\n\t\n\t      this.tabs;\n\t      this.setupStops();\n\t    }\n\t\n\t    inherits(Terminal, EventEmitter);\n\t\n\t    // back_color_erase feature for xterm.\n\t    Terminal.prototype.eraseAttr = function() {\n\t      // if (this.is('screen')) return this.defAttr;\n\t      return (this.defAttr & ~0x1ff) | (this.curAttr & 0x1ff);\n\t    };\n\t\n\t    /**\n\t     * Colors\n\t     */\n\t\n\t    // Colors 0-15\n\t    Terminal.tangoColors = [\n\t      // dark:\n\t      '#2e3436',\n\t      '#cc0000',\n\t      '#4e9a06',\n\t      '#c4a000',\n\t      '#3465a4',\n\t      '#75507b',\n\t      '#06989a',\n\t      '#d3d7cf',\n\t      // bright:\n\t      '#555753',\n\t      '#ef2929',\n\t      '#8ae234',\n\t      '#fce94f',\n\t      '#729fcf',\n\t      '#ad7fa8',\n\t      '#34e2e2',\n\t      '#eeeeec'\n\t    ];\n\t\n\t    // Colors 0-15 + 16-255\n\t    // Much thanks to TooTallNate for writing this.\n\t    Terminal.colors = (function() {\n\t      var colors = Terminal.tangoColors.slice()\n\t        , r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff]\n\t        , i;\n\t\n\t      // 16-231\n\t      i = 0;\n\t      for (; i < 216; i++) {\n\t        out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);\n\t      }\n\t\n\t      // 232-255 (grey)\n\t      i = 0;\n\t      for (; i < 24; i++) {\n\t        r = 8 + i * 10;\n\t        out(r, r, r);\n\t      }\n\t\n\t      function out(r, g, b) {\n\t        colors.push('#' + hex(r) + hex(g) + hex(b));\n\t      }\n\t\n\t      function hex(c) {\n\t        c = c.toString(16);\n\t        return c.length < 2 ? '0' + c : c;\n\t      }\n\t\n\t      return colors;\n\t    })();\n\t\n\t    Terminal._colors = Terminal.colors.slice();\n\t\n\t    Terminal.vcolors = (function() {\n\t      var out = []\n\t        , colors = Terminal.colors\n\t        , i = 0\n\t        , color;\n\t\n\t      for (; i < 256; i++) {\n\t        color = parseInt(colors[i].substring(1), 16);\n\t        out.push([\n\t          (color >> 16) & 0xff,\n\t          (color >> 8) & 0xff,\n\t          color & 0xff\n\t        ]);\n\t      }\n\t\n\t      return out;\n\t    })();\n\t\n\t    /**\n\t     * Options\n\t     */\n\t\n\t    Terminal.defaults = {\n\t      colors: Terminal.colors,\n\t      theme: 'default',\n\t      convertEol: false,\n\t      termName: 'xterm',\n\t      geometry: [80, 24],\n\t      cursorBlink: false,\n\t      visualBell: false,\n\t      popOnBell: false,\n\t      scrollback: 1000,\n\t      screenKeys: false,\n\t      debug: false,\n\t      cancelEvents: false\n\t      // programFeatures: false,\n\t      // focusKeys: false,\n\t    };\n\t\n\t    Terminal.options = {};\n\t\n\t    Terminal.focus = null;\n\t\n\t    each(keys(Terminal.defaults), function(key) {\n\t      Terminal[key] = Terminal.defaults[key];\n\t      Terminal.options[key] = Terminal.defaults[key];\n\t    });\n\t\n\t    /**\n\t     * Focused Terminal\n\t     */\n\t    Terminal.prototype.focus = function() {\n\t      if (document.activeElement === this.textarea) {\n\t        return;\n\t      }\n\t\n\t      if (this.sendFocus) {\n\t        this.send('\\x1b[I');\n\t      }\n\t\n\t      this.showCursor();\n\t      this.textarea.focus();\n\t      Terminal.focus = this;\n\t    };\n\t\n\t    Terminal.prototype.blur = function() {\n\t      if (Terminal.focus !== this) {\n\t        return;\n\t      }\n\t\n\t      this.cursorState = 0;\n\t      this.refresh(this.y, this.y);\n\t      this.textarea.blur();\n\t\n\t      if (this.sendFocus) {\n\t        this.send('\\x1b[O');\n\t      }\n\t      Terminal.focus = null;\n\t    };\n\t\n\t    /**\n\t     * Initialize default behavior\n\t     */\n\t\n\t    Terminal.prototype.initGlobal = function() {\n\t      Terminal.bindPaste(this);\n\t      Terminal.bindKeys(this);\n\t      Terminal.bindCopy(this);\n\t    };\n\t\n\t    /**\n\t     * Bind to paste event\n\t     */\n\t    Terminal.bindPaste = function(term) {\n\t      on([term.textarea, term.element], 'paste', function(ev) {\n\t        ev.stopPropagation();\n\t        if (ev.clipboardData) {\n\t          var text = ev.clipboardData.getData('text/plain');\n\t          term.handler(text);\n\t        }\n\t        term.textarea.value = '';\n\t        return term.cancel(ev);\n\t      });\n\t    };\n\t\n\t\n\t    /*\n\t     * Apply key handling to the terminal\n\t     */\n\t    Terminal.bindKeys = function(term) {\n\t      on(term.element, 'keydown', function(ev) {\n\t        if (document.activeElement != this) {\n\t          return;\n\t        }\n\t        term.keyDown(ev);\n\t      }, true);\n\t\n\t      on(term.element, 'keypress', function(ev) {\n\t        if (document.activeElement != this) {\n\t          return;\n\t        }\n\t        term.keyPress(ev);\n\t      }, true);\n\t\n\t      on(term.element, 'keyup', term.focus.bind(term));\n\t\n\t      on(term.textarea, 'keydown', function(ev) {\n\t        term.keyDown(ev);\n\t      }, true);\n\t\n\t      on(term.textarea, 'keypress', function(ev) {\n\t        term.keyPress(ev);\n\t\n\t        /*\n\t        * Truncate the textarea's value, since it is not needed\n\t        */\n\t        this.value = '';\n\t      }, true);\n\t    };\n\t\n\t\n\t    /*\n\t     * Bind copy event\n\t     */\n\t    Terminal.bindCopy = function(term) {\n\t      on(term.element, 'copy', function(ev) {\n\t        return; //temporary\n\t      });\n\t    };\n\t\n\t\n\t    /*\n\t     * Insert the given row to the terminal or produce a new one\n\t     * if no row argument is passed. Return the inserted row.\n\t     */\n\t    Terminal.prototype.insertRow = function (row) {\n\t      if (typeof row != 'object') {\n\t        row = document.createElement('div');\n\t      }\n\t\n\t      this.rowContainer.appendChild(row);\n\t      this.children.push(row);\n\t\n\t      return row;\n\t    }\n\t\n\t\n\t    /*\n\t     * Open Terminal in the DOM\n\t     */\n\t    Terminal.prototype.open = function(parent) {\n\t      var self=this, i=0, div;\n\t\n\t      this.parent = parent || this.parent;\n\t\n\t      if (!this.parent) {\n\t        throw new Error('Terminal requires a parent element.');\n\t      }\n\t\n\t      /*\n\t      * Grab global elements\n\t      */\n\t      this.context = this.parent.ownerDocument.defaultView;\n\t      this.document = this.parent.ownerDocument;\n\t      this.body = this.document.getElementsByTagName('body')[0];\n\t\n\t      /*\n\t      * Parse User-Agent\n\t      */\n\t      if (this.context.navigator && this.context.navigator.userAgent) {\n\t        this.isMac = !!~this.context.navigator.userAgent.indexOf('Mac');\n\t        this.isIpad = !!~this.context.navigator.userAgent.indexOf('iPad');\n\t        this.isIphone = !!~this.context.navigator.userAgent.indexOf('iPhone');\n\t        this.isMSIE = !!~this.context.navigator.userAgent.indexOf('MSIE');\n\t      }\n\t\n\t      /*\n\t      * Create main element container\n\t      */\n\t      this.element = this.document.createElement('div');\n\t      this.element.classList.add('terminal');\n\t      this.element.classList.add('xterm');\n\t      this.element.classList.add('xterm-theme-' + this.theme);\n\t      this.element.setAttribute('tabindex', 0);\n\t\n\t      /*\n\t      * Create the container that will hold the lines of the terminal and then\n\t      * produce the lines the lines.\n\t      */\n\t      this.rowContainer = document.createElement('div');\n\t      this.rowContainer.classList.add('xterm-rows');\n\t      this.element.appendChild(this.rowContainer);\n\t      this.children = [];\n\t\n\t      /*\n\t      * Create the container that will hold helpers like the textarea for\n\t      * capturing DOM Events. Then produce the helpers.\n\t      */\n\t      this.helperContainer = document.createElement('div');\n\t      this.helperContainer.classList.add('xterm-helpers');\n\t      this.element.appendChild(this.helperContainer);\n\t      this.textarea = document.createElement('textarea');\n\t      this.textarea.classList.add('xterm-helper-textarea');\n\t      this.textarea.setAttribute('autocorrect', 'off');\n\t      this.textarea.setAttribute('autocapitalize', 'off');\n\t      this.textarea.setAttribute('spellcheck', 'false');\n\t      this.textarea.tabIndex = 0;\n\t      this.textarea.onfocus = function() {\n\t        self.emit('focus', {terminal: self});\n\t      }\n\t      this.textarea.onblur = function() {\n\t        self.emit('blur', {terminal: self});\n\t      }\n\t      this.helperContainer.appendChild(this.textarea);\n\t\n\t      for (; i < this.rows; i++) {\n\t        this.insertRow();\n\t      }\n\t      this.parent.appendChild(this.element);\n\t\n\t      // Draw the screen.\n\t      this.refresh(0, this.rows - 1);\n\t\n\t      // Initialize global actions that\n\t      // need to be taken on the document.\n\t      this.initGlobal();\n\t\n\t      // Ensure there is a Terminal.focus.\n\t      this.focus();\n\t\n\t      // Start blinking the cursor.\n\t      this.startBlink();\n\t\n\t      on(this.element, 'mouseup', function() {\n\t        var selection = document.getSelection(),\n\t            collapsed = selection.isCollapsed,\n\t            isRange = typeof collapsed == 'boolean' ? !collapsed : selection.type == 'Range';\n\t        if (!isRange) {\n\t          self.focus();\n\t        }\n\t      });\n\t\n\t      // Listen for mouse events and translate\n\t      // them into terminal mouse protocols.\n\t      this.bindMouse();\n\t\n\t      // Figure out whether boldness affects\n\t      // the character width of monospace fonts.\n\t      if (Terminal.brokenBold == null) {\n\t        Terminal.brokenBold = isBoldBroken(this.document);\n\t      }\n\t\n\t      this.emit('open');\n\t    };\n\t\n\t    // XTerm mouse events\n\t    // http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\n\t    // To better understand these\n\t    // the xterm code is very helpful:\n\t    // Relevant files:\n\t    //   button.c, charproc.c, misc.c\n\t    // Relevant functions in xterm/button.c:\n\t    //   BtnCode, EmitButtonCode, EditorButton, SendMousePosition\n\t    Terminal.prototype.bindMouse = function() {\n\t      var el = this.element\n\t        , self = this\n\t        , pressed = 32;\n\t\n\t      var wheelEvent = 'onmousewheel' in this.context\n\t        ? 'mousewheel'\n\t        : 'DOMMouseScroll';\n\t\n\t      // mouseup, mousedown, mousewheel\n\t      // left click: ^[[M 3<^[[M#3<\n\t      // mousewheel up: ^[[M`3>\n\t      function sendButton(ev) {\n\t        var button\n\t          , pos;\n\t\n\t        // get the xterm-style button\n\t        button = getButton(ev);\n\t\n\t        // get mouse coordinates\n\t        pos = getCoords(ev);\n\t        if (!pos) return;\n\t\n\t        sendEvent(button, pos);\n\t\n\t        switch (ev.type) {\n\t          case 'mousedown':\n\t            pressed = button;\n\t            break;\n\t          case 'mouseup':\n\t            // keep it at the left\n\t            // button, just in case.\n\t            pressed = 32;\n\t            break;\n\t          case wheelEvent:\n\t            // nothing. don't\n\t            // interfere with\n\t            // `pressed`.\n\t            break;\n\t        }\n\t      }\n\t\n\t      // motion example of a left click:\n\t      // ^[[M 3<^[[M@4<^[[M@5<^[[M@6<^[[M@7<^[[M#7<\n\t      function sendMove(ev) {\n\t        var button = pressed\n\t          , pos;\n\t\n\t        pos = getCoords(ev);\n\t        if (!pos) return;\n\t\n\t        // buttons marked as motions\n\t        // are incremented by 32\n\t        button += 32;\n\t\n\t        sendEvent(button, pos);\n\t      }\n\t\n\t      // encode button and\n\t      // position to characters\n\t      function encode(data, ch) {\n\t        if (!self.utfMouse) {\n\t          if (ch === 255) return data.push(0);\n\t          if (ch > 127) ch = 127;\n\t          data.push(ch);\n\t        } else {\n\t          if (ch === 2047) return data.push(0);\n\t          if (ch < 127) {\n\t            data.push(ch);\n\t          } else {\n\t            if (ch > 2047) ch = 2047;\n\t            data.push(0xC0 | (ch >> 6));\n\t            data.push(0x80 | (ch & 0x3F));\n\t          }\n\t        }\n\t      }\n\t\n\t      // send a mouse event:\n\t      // regular/utf8: ^[[M Cb Cx Cy\n\t      // urxvt: ^[[ Cb ; Cx ; Cy M\n\t      // sgr: ^[[ Cb ; Cx ; Cy M/m\n\t      // vt300: ^[[ 24(1/3/5)~ [ Cx , Cy ] \\r\n\t      // locator: CSI P e ; P b ; P r ; P c ; P p & w\n\t      function sendEvent(button, pos) {\n\t        // self.emit('mouse', {\n\t        //   x: pos.x - 32,\n\t        //   y: pos.x - 32,\n\t        //   button: button\n\t        // });\n\t\n\t        if (self.vt300Mouse) {\n\t          // NOTE: Unstable.\n\t          // http://www.vt100.net/docs/vt3xx-gp/chapter15.html\n\t          button &= 3;\n\t          pos.x -= 32;\n\t          pos.y -= 32;\n\t          var data = '\\x1b[24';\n\t          if (button === 0) data += '1';\n\t          else if (button === 1) data += '3';\n\t          else if (button === 2) data += '5';\n\t          else if (button === 3) return;\n\t          else data += '0';\n\t          data += '~[' + pos.x + ',' + pos.y + ']\\r';\n\t          self.send(data);\n\t          return;\n\t        }\n\t\n\t        if (self.decLocator) {\n\t          // NOTE: Unstable.\n\t          button &= 3;\n\t          pos.x -= 32;\n\t          pos.y -= 32;\n\t          if (button === 0) button = 2;\n\t          else if (button === 1) button = 4;\n\t          else if (button === 2) button = 6;\n\t          else if (button === 3) button = 3;\n\t          self.send('\\x1b['\n\t            + button\n\t            + ';'\n\t            + (button === 3 ? 4 : 0)\n\t            + ';'\n\t            + pos.y\n\t            + ';'\n\t            + pos.x\n\t            + ';'\n\t            + (pos.page || 0)\n\t            + '&w');\n\t          return;\n\t        }\n\t\n\t        if (self.urxvtMouse) {\n\t          pos.x -= 32;\n\t          pos.y -= 32;\n\t          pos.x++;\n\t          pos.y++;\n\t          self.send('\\x1b[' + button + ';' + pos.x + ';' + pos.y + 'M');\n\t          return;\n\t        }\n\t\n\t        if (self.sgrMouse) {\n\t          pos.x -= 32;\n\t          pos.y -= 32;\n\t          self.send('\\x1b[<'\n\t            + ((button & 3) === 3 ? button & ~3 : button)\n\t            + ';'\n\t            + pos.x\n\t            + ';'\n\t            + pos.y\n\t            + ((button & 3) === 3 ? 'm' : 'M'));\n\t          return;\n\t        }\n\t\n\t        var data = [];\n\t\n\t        encode(data, button);\n\t        encode(data, pos.x);\n\t        encode(data, pos.y);\n\t\n\t        self.send('\\x1b[M' + String.fromCharCode.apply(String, data));\n\t      }\n\t\n\t      function getButton(ev) {\n\t        var button\n\t          , shift\n\t          , meta\n\t          , ctrl\n\t          , mod;\n\t\n\t        // two low bits:\n\t        // 0 = left\n\t        // 1 = middle\n\t        // 2 = right\n\t        // 3 = release\n\t        // wheel up/down:\n\t        // 1, and 2 - with 64 added\n\t        switch (ev.type) {\n\t          case 'mousedown':\n\t            button = ev.button != null\n\t              ? +ev.button\n\t              : ev.which != null\n\t                ? ev.which - 1\n\t                : null;\n\t\n\t            if (self.isMSIE) {\n\t              button = button === 1 ? 0 : button === 4 ? 1 : button;\n\t            }\n\t            break;\n\t          case 'mouseup':\n\t            button = 3;\n\t            break;\n\t          case 'DOMMouseScroll':\n\t            button = ev.detail < 0\n\t              ? 64\n\t              : 65;\n\t            break;\n\t          case 'mousewheel':\n\t            button = ev.wheelDeltaY > 0\n\t              ? 64\n\t              : 65;\n\t            break;\n\t        }\n\t\n\t        // next three bits are the modifiers:\n\t        // 4 = shift, 8 = meta, 16 = control\n\t        shift = ev.shiftKey ? 4 : 0;\n\t        meta = ev.metaKey ? 8 : 0;\n\t        ctrl = ev.ctrlKey ? 16 : 0;\n\t        mod = shift | meta | ctrl;\n\t\n\t        // no mods\n\t        if (self.vt200Mouse) {\n\t          // ctrl only\n\t          mod &= ctrl;\n\t        } else if (!self.normalMouse) {\n\t          mod = 0;\n\t        }\n\t\n\t        // increment to SP\n\t        button = (32 + (mod << 2)) + button;\n\t\n\t        return button;\n\t      }\n\t\n\t      // mouse coordinates measured in cols/rows\n\t      function getCoords(ev) {\n\t        var x, y, w, h, el;\n\t\n\t        // ignore browsers without pageX for now\n\t        if (ev.pageX == null) return;\n\t\n\t        x = ev.pageX;\n\t        y = ev.pageY;\n\t        el = self.element;\n\t\n\t        // should probably check offsetParent\n\t        // but this is more portable\n\t        while (el && el !== self.document.documentElement) {\n\t          x -= el.offsetLeft;\n\t          y -= el.offsetTop;\n\t          el = 'offsetParent' in el\n\t            ? el.offsetParent\n\t            : el.parentNode;\n\t        }\n\t\n\t        // convert to cols/rows\n\t        w = self.element.clientWidth;\n\t        h = self.element.clientHeight;\n\t        x = Math.round((x / w) * self.cols);\n\t        y = Math.round((y / h) * self.rows);\n\t\n\t        // be sure to avoid sending\n\t        // bad positions to the program\n\t        if (x < 0) x = 0;\n\t        if (x > self.cols) x = self.cols;\n\t        if (y < 0) y = 0;\n\t        if (y > self.rows) y = self.rows;\n\t\n\t        // xterm sends raw bytes and\n\t        // starts at 32 (SP) for each.\n\t        x += 32;\n\t        y += 32;\n\t\n\t        return {\n\t          x: x,\n\t          y: y,\n\t          type: ev.type === wheelEvent\n\t            ? 'mousewheel'\n\t            : ev.type\n\t        };\n\t      }\n\t\n\t      on(el, 'mousedown', function(ev) {\n\t        if (!self.mouseEvents) return;\n\t\n\t        // send the button\n\t        sendButton(ev);\n\t\n\t        // ensure focus\n\t        self.focus();\n\t\n\t        // fix for odd bug\n\t        //if (self.vt200Mouse && !self.normalMouse) {\n\t        if (self.vt200Mouse) {\n\t          sendButton({ __proto__: ev, type: 'mouseup' });\n\t          return self.cancel(ev);\n\t        }\n\t\n\t        // bind events\n\t        if (self.normalMouse) on(self.document, 'mousemove', sendMove);\n\t\n\t        // x10 compatibility mode can't send button releases\n\t        if (!self.x10Mouse) {\n\t          on(self.document, 'mouseup', function up(ev) {\n\t            sendButton(ev);\n\t            if (self.normalMouse) off(self.document, 'mousemove', sendMove);\n\t            off(self.document, 'mouseup', up);\n\t            return self.cancel(ev);\n\t          });\n\t        }\n\t\n\t        return self.cancel(ev);\n\t      });\n\t\n\t      //if (self.normalMouse) {\n\t      //  on(self.document, 'mousemove', sendMove);\n\t      //}\n\t\n\t      on(el, wheelEvent, function(ev) {\n\t        if (!self.mouseEvents) return;\n\t        if (self.x10Mouse\n\t            || self.vt300Mouse\n\t            || self.decLocator) return;\n\t        sendButton(ev);\n\t        return self.cancel(ev);\n\t      });\n\t\n\t      // allow mousewheel scrolling in\n\t      // the shell for example\n\t      on(el, wheelEvent, function(ev) {\n\t        if (self.mouseEvents) return;\n\t        if (self.applicationKeypad) return;\n\t        if (ev.type === 'DOMMouseScroll') {\n\t          self.scrollDisp(ev.detail < 0 ? -1 : 1);\n\t        } else {\n\t          self.scrollDisp(ev.wheelDeltaY > 0 ? -1 : 1);\n\t        }\n\t        return self.cancel(ev);\n\t      });\n\t    };\n\t\n\t    /**\n\t     * Destroy Terminal\n\t     */\n\t\n\t    Terminal.prototype.destroy = function() {\n\t      this.readable = false;\n\t      this.writable = false;\n\t      this._events = {};\n\t      this.handler = function() {};\n\t      this.write = function() {};\n\t      if (this.element.parentNode) {\n\t        this.element.parentNode.removeChild(this.element);\n\t      }\n\t      //this.emit('close');\n\t    };\n\t\n\t\n\t    /*\n\t     * Rendering Engine\n\t     *\n\t     * In the screen buffer, each character\n\t     * is stored as a an array with a character\n\t     * and a 32-bit integer.\n\t     * First value: a utf-16 character.\n\t     * Second value:\n\t     * Next 9 bits: background color (0-511).\n\t     * Next 9 bits: foreground color (0-511).\n\t     * Next 14 bits: a mask for misc. flags:\n\t     *   1=bold, 2=underline, 4=blink, 8=inverse, 16=invisible\n\t    */\n\t    Terminal.prototype.refresh = function(start, end) {\n\t      var x, y, i, line, out, ch, width, data, attr, bg, fg, flags, row, parent, focused = document.activeElement;\n\t\n\t      if (end - start >= this.rows / 2) {\n\t        parent = this.element.parentNode;\n\t        if (parent) parent.removeChild(this.element);\n\t      }\n\t\n\t      width = this.cols;\n\t      y = start;\n\t\n\t      if (end >= this.lines.length) {\n\t        this.log('`end` is too large. Most likely a bad CSR.');\n\t        end = this.lines.length - 1;\n\t      }\n\t\n\t      for (; y <= end; y++) {\n\t        row = y + this.ydisp;\n\t\n\t        line = this.lines[row];\n\t        out = '';\n\t\n\t        if (y === this.y\n\t            && this.cursorState\n\t            && (this.ydisp === this.ybase)\n\t            && !this.cursorHidden) {\n\t          x = this.x;\n\t        } else {\n\t          x = -1;\n\t        }\n\t\n\t        attr = this.defAttr;\n\t        i = 0;\n\t\n\t        for (; i < width; i++) {\n\t          data = line[i][0];\n\t          ch = line[i][1];\n\t\n\t          if (i === x) data = -1;\n\t\n\t          if (data !== attr) {\n\t            if (attr !== this.defAttr) {\n\t              out += '</span>';\n\t            }\n\t            if (data !== this.defAttr) {\n\t              if (data === -1) {\n\t                out += '<span class=\"reverse-video terminal-cursor\">';\n\t              } else {\n\t                out += '<span class=\"';\n\t\n\t                bg = data & 0x1ff;\n\t                fg = (data >> 9) & 0x1ff;\n\t                flags = data >> 18;\n\t\n\t                // bold\n\t                if (flags & 1) {\n\t                  if (!Terminal.brokenBold) {\n\t                    out += ' xterm-bold ';\n\t                  }\n\t                  // See: XTerm*boldColors\n\t                  if (fg < 8) fg += 8;\n\t                }\n\t\n\t                // underline\n\t                if (flags & 2) {\n\t                  out += ' xterm-underline ';\n\t                }\n\t\n\t                // blink\n\t                if (flags & 4) {\n\t                    out += ' xterm-blink ';\n\t                }\n\t\n\t                // inverse\n\t                if (flags & 8) {\n\t                  bg = (data >> 9) & 0x1ff;\n\t                  fg = data & 0x1ff;\n\t                  // Should inverse just be before the\n\t                  // above boldColors effect instead?\n\t                  if ((flags & 1) && fg < 8) fg += 8;\n\t                }\n\t\n\t                // invisible\n\t                if (flags & 16) {\n\t                  out += ' xterm-hidden ';\n\t                }\n\t\n\t                if (bg !== 256) {\n\t                  out += ' xterm-bg-color-' + bg + ' ';\n\t                }\n\t\n\t                if (fg !== 257) {\n\t                  out += ' xterm-color-' + fg + ' ';\n\t                }\n\t\n\t                out += '\">';\n\t              }\n\t            }\n\t          }\n\t\n\t          switch (ch) {\n\t            case '&':\n\t              out += '&amp;';\n\t              break;\n\t            case '<':\n\t              out += '&lt;';\n\t              break;\n\t            case '>':\n\t              out += '&gt;';\n\t              break;\n\t            default:\n\t              if (ch <= ' ') {\n\t                out += '&nbsp;';\n\t              } else {\n\t                if (isWide(ch)) i++;\n\t                out += ch;\n\t              }\n\t              break;\n\t          }\n\t\n\t          attr = data;\n\t        }\n\t\n\t        if (attr !== this.defAttr) {\n\t          out += '</span>';\n\t        }\n\t\n\t        this.children[y].innerHTML = out;\n\t      }\n\t\n\t      if (parent) {\n\t        parent.appendChild(this.element);\n\t      }\n\t\n\t      /*\n\t      *  Return focus to previously focused element\n\t      */\n\t      focused.focus();\n\t      this.emit('refresh', {element: this.element, start: start, end: end});\n\t    };\n\t\n\t    Terminal.prototype._cursorBlink = function() {\n\t      if (Terminal.focus !== this) return;\n\t      this.cursorState ^= 1;\n\t      this.refresh(this.y, this.y);\n\t    };\n\t\n\t    Terminal.prototype.showCursor = function() {\n\t      if (!this.cursorState) {\n\t        this.cursorState = 1;\n\t        this.refresh(this.y, this.y);\n\t      } else {\n\t        // Temporarily disabled:\n\t        // this.refreshBlink();\n\t      }\n\t    };\n\t\n\t    Terminal.prototype.startBlink = function() {\n\t      if (!this.cursorBlink) return;\n\t      var self = this;\n\t      this._blinker = function() {\n\t        self._cursorBlink();\n\t      };\n\t      this._blink = setInterval(this._blinker, 500);\n\t    };\n\t\n\t    Terminal.prototype.refreshBlink = function() {\n\t      if (!this.cursorBlink) return;\n\t      clearInterval(this._blink);\n\t      this._blink = setInterval(this._blinker, 500);\n\t    };\n\t\n\t    Terminal.prototype.scroll = function() {\n\t      var row;\n\t\n\t      if (++this.ybase === this.scrollback) {\n\t        this.ybase = this.ybase / 2 | 0;\n\t        this.lines = this.lines.slice(-(this.ybase + this.rows) + 1);\n\t      }\n\t\n\t      this.ydisp = this.ybase;\n\t\n\t      // last line\n\t      row = this.ybase + this.rows - 1;\n\t\n\t      // subtract the bottom scroll region\n\t      row -= this.rows - 1 - this.scrollBottom;\n\t\n\t      if (row === this.lines.length) {\n\t        // potential optimization:\n\t        // pushing is faster than splicing\n\t        // when they amount to the same\n\t        // behavior.\n\t        this.lines.push(this.blankLine());\n\t      } else {\n\t        // add our new line\n\t        this.lines.splice(row, 0, this.blankLine());\n\t      }\n\t\n\t      if (this.scrollTop !== 0) {\n\t        if (this.ybase !== 0) {\n\t          this.ybase--;\n\t          this.ydisp = this.ybase;\n\t        }\n\t        this.lines.splice(this.ybase + this.scrollTop, 1);\n\t      }\n\t\n\t      // this.maxRange();\n\t      this.updateRange(this.scrollTop);\n\t      this.updateRange(this.scrollBottom);\n\t    };\n\t\n\t    Terminal.prototype.scrollDisp = function(disp) {\n\t      this.ydisp += disp;\n\t\n\t      if (this.ydisp > this.ybase) {\n\t        this.ydisp = this.ybase;\n\t      } else if (this.ydisp < 0) {\n\t        this.ydisp = 0;\n\t      }\n\t\n\t      this.refresh(0, this.rows - 1);\n\t    };\n\t\n\t    Terminal.prototype.write = function(data) {\n\t      var l = data.length, i = 0, j, cs, ch;\n\t\n\t      this.refreshStart = this.y;\n\t      this.refreshEnd = this.y;\n\t\n\t      if (this.ybase !== this.ydisp) {\n\t        this.ydisp = this.ybase;\n\t        this.maxRange();\n\t      }\n\t\n\t      for (; i < l; i++) {\n\t        ch = data[i];\n\t        switch (this.state) {\n\t          case normal:\n\t            switch (ch) {\n\t              case '\\x07':\n\t                this.bell();\n\t                break;\n\t\n\t              // '\\n', '\\v', '\\f'\n\t              case '\\n':\n\t              case '\\x0b':\n\t              case '\\x0c':\n\t                if (this.convertEol) {\n\t                  this.x = 0;\n\t                }\n\t                this.y++;\n\t                if (this.y > this.scrollBottom) {\n\t                  this.y--;\n\t                  this.scroll();\n\t                }\n\t                break;\n\t\n\t              // '\\r'\n\t              case '\\r':\n\t                this.x = 0;\n\t                break;\n\t\n\t              // '\\b'\n\t              case '\\x08':\n\t                if (this.x > 0) {\n\t                  this.x--;\n\t                }\n\t                break;\n\t\n\t              // '\\t'\n\t              case '\\t':\n\t                this.x = this.nextStop();\n\t                break;\n\t\n\t              // shift out\n\t              case '\\x0e':\n\t                this.setgLevel(1);\n\t                break;\n\t\n\t              // shift in\n\t              case '\\x0f':\n\t                this.setgLevel(0);\n\t                break;\n\t\n\t              // '\\e'\n\t              case '\\x1b':\n\t                this.state = escaped;\n\t                break;\n\t\n\t              default:\n\t                // ' '\n\t                if (ch >= ' ') {\n\t                  if (this.charset && this.charset[ch]) {\n\t                    ch = this.charset[ch];\n\t                  }\n\t\n\t                  if (this.x >= this.cols) {\n\t                    this.x = 0;\n\t                    this.y++;\n\t                    if (this.y > this.scrollBottom) {\n\t                      this.y--;\n\t                      this.scroll();\n\t                    }\n\t                  }\n\t\n\t                  this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];\n\t                  this.x++;\n\t                  this.updateRange(this.y);\n\t\n\t                  if (isWide(ch)) {\n\t                    j = this.y + this.ybase;\n\t                    if (this.cols < 2 || this.x >= this.cols) {\n\t                      this.lines[j][this.x - 1] = [this.curAttr, ' '];\n\t                      break;\n\t                    }\n\t                    this.lines[j][this.x] = [this.curAttr, ' '];\n\t                    this.x++;\n\t                  }\n\t                }\n\t                break;\n\t            }\n\t            break;\n\t          case escaped:\n\t            switch (ch) {\n\t              // ESC [ Control Sequence Introducer ( CSI is 0x9b).\n\t              case '[':\n\t                this.params = [];\n\t                this.currentParam = 0;\n\t                this.state = csi;\n\t                break;\n\t\n\t              // ESC ] Operating System Command ( OSC is 0x9d).\n\t              case ']':\n\t                this.params = [];\n\t                this.currentParam = 0;\n\t                this.state = osc;\n\t                break;\n\t\n\t              // ESC P Device Control String ( DCS is 0x90).\n\t              case 'P':\n\t                this.params = [];\n\t                this.currentParam = 0;\n\t                this.state = dcs;\n\t                break;\n\t\n\t              // ESC _ Application Program Command ( APC is 0x9f).\n\t              case '_':\n\t                this.state = ignore;\n\t                break;\n\t\n\t              // ESC ^ Privacy Message ( PM is 0x9e).\n\t              case '^':\n\t                this.state = ignore;\n\t                break;\n\t\n\t              // ESC c Full Reset (RIS).\n\t              case 'c':\n\t                this.reset();\n\t                break;\n\t\n\t              // ESC E Next Line ( NEL is 0x85).\n\t              // ESC D Index ( IND is 0x84).\n\t              case 'E':\n\t                this.x = 0;\n\t                ;\n\t              case 'D':\n\t                this.index();\n\t                break;\n\t\n\t              // ESC M Reverse Index ( RI is 0x8d).\n\t              case 'M':\n\t                this.reverseIndex();\n\t                break;\n\t\n\t              // ESC % Select default/utf-8 character set.\n\t              // @ = default, G = utf-8\n\t              case '%':\n\t                //this.charset = null;\n\t                this.setgLevel(0);\n\t                this.setgCharset(0, Terminal.charsets.US);\n\t                this.state = normal;\n\t                i++;\n\t                break;\n\t\n\t              // ESC (,),*,+,-,. Designate G0-G2 Character Set.\n\t              case '(': // <-- this seems to get all the attention\n\t              case ')':\n\t              case '*':\n\t              case '+':\n\t              case '-':\n\t              case '.':\n\t                switch (ch) {\n\t                  case '(':\n\t                    this.gcharset = 0;\n\t                    break;\n\t                  case ')':\n\t                    this.gcharset = 1;\n\t                    break;\n\t                  case '*':\n\t                    this.gcharset = 2;\n\t                    break;\n\t                  case '+':\n\t                    this.gcharset = 3;\n\t                    break;\n\t                  case '-':\n\t                    this.gcharset = 1;\n\t                    break;\n\t                  case '.':\n\t                    this.gcharset = 2;\n\t                    break;\n\t                }\n\t                this.state = charset;\n\t                break;\n\t\n\t              // Designate G3 Character Set (VT300).\n\t              // A = ISO Latin-1 Supplemental.\n\t              // Not implemented.\n\t              case '/':\n\t                this.gcharset = 3;\n\t                this.state = charset;\n\t                i--;\n\t                break;\n\t\n\t              // ESC N\n\t              // Single Shift Select of G2 Character Set\n\t              // ( SS2 is 0x8e). This affects next character only.\n\t              case 'N':\n\t                break;\n\t              // ESC O\n\t              // Single Shift Select of G3 Character Set\n\t              // ( SS3 is 0x8f). This affects next character only.\n\t              case 'O':\n\t                break;\n\t              // ESC n\n\t              // Invoke the G2 Character Set as GL (LS2).\n\t              case 'n':\n\t                this.setgLevel(2);\n\t                break;\n\t              // ESC o\n\t              // Invoke the G3 Character Set as GL (LS3).\n\t              case 'o':\n\t                this.setgLevel(3);\n\t                break;\n\t              // ESC |\n\t              // Invoke the G3 Character Set as GR (LS3R).\n\t              case '|':\n\t                this.setgLevel(3);\n\t                break;\n\t              // ESC }\n\t              // Invoke the G2 Character Set as GR (LS2R).\n\t              case '}':\n\t                this.setgLevel(2);\n\t                break;\n\t              // ESC ~\n\t              // Invoke the G1 Character Set as GR (LS1R).\n\t              case '~':\n\t                this.setgLevel(1);\n\t                break;\n\t\n\t              // ESC 7 Save Cursor (DECSC).\n\t              case '7':\n\t                this.saveCursor();\n\t                this.state = normal;\n\t                break;\n\t\n\t              // ESC 8 Restore Cursor (DECRC).\n\t              case '8':\n\t                this.restoreCursor();\n\t                this.state = normal;\n\t                break;\n\t\n\t              // ESC # 3 DEC line height/width\n\t              case '#':\n\t                this.state = normal;\n\t                i++;\n\t                break;\n\t\n\t              // ESC H Tab Set (HTS is 0x88).\n\t              case 'H':\n\t                this.tabSet();\n\t                break;\n\t\n\t              // ESC = Application Keypad (DECPAM).\n\t              case '=':\n\t                this.log('Serial port requested application keypad.');\n\t                this.applicationKeypad = true;\n\t                this.state = normal;\n\t                break;\n\t\n\t              // ESC > Normal Keypad (DECPNM).\n\t              case '>':\n\t                this.log('Switching back to normal keypad.');\n\t                this.applicationKeypad = false;\n\t                this.state = normal;\n\t                break;\n\t\n\t              default:\n\t                this.state = normal;\n\t                this.error('Unknown ESC control: %s.', ch);\n\t                break;\n\t            }\n\t            break;\n\t\n\t          case charset:\n\t            switch (ch) {\n\t              case '0': // DEC Special Character and Line Drawing Set.\n\t                cs = Terminal.charsets.SCLD;\n\t                break;\n\t              case 'A': // UK\n\t                cs = Terminal.charsets.UK;\n\t                break;\n\t              case 'B': // United States (USASCII).\n\t                cs = Terminal.charsets.US;\n\t                break;\n\t              case '4': // Dutch\n\t                cs = Terminal.charsets.Dutch;\n\t                break;\n\t              case 'C': // Finnish\n\t              case '5':\n\t                cs = Terminal.charsets.Finnish;\n\t                break;\n\t              case 'R': // French\n\t                cs = Terminal.charsets.French;\n\t                break;\n\t              case 'Q': // FrenchCanadian\n\t                cs = Terminal.charsets.FrenchCanadian;\n\t                break;\n\t              case 'K': // German\n\t                cs = Terminal.charsets.German;\n\t                break;\n\t              case 'Y': // Italian\n\t                cs = Terminal.charsets.Italian;\n\t                break;\n\t              case 'E': // NorwegianDanish\n\t              case '6':\n\t                cs = Terminal.charsets.NorwegianDanish;\n\t                break;\n\t              case 'Z': // Spanish\n\t                cs = Terminal.charsets.Spanish;\n\t                break;\n\t              case 'H': // Swedish\n\t              case '7':\n\t                cs = Terminal.charsets.Swedish;\n\t                break;\n\t              case '=': // Swiss\n\t                cs = Terminal.charsets.Swiss;\n\t                break;\n\t              case '/': // ISOLatin (actually /A)\n\t                cs = Terminal.charsets.ISOLatin;\n\t                i++;\n\t                break;\n\t              default: // Default\n\t                cs = Terminal.charsets.US;\n\t                break;\n\t            }\n\t            this.setgCharset(this.gcharset, cs);\n\t            this.gcharset = null;\n\t            this.state = normal;\n\t            break;\n\t\n\t          case osc:\n\t            // OSC Ps ; Pt ST\n\t            // OSC Ps ; Pt BEL\n\t            //   Set Text Parameters.\n\t            if (ch === '\\x1b' || ch === '\\x07') {\n\t              if (ch === '\\x1b') i++;\n\t\n\t              this.params.push(this.currentParam);\n\t\n\t              switch (this.params[0]) {\n\t                case 0:\n\t                case 1:\n\t                case 2:\n\t                  if (this.params[1]) {\n\t                    this.title = this.params[1];\n\t                    this.handleTitle(this.title);\n\t                  }\n\t                  break;\n\t                case 3:\n\t                  // set X property\n\t                  break;\n\t                case 4:\n\t                case 5:\n\t                  // change dynamic colors\n\t                  break;\n\t                case 10:\n\t                case 11:\n\t                case 12:\n\t                case 13:\n\t                case 14:\n\t                case 15:\n\t                case 16:\n\t                case 17:\n\t                case 18:\n\t                case 19:\n\t                  // change dynamic ui colors\n\t                  break;\n\t                case 46:\n\t                  // change log file\n\t                  break;\n\t                case 50:\n\t                  // dynamic font\n\t                  break;\n\t                case 51:\n\t                  // emacs shell\n\t                  break;\n\t                case 52:\n\t                  // manipulate selection data\n\t                  break;\n\t                case 104:\n\t                case 105:\n\t                case 110:\n\t                case 111:\n\t                case 112:\n\t                case 113:\n\t                case 114:\n\t                case 115:\n\t                case 116:\n\t                case 117:\n\t                case 118:\n\t                  // reset colors\n\t                  break;\n\t              }\n\t\n\t              this.params = [];\n\t              this.currentParam = 0;\n\t              this.state = normal;\n\t            } else {\n\t              if (!this.params.length) {\n\t                if (ch >= '0' && ch <= '9') {\n\t                  this.currentParam =\n\t                    this.currentParam * 10 + ch.charCodeAt(0) - 48;\n\t                } else if (ch === ';') {\n\t                  this.params.push(this.currentParam);\n\t                  this.currentParam = '';\n\t                }\n\t              } else {\n\t                this.currentParam += ch;\n\t              }\n\t            }\n\t            break;\n\t\n\t          case csi:\n\t            // '?', '>', '!'\n\t            if (ch === '?' || ch === '>' || ch === '!') {\n\t              this.prefix = ch;\n\t              break;\n\t            }\n\t\n\t            // 0 - 9\n\t            if (ch >= '0' && ch <= '9') {\n\t              this.currentParam = this.currentParam * 10 + ch.charCodeAt(0) - 48;\n\t              break;\n\t            }\n\t\n\t            // '$', '\"', ' ', '\\''\n\t            if (ch === '$' || ch === '\"' || ch === ' ' || ch === '\\'') {\n\t              this.postfix = ch;\n\t              break;\n\t            }\n\t\n\t            this.params.push(this.currentParam);\n\t            this.currentParam = 0;\n\t\n\t            // ';'\n\t            if (ch === ';') break;\n\t\n\t            this.state = normal;\n\t\n\t            switch (ch) {\n\t              // CSI Ps A\n\t              // Cursor Up Ps Times (default = 1) (CUU).\n\t              case 'A':\n\t                this.cursorUp(this.params);\n\t                break;\n\t\n\t              // CSI Ps B\n\t              // Cursor Down Ps Times (default = 1) (CUD).\n\t              case 'B':\n\t                this.cursorDown(this.params);\n\t                break;\n\t\n\t              // CSI Ps C\n\t              // Cursor Forward Ps Times (default = 1) (CUF).\n\t              case 'C':\n\t                this.cursorForward(this.params);\n\t                break;\n\t\n\t              // CSI Ps D\n\t              // Cursor Backward Ps Times (default = 1) (CUB).\n\t              case 'D':\n\t                this.cursorBackward(this.params);\n\t                break;\n\t\n\t              // CSI Ps ; Ps H\n\t              // Cursor Position [row;column] (default = [1,1]) (CUP).\n\t              case 'H':\n\t                this.cursorPos(this.params);\n\t                break;\n\t\n\t              // CSI Ps J  Erase in Display (ED).\n\t              case 'J':\n\t                this.eraseInDisplay(this.params);\n\t                break;\n\t\n\t              // CSI Ps K  Erase in Line (EL).\n\t              case 'K':\n\t                this.eraseInLine(this.params);\n\t                break;\n\t\n\t              // CSI Pm m  Character Attributes (SGR).\n\t              case 'm':\n\t                if (!this.prefix) {\n\t                  this.charAttributes(this.params);\n\t                }\n\t                break;\n\t\n\t              // CSI Ps n  Device Status Report (DSR).\n\t              case 'n':\n\t                if (!this.prefix) {\n\t                  this.deviceStatus(this.params);\n\t                }\n\t                break;\n\t\n\t              /**\n\t               * Additions\n\t               */\n\t\n\t              // CSI Ps @\n\t              // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n\t              case '@':\n\t                this.insertChars(this.params);\n\t                break;\n\t\n\t              // CSI Ps E\n\t              // Cursor Next Line Ps Times (default = 1) (CNL).\n\t              case 'E':\n\t                this.cursorNextLine(this.params);\n\t                break;\n\t\n\t              // CSI Ps F\n\t              // Cursor Preceding Line Ps Times (default = 1) (CNL).\n\t              case 'F':\n\t                this.cursorPrecedingLine(this.params);\n\t                break;\n\t\n\t              // CSI Ps G\n\t              // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n\t              case 'G':\n\t                this.cursorCharAbsolute(this.params);\n\t                break;\n\t\n\t              // CSI Ps L\n\t              // Insert Ps Line(s) (default = 1) (IL).\n\t              case 'L':\n\t                this.insertLines(this.params);\n\t                break;\n\t\n\t              // CSI Ps M\n\t              // Delete Ps Line(s) (default = 1) (DL).\n\t              case 'M':\n\t                this.deleteLines(this.params);\n\t                break;\n\t\n\t              // CSI Ps P\n\t              // Delete Ps Character(s) (default = 1) (DCH).\n\t              case 'P':\n\t                this.deleteChars(this.params);\n\t                break;\n\t\n\t              // CSI Ps X\n\t              // Erase Ps Character(s) (default = 1) (ECH).\n\t              case 'X':\n\t                this.eraseChars(this.params);\n\t                break;\n\t\n\t              // CSI Pm `  Character Position Absolute\n\t              //   [column] (default = [row,1]) (HPA).\n\t              case '`':\n\t                this.charPosAbsolute(this.params);\n\t                break;\n\t\n\t              // 141 61 a * HPR -\n\t              // Horizontal Position Relative\n\t              case 'a':\n\t                this.HPositionRelative(this.params);\n\t                break;\n\t\n\t              // CSI P s c\n\t              // Send Device Attributes (Primary DA).\n\t              // CSI > P s c\n\t              // Send Device Attributes (Secondary DA)\n\t              case 'c':\n\t                this.sendDeviceAttributes(this.params);\n\t                break;\n\t\n\t              // CSI Pm d\n\t              // Line Position Absolute  [row] (default = [1,column]) (VPA).\n\t              case 'd':\n\t                this.linePosAbsolute(this.params);\n\t                break;\n\t\n\t              // 145 65 e * VPR - Vertical Position Relative\n\t              case 'e':\n\t                this.VPositionRelative(this.params);\n\t                break;\n\t\n\t              // CSI Ps ; Ps f\n\t              //   Horizontal and Vertical Position [row;column] (default =\n\t              //   [1,1]) (HVP).\n\t              case 'f':\n\t                this.HVPosition(this.params);\n\t                break;\n\t\n\t              // CSI Pm h  Set Mode (SM).\n\t              // CSI ? Pm h - mouse escape codes, cursor escape codes\n\t              case 'h':\n\t                this.setMode(this.params);\n\t                break;\n\t\n\t              // CSI Pm l  Reset Mode (RM).\n\t              // CSI ? Pm l\n\t              case 'l':\n\t                this.resetMode(this.params);\n\t                break;\n\t\n\t              // CSI Ps ; Ps r\n\t              //   Set Scrolling Region [top;bottom] (default = full size of win-\n\t              //   dow) (DECSTBM).\n\t              // CSI ? Pm r\n\t              case 'r':\n\t                this.setScrollRegion(this.params);\n\t                break;\n\t\n\t              // CSI s\n\t              //   Save cursor (ANSI.SYS).\n\t              case 's':\n\t                this.saveCursor(this.params);\n\t                break;\n\t\n\t              // CSI u\n\t              //   Restore cursor (ANSI.SYS).\n\t              case 'u':\n\t                this.restoreCursor(this.params);\n\t                break;\n\t\n\t              /**\n\t               * Lesser Used\n\t               */\n\t\n\t              // CSI Ps I\n\t              // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n\t              case 'I':\n\t                this.cursorForwardTab(this.params);\n\t                break;\n\t\n\t              // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n\t              case 'S':\n\t                this.scrollUp(this.params);\n\t                break;\n\t\n\t              // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n\t              // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n\t              // CSI > Ps; Ps T\n\t              case 'T':\n\t                // if (this.prefix === '>') {\n\t                //   this.resetTitleModes(this.params);\n\t                //   break;\n\t                // }\n\t                // if (this.params.length > 2) {\n\t                //   this.initMouseTracking(this.params);\n\t                //   break;\n\t                // }\n\t                if (this.params.length < 2 && !this.prefix) {\n\t                  this.scrollDown(this.params);\n\t                }\n\t                break;\n\t\n\t              // CSI Ps Z\n\t              // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n\t              case 'Z':\n\t                this.cursorBackwardTab(this.params);\n\t                break;\n\t\n\t              // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n\t              case 'b':\n\t                this.repeatPrecedingCharacter(this.params);\n\t                break;\n\t\n\t              // CSI Ps g  Tab Clear (TBC).\n\t              case 'g':\n\t                this.tabClear(this.params);\n\t                break;\n\t\n\t              // CSI Pm i  Media Copy (MC).\n\t              // CSI ? Pm i\n\t              // case 'i':\n\t              //   this.mediaCopy(this.params);\n\t              //   break;\n\t\n\t              // CSI Pm m  Character Attributes (SGR).\n\t              // CSI > Ps; Ps m\n\t              // case 'm': // duplicate\n\t              //   if (this.prefix === '>') {\n\t              //     this.setResources(this.params);\n\t              //   } else {\n\t              //     this.charAttributes(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Ps n  Device Status Report (DSR).\n\t              // CSI > Ps n\n\t              // case 'n': // duplicate\n\t              //   if (this.prefix === '>') {\n\t              //     this.disableModifiers(this.params);\n\t              //   } else {\n\t              //     this.deviceStatus(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI > Ps p  Set pointer mode.\n\t              // CSI ! p   Soft terminal reset (DECSTR).\n\t              // CSI Ps$ p\n\t              //   Request ANSI mode (DECRQM).\n\t              // CSI ? Ps$ p\n\t              //   Request DEC private mode (DECRQM).\n\t              // CSI Ps ; Ps \" p\n\t              case 'p':\n\t                switch (this.prefix) {\n\t                  // case '>':\n\t                  //   this.setPointerMode(this.params);\n\t                  //   break;\n\t                  case '!':\n\t                    this.softReset(this.params);\n\t                    break;\n\t                  // case '?':\n\t                  //   if (this.postfix === '$') {\n\t                  //     this.requestPrivateMode(this.params);\n\t                  //   }\n\t                  //   break;\n\t                  // default:\n\t                  //   if (this.postfix === '\"') {\n\t                  //     this.setConformanceLevel(this.params);\n\t                  //   } else if (this.postfix === '$') {\n\t                  //     this.requestAnsiMode(this.params);\n\t                  //   }\n\t                  //   break;\n\t                }\n\t                break;\n\t\n\t              // CSI Ps q  Load LEDs (DECLL).\n\t              // CSI Ps SP q\n\t              // CSI Ps \" q\n\t              // case 'q':\n\t              //   if (this.postfix === ' ') {\n\t              //     this.setCursorStyle(this.params);\n\t              //     break;\n\t              //   }\n\t              //   if (this.postfix === '\"') {\n\t              //     this.setCharProtectionAttr(this.params);\n\t              //     break;\n\t              //   }\n\t              //   this.loadLEDs(this.params);\n\t              //   break;\n\t\n\t              // CSI Ps ; Ps r\n\t              //   Set Scrolling Region [top;bottom] (default = full size of win-\n\t              //   dow) (DECSTBM).\n\t              // CSI ? Pm r\n\t              // CSI Pt; Pl; Pb; Pr; Ps$ r\n\t              // case 'r': // duplicate\n\t              //   if (this.prefix === '?') {\n\t              //     this.restorePrivateValues(this.params);\n\t              //   } else if (this.postfix === '$') {\n\t              //     this.setAttrInRectangle(this.params);\n\t              //   } else {\n\t              //     this.setScrollRegion(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI s     Save cursor (ANSI.SYS).\n\t              // CSI ? Pm s\n\t              // case 's': // duplicate\n\t              //   if (this.prefix === '?') {\n\t              //     this.savePrivateValues(this.params);\n\t              //   } else {\n\t              //     this.saveCursor(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Ps ; Ps ; Ps t\n\t              // CSI Pt; Pl; Pb; Pr; Ps$ t\n\t              // CSI > Ps; Ps t\n\t              // CSI Ps SP t\n\t              // case 't':\n\t              //   if (this.postfix === '$') {\n\t              //     this.reverseAttrInRectangle(this.params);\n\t              //   } else if (this.postfix === ' ') {\n\t              //     this.setWarningBellVolume(this.params);\n\t              //   } else {\n\t              //     if (this.prefix === '>') {\n\t              //       this.setTitleModeFeature(this.params);\n\t              //     } else {\n\t              //       this.manipulateWindow(this.params);\n\t              //     }\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI u     Restore cursor (ANSI.SYS).\n\t              // CSI Ps SP u\n\t              // case 'u': // duplicate\n\t              //   if (this.postfix === ' ') {\n\t              //     this.setMarginBellVolume(this.params);\n\t              //   } else {\n\t              //     this.restoreCursor(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n\t              // case 'v':\n\t              //   if (this.postfix === '$') {\n\t              //     this.copyRectagle(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Pt ; Pl ; Pb ; Pr ' w\n\t              // case 'w':\n\t              //   if (this.postfix === '\\'') {\n\t              //     this.enableFilterRectangle(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n\t              // CSI Ps x  Select Attribute Change Extent (DECSACE).\n\t              // CSI Pc; Pt; Pl; Pb; Pr$ x\n\t              // case 'x':\n\t              //   if (this.postfix === '$') {\n\t              //     this.fillRectangle(this.params);\n\t              //   } else {\n\t              //     this.requestParameters(this.params);\n\t              //     //this.__(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Ps ; Pu ' z\n\t              // CSI Pt; Pl; Pb; Pr$ z\n\t              // case 'z':\n\t              //   if (this.postfix === '\\'') {\n\t              //     this.enableLocatorReporting(this.params);\n\t              //   } else if (this.postfix === '$') {\n\t              //     this.eraseRectangle(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Pm ' {\n\t              // CSI Pt; Pl; Pb; Pr$ {\n\t              // case '{':\n\t              //   if (this.postfix === '\\'') {\n\t              //     this.setLocatorEvents(this.params);\n\t              //   } else if (this.postfix === '$') {\n\t              //     this.selectiveEraseRectangle(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI Ps ' |\n\t              // case '|':\n\t              //   if (this.postfix === '\\'') {\n\t              //     this.requestLocatorPosition(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI P m SP }\n\t              // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n\t              // case '}':\n\t              //   if (this.postfix === ' ') {\n\t              //     this.insertColumns(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              // CSI P m SP ~\n\t              // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n\t              // case '~':\n\t              //   if (this.postfix === ' ') {\n\t              //     this.deleteColumns(this.params);\n\t              //   }\n\t              //   break;\n\t\n\t              default:\n\t                this.error('Unknown CSI code: %s.', ch);\n\t                break;\n\t            }\n\t\n\t            this.prefix = '';\n\t            this.postfix = '';\n\t            break;\n\t\n\t          case dcs:\n\t            if (ch === '\\x1b' || ch === '\\x07') {\n\t              if (ch === '\\x1b') i++;\n\t\n\t              switch (this.prefix) {\n\t                // User-Defined Keys (DECUDK).\n\t                case '':\n\t                  break;\n\t\n\t                // Request Status String (DECRQSS).\n\t                // test: echo -e '\\eP$q\"p\\e\\\\'\n\t                case '$q':\n\t                  var pt = this.currentParam\n\t                    , valid = false;\n\t\n\t                  switch (pt) {\n\t                    // DECSCA\n\t                    case '\"q':\n\t                      pt = '0\"q';\n\t                      break;\n\t\n\t                    // DECSCL\n\t                    case '\"p':\n\t                      pt = '61\"p';\n\t                      break;\n\t\n\t                    // DECSTBM\n\t                    case 'r':\n\t                      pt = ''\n\t                        + (this.scrollTop + 1)\n\t                        + ';'\n\t                        + (this.scrollBottom + 1)\n\t                        + 'r';\n\t                      break;\n\t\n\t                    // SGR\n\t                    case 'm':\n\t                      pt = '0m';\n\t                      break;\n\t\n\t                    default:\n\t                      this.error('Unknown DCS Pt: %s.', pt);\n\t                      pt = '';\n\t                      break;\n\t                  }\n\t\n\t                  this.send('\\x1bP' + +valid + '$r' + pt + '\\x1b\\\\');\n\t                  break;\n\t\n\t                // Set Termcap/Terminfo Data (xterm, experimental).\n\t                case '+p':\n\t                  break;\n\t\n\t                // Request Termcap/Terminfo String (xterm, experimental)\n\t                // Regular xterm does not even respond to this sequence.\n\t                // This can cause a small glitch in vim.\n\t                // test: echo -ne '\\eP+q6b64\\e\\\\'\n\t                case '+q':\n\t                  var pt = this.currentParam\n\t                    , valid = false;\n\t\n\t                  this.send('\\x1bP' + +valid + '+r' + pt + '\\x1b\\\\');\n\t                  break;\n\t\n\t                default:\n\t                  this.error('Unknown DCS prefix: %s.', this.prefix);\n\t                  break;\n\t              }\n\t\n\t              this.currentParam = 0;\n\t              this.prefix = '';\n\t              this.state = normal;\n\t            } else if (!this.currentParam) {\n\t              if (!this.prefix && ch !== '$' && ch !== '+') {\n\t                this.currentParam = ch;\n\t              } else if (this.prefix.length === 2) {\n\t                this.currentParam = ch;\n\t              } else {\n\t                this.prefix += ch;\n\t              }\n\t            } else {\n\t              this.currentParam += ch;\n\t            }\n\t            break;\n\t\n\t          case ignore:\n\t            // For PM and APC.\n\t            if (ch === '\\x1b' || ch === '\\x07') {\n\t              if (ch === '\\x1b') i++;\n\t              this.state = normal;\n\t            }\n\t            break;\n\t        }\n\t      }\n\t\n\t      this.updateRange(this.y);\n\t      this.refresh(this.refreshStart, this.refreshEnd);\n\t    };\n\t\n\t    Terminal.prototype.writeln = function(data) {\n\t      this.write(data + '\\r\\n');\n\t    };\n\t\n\t    // Key Resources:\n\t    // https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent\n\t    Terminal.prototype.keyDown = function(ev) {\n\t      var self = this, key;\n\t\n\t      switch (ev.keyCode) {\n\t        // backspace\n\t        case 8:\n\t          if (ev.shiftKey) {\n\t            key = '\\x08'; // ^H\n\t            break;\n\t          }\n\t          key = '\\x7f'; // ^?\n\t          break;\n\t        // tab\n\t        case 9:\n\t          if (ev.shiftKey) {\n\t            key = '\\x1b[Z';\n\t            break;\n\t          }\n\t          key = '\\t';\n\t          this.cancel(ev, true);\n\t          break;\n\t        // return/enter\n\t        case 13:\n\t          key = '\\r';\n\t          this.cancel(ev, true);\n\t          break;\n\t        // escape\n\t        case 27:\n\t          key = '\\x1b';\n\t          this.cancel(ev, true);\n\t          break;\n\t        // left-arrow\n\t        case 37:\n\t          if (ev.altKey) {\n\t            this.cancel(ev, true);\n\t            key = '\\x1bb' // Jump a word back\n\t            break;\n\t          } else if (this.applicationCursor) {\n\t            key = '\\x1bOD'; // SS3 as ^[O for 7-bit\n\t            break;\n\t          }\n\t          key = '\\x1b[D';\n\t          break;\n\t        // right-arrow\n\t        case 39:\n\t          if (ev.altKey) {\n\t            this.cancel(ev, true);\n\t            key = '\\x1bf' // Jump a word forward\n\t            break;\n\t          } else if (this.applicationCursor) {\n\t            key = '\\x1bOC';\n\t            break;\n\t          }\n\t          key = '\\x1b[C';\n\t          break;\n\t        // up-arrow\n\t        case 38:\n\t          if (this.applicationCursor) {\n\t            key = '\\x1bOA';\n\t            break;\n\t          }\n\t          if (ev.ctrlKey) {\n\t            this.scrollDisp(-1);\n\t            return this.cancel(ev);\n\t          } else {\n\t            key = '\\x1b[A';\n\t          }\n\t          break;\n\t        // down-arrow\n\t        case 40:\n\t          if (this.applicationCursor) {\n\t            key = '\\x1bOB';\n\t            break;\n\t          }\n\t          if (ev.ctrlKey) {\n\t            this.scrollDisp(1);\n\t            return this.cancel(ev);\n\t          } else {\n\t            key = '\\x1b[B';\n\t          }\n\t          break;\n\t        // delete\n\t        case 46:\n\t          key = '\\x1b[3~';\n\t          break;\n\t        // insert\n\t        case 45:\n\t          key = '\\x1b[2~';\n\t          break;\n\t        // home\n\t        case 36:\n\t          if (this.applicationKeypad) {\n\t            key = '\\x1bOH';\n\t            break;\n\t          }\n\t          key = '\\x1bOH';\n\t          break;\n\t        // end\n\t        case 35:\n\t          if (this.applicationKeypad) {\n\t            key = '\\x1bOF';\n\t            break;\n\t          }\n\t          key = '\\x1bOF';\n\t          break;\n\t        // page up\n\t        case 33:\n\t          if (ev.shiftKey) {\n\t            this.scrollDisp(-(this.rows - 1));\n\t            return this.cancel(ev);\n\t          } else {\n\t            key = '\\x1b[5~';\n\t          }\n\t          break;\n\t        // page down\n\t        case 34:\n\t          if (ev.shiftKey) {\n\t            this.scrollDisp(this.rows - 1);\n\t            return this.cancel(ev);\n\t          } else {\n\t            key = '\\x1b[6~';\n\t          }\n\t          break;\n\t        // F1\n\t        case 112:\n\t          key = '\\x1bOP';\n\t          break;\n\t        // F2\n\t        case 113:\n\t          key = '\\x1bOQ';\n\t          break;\n\t        // F3\n\t        case 114:\n\t          key = '\\x1bOR';\n\t          break;\n\t        // F4\n\t        case 115:\n\t          key = '\\x1bOS';\n\t          break;\n\t        // F5\n\t        case 116:\n\t          key = '\\x1b[15~';\n\t          break;\n\t        // F6\n\t        case 117:\n\t          key = '\\x1b[17~';\n\t          break;\n\t        // F7\n\t        case 118:\n\t          key = '\\x1b[18~';\n\t          break;\n\t        // F8\n\t        case 119:\n\t          key = '\\x1b[19~';\n\t          break;\n\t        // F9\n\t        case 120:\n\t          key = '\\x1b[20~';\n\t          break;\n\t        // F10\n\t        case 121:\n\t          key = '\\x1b[21~';\n\t          break;\n\t        // F11\n\t        case 122:\n\t          key = '\\x1b[23~';\n\t          break;\n\t        // F12\n\t        case 123:\n\t          key = '\\x1b[24~';\n\t          break;\n\t        default:\n\t          // a-z and space\n\t          if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n\t            if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n\t              key = String.fromCharCode(ev.keyCode - 64);\n\t            } else if (ev.keyCode === 32) {\n\t              // NUL\n\t              key = String.fromCharCode(0);\n\t            } else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n\t              // escape, file sep, group sep, record sep, unit sep\n\t              key = String.fromCharCode(ev.keyCode - 51 + 27);\n\t            } else if (ev.keyCode === 56) {\n\t              // delete\n\t              key = String.fromCharCode(127);\n\t            } else if (ev.keyCode === 219) {\n\t              // ^[ - escape\n\t              key = String.fromCharCode(27);\n\t            } else if (ev.keyCode === 221) {\n\t              // ^] - group sep\n\t              key = String.fromCharCode(29);\n\t            }\n\t          } else if ((!this.isMac && ev.altKey) || (this.isMac && ev.metaKey)) {\n\t            if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n\t              key = '\\x1b' + String.fromCharCode(ev.keyCode + 32);\n\t            } else if (ev.keyCode === 192) {\n\t              key = '\\x1b`';\n\t            } else if (ev.keyCode >= 48 && ev.keyCode <= 57) {\n\t              key = '\\x1b' + (ev.keyCode - 48);\n\t            }\n\t          }\n\t          break;\n\t      }\n\t\n\t      if (!key || (this.isMac && ev.metaKey)) {\n\t        return true;\n\t      }\n\t\n\t      this.emit('keydown', ev);\n\t      this.emit('key', key, ev);\n\t      this.showCursor();\n\t      this.handler(key);\n\t\n\t      return this.cancel(ev);\n\t    };\n\t\n\t    Terminal.prototype.setgLevel = function(g) {\n\t      this.glevel = g;\n\t      this.charset = this.charsets[g];\n\t    };\n\t\n\t    Terminal.prototype.setgCharset = function(g, charset) {\n\t      this.charsets[g] = charset;\n\t      if (this.glevel === g) {\n\t        this.charset = charset;\n\t      }\n\t    };\n\t\n\t    Terminal.prototype.keyPress = function(ev) {\n\t      var key;\n\t\n\t      this.cancel(ev);\n\t\n\t      if (ev.charCode) {\n\t        key = ev.charCode;\n\t      } else if (ev.which == null) {\n\t        key = ev.keyCode;\n\t      } else if (ev.which !== 0 && ev.charCode !== 0) {\n\t        key = ev.which;\n\t      } else {\n\t        return false;\n\t      }\n\t\n\t      if (!key || ev.ctrlKey || ev.altKey || ev.metaKey) {\n\t        return false;\n\t      }\n\t\n\t      key = String.fromCharCode(key);\n\t\n\t      this.emit('keypress', key, ev);\n\t      this.emit('key', key, ev);\n\t      this.showCursor();\n\t      this.handler(key);\n\t\n\t      return false;\n\t    };\n\t\n\t    Terminal.prototype.send = function(data) {\n\t      var self = this;\n\t\n\t      if (!this.queue) {\n\t        setTimeout(function() {\n\t          self.handler(self.queue);\n\t          self.queue = '';\n\t        }, 1);\n\t      }\n\t\n\t      this.queue += data;\n\t    };\n\t\n\t    Terminal.prototype.bell = function() {\n\t      if (!this.visualBell) return;\n\t      var self = this;\n\t      this.element.style.borderColor = 'white';\n\t      setTimeout(function() {\n\t        self.element.style.borderColor = '';\n\t      }, 10);\n\t      if (this.popOnBell) this.focus();\n\t    };\n\t\n\t    Terminal.prototype.log = function() {\n\t      if (!this.debug) return;\n\t      if (!this.context.console || !this.context.console.log) return;\n\t      var args = Array.prototype.slice.call(arguments);\n\t      this.context.console.log.apply(this.context.console, args);\n\t    };\n\t\n\t    Terminal.prototype.error = function() {\n\t      if (!this.debug) return;\n\t      if (!this.context.console || !this.context.console.error) return;\n\t      var args = Array.prototype.slice.call(arguments);\n\t      this.context.console.error.apply(this.context.console, args);\n\t    };\n\t\n\t    Terminal.prototype.resize = function(x, y) {\n\t      var line\n\t        , el\n\t        , i\n\t        , j\n\t        , ch;\n\t\n\t      if (x < 1) x = 1;\n\t      if (y < 1) y = 1;\n\t\n\t      // resize cols\n\t      j = this.cols;\n\t      if (j < x) {\n\t        ch = [this.defAttr, ' ']; // does xterm use the default attr?\n\t        i = this.lines.length;\n\t        while (i--) {\n\t          while (this.lines[i].length < x) {\n\t            this.lines[i].push(ch);\n\t          }\n\t        }\n\t      } else if (j > x) {\n\t        i = this.lines.length;\n\t        while (i--) {\n\t          while (this.lines[i].length > x) {\n\t            this.lines[i].pop();\n\t          }\n\t        }\n\t      }\n\t      this.setupStops(j);\n\t      this.cols = x;\n\t\n\t      // resize rows\n\t      j = this.rows;\n\t      if (j < y) {\n\t        el = this.element;\n\t        while (j++ < y) {\n\t          if (this.lines.length < y + this.ybase) {\n\t            this.lines.push(this.blankLine());\n\t          }\n\t          if (this.children.length < y) {\n\t            this.insertRow();\n\t          }\n\t        }\n\t      } else if (j > y) {\n\t        while (j-- > y) {\n\t          if (this.lines.length > y + this.ybase) {\n\t            this.lines.shift();\n\t          }\n\t          if (this.children.length > y) {\n\t            el = this.children.shift();\n\t            if (!el) continue;\n\t            el.parentNode.removeChild(el);\n\t          }\n\t        }\n\t      }\n\t      this.rows = y;\n\t\n\t      /*\n\t      *  Make sure that the cursor stays on screen\n\t      */\n\t      if (this.y >= y) {\n\t        this.y = y - 1;\n\t      }\n\t\n\t      if (this.x >= x) {\n\t        this.x = x - 1;\n\t      }\n\t\n\t      this.scrollTop = 0;\n\t      this.scrollBottom = y - 1;\n\t\n\t      this.refresh(0, this.rows - 1);\n\t\n\t      this.normal = null;\n\t\n\t      this.emit('resize', {terminal: this, cols: x, rows: y});\n\t    };\n\t\n\t    Terminal.prototype.updateRange = function(y) {\n\t      if (y < this.refreshStart) this.refreshStart = y;\n\t      if (y > this.refreshEnd) this.refreshEnd = y;\n\t      // if (y > this.refreshEnd) {\n\t      //   this.refreshEnd = y;\n\t      //   if (y > this.rows - 1) {\n\t      //     this.refreshEnd = this.rows - 1;\n\t      //   }\n\t      // }\n\t    };\n\t\n\t    Terminal.prototype.maxRange = function() {\n\t      this.refreshStart = 0;\n\t      this.refreshEnd = this.rows - 1;\n\t    };\n\t\n\t    Terminal.prototype.setupStops = function(i) {\n\t      if (i != null) {\n\t        if (!this.tabs[i]) {\n\t          i = this.prevStop(i);\n\t        }\n\t      } else {\n\t        this.tabs = {};\n\t        i = 0;\n\t      }\n\t\n\t      for (; i < this.cols; i += 8) {\n\t        this.tabs[i] = true;\n\t      }\n\t    };\n\t\n\t    Terminal.prototype.prevStop = function(x) {\n\t      if (x == null) x = this.x;\n\t      while (!this.tabs[--x] && x > 0);\n\t      return x >= this.cols\n\t        ? this.cols - 1\n\t        : x < 0 ? 0 : x;\n\t    };\n\t\n\t    Terminal.prototype.nextStop = function(x) {\n\t      if (x == null) x = this.x;\n\t      while (!this.tabs[++x] && x < this.cols);\n\t      return x >= this.cols\n\t        ? this.cols - 1\n\t        : x < 0 ? 0 : x;\n\t    };\n\t\n\t    Terminal.prototype.eraseRight = function(x, y) {\n\t      var line = this.lines[this.ybase + y]\n\t        , ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t\n\t      for (; x < this.cols; x++) {\n\t        line[x] = ch;\n\t      }\n\t\n\t      this.updateRange(y);\n\t    };\n\t\n\t    Terminal.prototype.eraseLeft = function(x, y) {\n\t      var line = this.lines[this.ybase + y]\n\t        , ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t      x++;\n\t      while (x--) line[x] = ch;\n\t\n\t      this.updateRange(y);\n\t    };\n\t\n\t    Terminal.prototype.eraseLine = function(y) {\n\t      this.eraseRight(0, y);\n\t    };\n\t\n\t    Terminal.prototype.blankLine = function(cur) {\n\t      var attr = cur\n\t        ? this.eraseAttr()\n\t        : this.defAttr;\n\t\n\t      var ch = [attr, ' ']\n\t        , line = []\n\t        , i = 0;\n\t\n\t      for (; i < this.cols; i++) {\n\t        line[i] = ch;\n\t      }\n\t\n\t      return line;\n\t    };\n\t\n\t    Terminal.prototype.ch = function(cur) {\n\t      return cur\n\t        ? [this.eraseAttr(), ' ']\n\t        : [this.defAttr, ' '];\n\t    };\n\t\n\t    Terminal.prototype.is = function(term) {\n\t      var name = this.termName;\n\t      return (name + '').indexOf(term) === 0;\n\t    };\n\t\n\t    Terminal.prototype.handler = function(data) {\n\t      this.emit('data', data);\n\t    };\n\t\n\t    Terminal.prototype.handleTitle = function(title) {\n\t      this.emit('title', title);\n\t    };\n\t\n\t    /**\n\t     * ESC\n\t     */\n\t\n\t    // ESC D Index (IND is 0x84).\n\t    Terminal.prototype.index = function() {\n\t      this.y++;\n\t      if (this.y > this.scrollBottom) {\n\t        this.y--;\n\t        this.scroll();\n\t      }\n\t      this.state = normal;\n\t    };\n\t\n\t    // ESC M Reverse Index (RI is 0x8d).\n\t    Terminal.prototype.reverseIndex = function() {\n\t      var j;\n\t      this.y--;\n\t      if (this.y < this.scrollTop) {\n\t        this.y++;\n\t        // possibly move the code below to term.reverseScroll();\n\t        // test: echo -ne '\\e[1;1H\\e[44m\\eM\\e[0m'\n\t        // blankLine(true) is xterm/linux behavior\n\t        this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));\n\t        j = this.rows - 1 - this.scrollBottom;\n\t        this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);\n\t        // this.maxRange();\n\t        this.updateRange(this.scrollTop);\n\t        this.updateRange(this.scrollBottom);\n\t      }\n\t      this.state = normal;\n\t    };\n\t\n\t    // ESC c Full Reset (RIS).\n\t    Terminal.prototype.reset = function() {\n\t      this.options.rows = this.rows;\n\t      this.options.cols = this.cols;\n\t      Terminal.call(this, this.options);\n\t      this.refresh(0, this.rows - 1);\n\t    };\n\t\n\t    // ESC H Tab Set (HTS is 0x88).\n\t    Terminal.prototype.tabSet = function() {\n\t      this.tabs[this.x] = true;\n\t      this.state = normal;\n\t    };\n\t\n\t    /**\n\t     * CSI\n\t     */\n\t\n\t    // CSI Ps A\n\t    // Cursor Up Ps Times (default = 1) (CUU).\n\t    Terminal.prototype.cursorUp = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.y -= param;\n\t      if (this.y < 0) this.y = 0;\n\t    };\n\t\n\t    // CSI Ps B\n\t    // Cursor Down Ps Times (default = 1) (CUD).\n\t    Terminal.prototype.cursorDown = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.y += param;\n\t      if (this.y >= this.rows) {\n\t        this.y = this.rows - 1;\n\t      }\n\t    };\n\t\n\t    // CSI Ps C\n\t    // Cursor Forward Ps Times (default = 1) (CUF).\n\t    Terminal.prototype.cursorForward = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.x += param;\n\t      if (this.x >= this.cols) {\n\t        this.x = this.cols - 1;\n\t      }\n\t    };\n\t\n\t    // CSI Ps D\n\t    // Cursor Backward Ps Times (default = 1) (CUB).\n\t    Terminal.prototype.cursorBackward = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.x -= param;\n\t      if (this.x < 0) this.x = 0;\n\t    };\n\t\n\t    // CSI Ps ; Ps H\n\t    // Cursor Position [row;column] (default = [1,1]) (CUP).\n\t    Terminal.prototype.cursorPos = function(params) {\n\t      var row, col;\n\t\n\t      row = params[0] - 1;\n\t\n\t      if (params.length >= 2) {\n\t        col = params[1] - 1;\n\t      } else {\n\t        col = 0;\n\t      }\n\t\n\t      if (row < 0) {\n\t        row = 0;\n\t      } else if (row >= this.rows) {\n\t        row = this.rows - 1;\n\t      }\n\t\n\t      if (col < 0) {\n\t        col = 0;\n\t      } else if (col >= this.cols) {\n\t        col = this.cols - 1;\n\t      }\n\t\n\t      this.x = col;\n\t      this.y = row;\n\t    };\n\t\n\t    // CSI Ps J  Erase in Display (ED).\n\t    //     Ps = 0  -> Erase Below (default).\n\t    //     Ps = 1  -> Erase Above.\n\t    //     Ps = 2  -> Erase All.\n\t    //     Ps = 3  -> Erase Saved Lines (xterm).\n\t    // CSI ? Ps J\n\t    //   Erase in Display (DECSED).\n\t    //     Ps = 0  -> Selective Erase Below (default).\n\t    //     Ps = 1  -> Selective Erase Above.\n\t    //     Ps = 2  -> Selective Erase All.\n\t    Terminal.prototype.eraseInDisplay = function(params) {\n\t      var j;\n\t      switch (params[0]) {\n\t        case 0:\n\t          this.eraseRight(this.x, this.y);\n\t          j = this.y + 1;\n\t          for (; j < this.rows; j++) {\n\t            this.eraseLine(j);\n\t          }\n\t          break;\n\t        case 1:\n\t          this.eraseLeft(this.x, this.y);\n\t          j = this.y;\n\t          while (j--) {\n\t            this.eraseLine(j);\n\t          }\n\t          break;\n\t        case 2:\n\t          j = this.rows;\n\t          while (j--) this.eraseLine(j);\n\t          break;\n\t        case 3:\n\t          ; // no saved lines\n\t          break;\n\t      }\n\t    };\n\t\n\t    // CSI Ps K  Erase in Line (EL).\n\t    //     Ps = 0  -> Erase to Right (default).\n\t    //     Ps = 1  -> Erase to Left.\n\t    //     Ps = 2  -> Erase All.\n\t    // CSI ? Ps K\n\t    //   Erase in Line (DECSEL).\n\t    //     Ps = 0  -> Selective Erase to Right (default).\n\t    //     Ps = 1  -> Selective Erase to Left.\n\t    //     Ps = 2  -> Selective Erase All.\n\t    Terminal.prototype.eraseInLine = function(params) {\n\t      switch (params[0]) {\n\t        case 0:\n\t          this.eraseRight(this.x, this.y);\n\t          break;\n\t        case 1:\n\t          this.eraseLeft(this.x, this.y);\n\t          break;\n\t        case 2:\n\t          this.eraseLine(this.y);\n\t          break;\n\t      }\n\t    };\n\t\n\t    // CSI Pm m  Character Attributes (SGR).\n\t    //     Ps = 0  -> Normal (default).\n\t    //     Ps = 1  -> Bold.\n\t    //     Ps = 4  -> Underlined.\n\t    //     Ps = 5  -> Blink (appears as Bold).\n\t    //     Ps = 7  -> Inverse.\n\t    //     Ps = 8  -> Invisible, i.e., hidden (VT300).\n\t    //     Ps = 2 2  -> Normal (neither bold nor faint).\n\t    //     Ps = 2 4  -> Not underlined.\n\t    //     Ps = 2 5  -> Steady (not blinking).\n\t    //     Ps = 2 7  -> Positive (not inverse).\n\t    //     Ps = 2 8  -> Visible, i.e., not hidden (VT300).\n\t    //     Ps = 3 0  -> Set foreground color to Black.\n\t    //     Ps = 3 1  -> Set foreground color to Red.\n\t    //     Ps = 3 2  -> Set foreground color to Green.\n\t    //     Ps = 3 3  -> Set foreground color to Yellow.\n\t    //     Ps = 3 4  -> Set foreground color to Blue.\n\t    //     Ps = 3 5  -> Set foreground color to Magenta.\n\t    //     Ps = 3 6  -> Set foreground color to Cyan.\n\t    //     Ps = 3 7  -> Set foreground color to White.\n\t    //     Ps = 3 9  -> Set foreground color to default (original).\n\t    //     Ps = 4 0  -> Set background color to Black.\n\t    //     Ps = 4 1  -> Set background color to Red.\n\t    //     Ps = 4 2  -> Set background color to Green.\n\t    //     Ps = 4 3  -> Set background color to Yellow.\n\t    //     Ps = 4 4  -> Set background color to Blue.\n\t    //     Ps = 4 5  -> Set background color to Magenta.\n\t    //     Ps = 4 6  -> Set background color to Cyan.\n\t    //     Ps = 4 7  -> Set background color to White.\n\t    //     Ps = 4 9  -> Set background color to default (original).\n\t\n\t    //   If 16-color support is compiled, the following apply.  Assume\n\t    //   that xterm's resources are set so that the ISO color codes are\n\t    //   the first 8 of a set of 16.  Then the aixterm colors are the\n\t    //   bright versions of the ISO colors:\n\t    //     Ps = 9 0  -> Set foreground color to Black.\n\t    //     Ps = 9 1  -> Set foreground color to Red.\n\t    //     Ps = 9 2  -> Set foreground color to Green.\n\t    //     Ps = 9 3  -> Set foreground color to Yellow.\n\t    //     Ps = 9 4  -> Set foreground color to Blue.\n\t    //     Ps = 9 5  -> Set foreground color to Magenta.\n\t    //     Ps = 9 6  -> Set foreground color to Cyan.\n\t    //     Ps = 9 7  -> Set foreground color to White.\n\t    //     Ps = 1 0 0  -> Set background color to Black.\n\t    //     Ps = 1 0 1  -> Set background color to Red.\n\t    //     Ps = 1 0 2  -> Set background color to Green.\n\t    //     Ps = 1 0 3  -> Set background color to Yellow.\n\t    //     Ps = 1 0 4  -> Set background color to Blue.\n\t    //     Ps = 1 0 5  -> Set background color to Magenta.\n\t    //     Ps = 1 0 6  -> Set background color to Cyan.\n\t    //     Ps = 1 0 7  -> Set background color to White.\n\t\n\t    //   If xterm is compiled with the 16-color support disabled, it\n\t    //   supports the following, from rxvt:\n\t    //     Ps = 1 0 0  -> Set foreground and background color to\n\t    //     default.\n\t\n\t    //   If 88- or 256-color support is compiled, the following apply.\n\t    //     Ps = 3 8  ; 5  ; Ps -> Set foreground color to the second\n\t    //     Ps.\n\t    //     Ps = 4 8  ; 5  ; Ps -> Set background color to the second\n\t    //     Ps.\n\t    Terminal.prototype.charAttributes = function(params) {\n\t      // Optimize a single SGR0.\n\t      if (params.length === 1 && params[0] === 0) {\n\t        this.curAttr = this.defAttr;\n\t        return;\n\t      }\n\t\n\t      var l = params.length\n\t        , i = 0\n\t        , flags = this.curAttr >> 18\n\t        , fg = (this.curAttr >> 9) & 0x1ff\n\t        , bg = this.curAttr & 0x1ff\n\t        , p;\n\t\n\t      for (; i < l; i++) {\n\t        p = params[i];\n\t        if (p >= 30 && p <= 37) {\n\t          // fg color 8\n\t          fg = p - 30;\n\t        } else if (p >= 40 && p <= 47) {\n\t          // bg color 8\n\t          bg = p - 40;\n\t        } else if (p >= 90 && p <= 97) {\n\t          // fg color 16\n\t          p += 8;\n\t          fg = p - 90;\n\t        } else if (p >= 100 && p <= 107) {\n\t          // bg color 16\n\t          p += 8;\n\t          bg = p - 100;\n\t        } else if (p === 0) {\n\t          // default\n\t          flags = this.defAttr >> 18;\n\t          fg = (this.defAttr >> 9) & 0x1ff;\n\t          bg = this.defAttr & 0x1ff;\n\t          // flags = 0;\n\t          // fg = 0x1ff;\n\t          // bg = 0x1ff;\n\t        } else if (p === 1) {\n\t          // bold text\n\t          flags |= 1;\n\t        } else if (p === 4) {\n\t          // underlined text\n\t          flags |= 2;\n\t        } else if (p === 5) {\n\t          // blink\n\t          flags |= 4;\n\t        } else if (p === 7) {\n\t          // inverse and positive\n\t          // test with: echo -e '\\e[31m\\e[42mhello\\e[7mworld\\e[27mhi\\e[m'\n\t          flags |= 8;\n\t        } else if (p === 8) {\n\t          // invisible\n\t          flags |= 16;\n\t        } else if (p === 22) {\n\t          // not bold\n\t          flags &= ~1;\n\t        } else if (p === 24) {\n\t          // not underlined\n\t          flags &= ~2;\n\t        } else if (p === 25) {\n\t          // not blink\n\t          flags &= ~4;\n\t        } else if (p === 27) {\n\t          // not inverse\n\t          flags &= ~8;\n\t        } else if (p === 28) {\n\t          // not invisible\n\t          flags &= ~16;\n\t        } else if (p === 39) {\n\t          // reset fg\n\t          fg = (this.defAttr >> 9) & 0x1ff;\n\t        } else if (p === 49) {\n\t          // reset bg\n\t          bg = this.defAttr & 0x1ff;\n\t        } else if (p === 38) {\n\t          // fg color 256\n\t          if (params[i + 1] === 2) {\n\t            i += 2;\n\t            fg = matchColor(\n\t              params[i] & 0xff,\n\t              params[i + 1] & 0xff,\n\t              params[i + 2] & 0xff);\n\t            if (fg === -1) fg = 0x1ff;\n\t            i += 2;\n\t          } else if (params[i + 1] === 5) {\n\t            i += 2;\n\t            p = params[i] & 0xff;\n\t            fg = p;\n\t          }\n\t        } else if (p === 48) {\n\t          // bg color 256\n\t          if (params[i + 1] === 2) {\n\t            i += 2;\n\t            bg = matchColor(\n\t              params[i] & 0xff,\n\t              params[i + 1] & 0xff,\n\t              params[i + 2] & 0xff);\n\t            if (bg === -1) bg = 0x1ff;\n\t            i += 2;\n\t          } else if (params[i + 1] === 5) {\n\t            i += 2;\n\t            p = params[i] & 0xff;\n\t            bg = p;\n\t          }\n\t        } else if (p === 100) {\n\t          // reset fg/bg\n\t          fg = (this.defAttr >> 9) & 0x1ff;\n\t          bg = this.defAttr & 0x1ff;\n\t        } else {\n\t          this.error('Unknown SGR attribute: %d.', p);\n\t        }\n\t      }\n\t\n\t      this.curAttr = (flags << 18) | (fg << 9) | bg;\n\t    };\n\t\n\t    // CSI Ps n  Device Status Report (DSR).\n\t    //     Ps = 5  -> Status Report.  Result (``OK'') is\n\t    //   CSI 0 n\n\t    //     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n\t    //   Result is\n\t    //   CSI r ; c R\n\t    // CSI ? Ps n\n\t    //   Device Status Report (DSR, DEC-specific).\n\t    //     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n\t    //     ? r ; c R (assumes page is zero).\n\t    //     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n\t    //     or CSI ? 1 1  n  (not ready).\n\t    //     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n\t    //     or CSI ? 2 1  n  (locked).\n\t    //     Ps = 2 6  -> Report Keyboard status as\n\t    //   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n\t    //   The last two parameters apply to VT400 & up, and denote key-\n\t    //   board ready and LK01 respectively.\n\t    //     Ps = 5 3  -> Report Locator status as\n\t    //   CSI ? 5 3  n  Locator available, if compiled-in, or\n\t    //   CSI ? 5 0  n  No Locator, if not.\n\t    Terminal.prototype.deviceStatus = function(params) {\n\t      if (!this.prefix) {\n\t        switch (params[0]) {\n\t          case 5:\n\t            // status report\n\t            this.send('\\x1b[0n');\n\t            break;\n\t          case 6:\n\t            // cursor position\n\t            this.send('\\x1b['\n\t              + (this.y + 1)\n\t              + ';'\n\t              + (this.x + 1)\n\t              + 'R');\n\t            break;\n\t        }\n\t      } else if (this.prefix === '?') {\n\t        // modern xterm doesnt seem to\n\t        // respond to any of these except ?6, 6, and 5\n\t        switch (params[0]) {\n\t          case 6:\n\t            // cursor position\n\t            this.send('\\x1b[?'\n\t              + (this.y + 1)\n\t              + ';'\n\t              + (this.x + 1)\n\t              + 'R');\n\t            break;\n\t          case 15:\n\t            // no printer\n\t            // this.send('\\x1b[?11n');\n\t            break;\n\t          case 25:\n\t            // dont support user defined keys\n\t            // this.send('\\x1b[?21n');\n\t            break;\n\t          case 26:\n\t            // north american keyboard\n\t            // this.send('\\x1b[?27;1;0;0n');\n\t            break;\n\t          case 53:\n\t            // no dec locator/mouse\n\t            // this.send('\\x1b[?50n');\n\t            break;\n\t        }\n\t      }\n\t    };\n\t\n\t    /**\n\t     * Additions\n\t     */\n\t\n\t    // CSI Ps @\n\t    // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n\t    Terminal.prototype.insertChars = function(params) {\n\t      var param, row, j, ch;\n\t\n\t      param = params[0];\n\t      if (param < 1) param = 1;\n\t\n\t      row = this.y + this.ybase;\n\t      j = this.x;\n\t      ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t      while (param-- && j < this.cols) {\n\t        this.lines[row].splice(j++, 0, ch);\n\t        this.lines[row].pop();\n\t      }\n\t    };\n\t\n\t    // CSI Ps E\n\t    // Cursor Next Line Ps Times (default = 1) (CNL).\n\t    // same as CSI Ps B ?\n\t    Terminal.prototype.cursorNextLine = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.y += param;\n\t      if (this.y >= this.rows) {\n\t        this.y = this.rows - 1;\n\t      }\n\t      this.x = 0;\n\t    };\n\t\n\t    // CSI Ps F\n\t    // Cursor Preceding Line Ps Times (default = 1) (CNL).\n\t    // reuse CSI Ps A ?\n\t    Terminal.prototype.cursorPrecedingLine = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.y -= param;\n\t      if (this.y < 0) this.y = 0;\n\t      this.x = 0;\n\t    };\n\t\n\t    // CSI Ps G\n\t    // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n\t    Terminal.prototype.cursorCharAbsolute = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.x = param - 1;\n\t    };\n\t\n\t    // CSI Ps L\n\t    // Insert Ps Line(s) (default = 1) (IL).\n\t    Terminal.prototype.insertLines = function(params) {\n\t      var param, row, j;\n\t\n\t      param = params[0];\n\t      if (param < 1) param = 1;\n\t      row = this.y + this.ybase;\n\t\n\t      j = this.rows - 1 - this.scrollBottom;\n\t      j = this.rows - 1 + this.ybase - j + 1;\n\t\n\t      while (param--) {\n\t        // test: echo -e '\\e[44m\\e[1L\\e[0m'\n\t        // blankLine(true) - xterm/linux behavior\n\t        this.lines.splice(row, 0, this.blankLine(true));\n\t        this.lines.splice(j, 1);\n\t      }\n\t\n\t      // this.maxRange();\n\t      this.updateRange(this.y);\n\t      this.updateRange(this.scrollBottom);\n\t    };\n\t\n\t    // CSI Ps M\n\t    // Delete Ps Line(s) (default = 1) (DL).\n\t    Terminal.prototype.deleteLines = function(params) {\n\t      var param, row, j;\n\t\n\t      param = params[0];\n\t      if (param < 1) param = 1;\n\t      row = this.y + this.ybase;\n\t\n\t      j = this.rows - 1 - this.scrollBottom;\n\t      j = this.rows - 1 + this.ybase - j;\n\t\n\t      while (param--) {\n\t        // test: echo -e '\\e[44m\\e[1M\\e[0m'\n\t        // blankLine(true) - xterm/linux behavior\n\t        this.lines.splice(j + 1, 0, this.blankLine(true));\n\t        this.lines.splice(row, 1);\n\t      }\n\t\n\t      // this.maxRange();\n\t      this.updateRange(this.y);\n\t      this.updateRange(this.scrollBottom);\n\t    };\n\t\n\t    // CSI Ps P\n\t    // Delete Ps Character(s) (default = 1) (DCH).\n\t    Terminal.prototype.deleteChars = function(params) {\n\t      var param, row, ch;\n\t\n\t      param = params[0];\n\t      if (param < 1) param = 1;\n\t\n\t      row = this.y + this.ybase;\n\t      ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t      while (param--) {\n\t        this.lines[row].splice(this.x, 1);\n\t        this.lines[row].push(ch);\n\t      }\n\t    };\n\t\n\t    // CSI Ps X\n\t    // Erase Ps Character(s) (default = 1) (ECH).\n\t    Terminal.prototype.eraseChars = function(params) {\n\t      var param, row, j, ch;\n\t\n\t      param = params[0];\n\t      if (param < 1) param = 1;\n\t\n\t      row = this.y + this.ybase;\n\t      j = this.x;\n\t      ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t      while (param-- && j < this.cols) {\n\t        this.lines[row][j++] = ch;\n\t      }\n\t    };\n\t\n\t    // CSI Pm `  Character Position Absolute\n\t    //   [column] (default = [row,1]) (HPA).\n\t    Terminal.prototype.charPosAbsolute = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.x = param - 1;\n\t      if (this.x >= this.cols) {\n\t        this.x = this.cols - 1;\n\t      }\n\t    };\n\t\n\t    // 141 61 a * HPR -\n\t    // Horizontal Position Relative\n\t    // reuse CSI Ps C ?\n\t    Terminal.prototype.HPositionRelative = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.x += param;\n\t      if (this.x >= this.cols) {\n\t        this.x = this.cols - 1;\n\t      }\n\t    };\n\t\n\t    // CSI Ps c  Send Device Attributes (Primary DA).\n\t    //     Ps = 0  or omitted -> request attributes from terminal.  The\n\t    //     response depends on the decTerminalID resource setting.\n\t    //     -> CSI ? 1 ; 2 c  (``VT100 with Advanced Video Option'')\n\t    //     -> CSI ? 1 ; 0 c  (``VT101 with No Options'')\n\t    //     -> CSI ? 6 c  (``VT102'')\n\t    //     -> CSI ? 6 0 ; 1 ; 2 ; 6 ; 8 ; 9 ; 1 5 ; c  (``VT220'')\n\t    //   The VT100-style response parameters do not mean anything by\n\t    //   themselves.  VT220 parameters do, telling the host what fea-\n\t    //   tures the terminal supports:\n\t    //     Ps = 1  -> 132-columns.\n\t    //     Ps = 2  -> Printer.\n\t    //     Ps = 6  -> Selective erase.\n\t    //     Ps = 8  -> User-defined keys.\n\t    //     Ps = 9  -> National replacement character sets.\n\t    //     Ps = 1 5  -> Technical characters.\n\t    //     Ps = 2 2  -> ANSI color, e.g., VT525.\n\t    //     Ps = 2 9  -> ANSI text locator (i.e., DEC Locator mode).\n\t    // CSI > Ps c\n\t    //   Send Device Attributes (Secondary DA).\n\t    //     Ps = 0  or omitted -> request the terminal's identification\n\t    //     code.  The response depends on the decTerminalID resource set-\n\t    //     ting.  It should apply only to VT220 and up, but xterm extends\n\t    //     this to VT100.\n\t    //     -> CSI  > Pp ; Pv ; Pc c\n\t    //   where Pp denotes the terminal type\n\t    //     Pp = 0  -> ``VT100''.\n\t    //     Pp = 1  -> ``VT220''.\n\t    //   and Pv is the firmware version (for xterm, this was originally\n\t    //   the XFree86 patch number, starting with 95).  In a DEC termi-\n\t    //   nal, Pc indicates the ROM cartridge registration number and is\n\t    //   always zero.\n\t    // More information:\n\t    //   xterm/charproc.c - line 2012, for more information.\n\t    //   vim responds with ^[[?0c or ^[[?1c after the terminal's response (?)\n\t    Terminal.prototype.sendDeviceAttributes = function(params) {\n\t      if (params[0] > 0) return;\n\t\n\t      if (!this.prefix) {\n\t        if (this.is('xterm')\n\t            || this.is('rxvt-unicode')\n\t            || this.is('screen')) {\n\t          this.send('\\x1b[?1;2c');\n\t        } else if (this.is('linux')) {\n\t          this.send('\\x1b[?6c');\n\t        }\n\t      } else if (this.prefix === '>') {\n\t        // xterm and urxvt\n\t        // seem to spit this\n\t        // out around ~370 times (?).\n\t        if (this.is('xterm')) {\n\t          this.send('\\x1b[>0;276;0c');\n\t        } else if (this.is('rxvt-unicode')) {\n\t          this.send('\\x1b[>85;95;0c');\n\t        } else if (this.is('linux')) {\n\t          // not supported by linux console.\n\t          // linux console echoes parameters.\n\t          this.send(params[0] + 'c');\n\t        } else if (this.is('screen')) {\n\t          this.send('\\x1b[>83;40003;0c');\n\t        }\n\t      }\n\t    };\n\t\n\t    // CSI Pm d\n\t    // Line Position Absolute  [row] (default = [1,column]) (VPA).\n\t    Terminal.prototype.linePosAbsolute = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.y = param - 1;\n\t      if (this.y >= this.rows) {\n\t        this.y = this.rows - 1;\n\t      }\n\t    };\n\t\n\t    // 145 65 e * VPR - Vertical Position Relative\n\t    // reuse CSI Ps B ?\n\t    Terminal.prototype.VPositionRelative = function(params) {\n\t      var param = params[0];\n\t      if (param < 1) param = 1;\n\t      this.y += param;\n\t      if (this.y >= this.rows) {\n\t        this.y = this.rows - 1;\n\t      }\n\t    };\n\t\n\t    // CSI Ps ; Ps f\n\t    //   Horizontal and Vertical Position [row;column] (default =\n\t    //   [1,1]) (HVP).\n\t    Terminal.prototype.HVPosition = function(params) {\n\t      if (params[0] < 1) params[0] = 1;\n\t      if (params[1] < 1) params[1] = 1;\n\t\n\t      this.y = params[0] - 1;\n\t      if (this.y >= this.rows) {\n\t        this.y = this.rows - 1;\n\t      }\n\t\n\t      this.x = params[1] - 1;\n\t      if (this.x >= this.cols) {\n\t        this.x = this.cols - 1;\n\t      }\n\t    };\n\t\n\t    // CSI Pm h  Set Mode (SM).\n\t    //     Ps = 2  -> Keyboard Action Mode (AM).\n\t    //     Ps = 4  -> Insert Mode (IRM).\n\t    //     Ps = 1 2  -> Send/receive (SRM).\n\t    //     Ps = 2 0  -> Automatic Newline (LNM).\n\t    // CSI ? Pm h\n\t    //   DEC Private Mode Set (DECSET).\n\t    //     Ps = 1  -> Application Cursor Keys (DECCKM).\n\t    //     Ps = 2  -> Designate USASCII for character sets G0-G3\n\t    //     (DECANM), and set VT100 mode.\n\t    //     Ps = 3  -> 132 Column Mode (DECCOLM).\n\t    //     Ps = 4  -> Smooth (Slow) Scroll (DECSCLM).\n\t    //     Ps = 5  -> Reverse Video (DECSCNM).\n\t    //     Ps = 6  -> Origin Mode (DECOM).\n\t    //     Ps = 7  -> Wraparound Mode (DECAWM).\n\t    //     Ps = 8  -> Auto-repeat Keys (DECARM).\n\t    //     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n\t    //     tion Mouse Tracking.\n\t    //     Ps = 1 0  -> Show toolbar (rxvt).\n\t    //     Ps = 1 2  -> Start Blinking Cursor (att610).\n\t    //     Ps = 1 8  -> Print form feed (DECPFF).\n\t    //     Ps = 1 9  -> Set print extent to full screen (DECPEX).\n\t    //     Ps = 2 5  -> Show Cursor (DECTCEM).\n\t    //     Ps = 3 0  -> Show scrollbar (rxvt).\n\t    //     Ps = 3 5  -> Enable font-shifting functions (rxvt).\n\t    //     Ps = 3 8  -> Enter Tektronix Mode (DECTEK).\n\t    //     Ps = 4 0  -> Allow 80 -> 132 Mode.\n\t    //     Ps = 4 1  -> more(1) fix (see curses resource).\n\t    //     Ps = 4 2  -> Enable Nation Replacement Character sets (DECN-\n\t    //     RCM).\n\t    //     Ps = 4 4  -> Turn On Margin Bell.\n\t    //     Ps = 4 5  -> Reverse-wraparound Mode.\n\t    //     Ps = 4 6  -> Start Logging.  This is normally disabled by a\n\t    //     compile-time option.\n\t    //     Ps = 4 7  -> Use Alternate Screen Buffer.  (This may be dis-\n\t    //     abled by the titeInhibit resource).\n\t    //     Ps = 6 6  -> Application keypad (DECNKM).\n\t    //     Ps = 6 7  -> Backarrow key sends backspace (DECBKM).\n\t    //     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n\t    //     release.  See the section Mouse Tracking.\n\t    //     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n\t    //     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n\t    //     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n\t    //     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n\t    //     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n\t    //     Ps = 1 0 1 0  -> Scroll to bottom on tty output (rxvt).\n\t    //     Ps = 1 0 1 1  -> Scroll to bottom on key press (rxvt).\n\t    //     Ps = 1 0 3 4  -> Interpret \"meta\" key, sets eighth bit.\n\t    //     (enables the eightBitInput resource).\n\t    //     Ps = 1 0 3 5  -> Enable special modifiers for Alt and Num-\n\t    //     Lock keys.  (This enables the numLock resource).\n\t    //     Ps = 1 0 3 6  -> Send ESC   when Meta modifies a key.  (This\n\t    //     enables the metaSendsEscape resource).\n\t    //     Ps = 1 0 3 7  -> Send DEL from the editing-keypad Delete\n\t    //     key.\n\t    //     Ps = 1 0 3 9  -> Send ESC  when Alt modifies a key.  (This\n\t    //     enables the altSendsEscape resource).\n\t    //     Ps = 1 0 4 0  -> Keep selection even if not highlighted.\n\t    //     (This enables the keepSelection resource).\n\t    //     Ps = 1 0 4 1  -> Use the CLIPBOARD selection.  (This enables\n\t    //     the selectToClipboard resource).\n\t    //     Ps = 1 0 4 2  -> Enable Urgency window manager hint when\n\t    //     Control-G is received.  (This enables the bellIsUrgent\n\t    //     resource).\n\t    //     Ps = 1 0 4 3  -> Enable raising of the window when Control-G\n\t    //     is received.  (enables the popOnBell resource).\n\t    //     Ps = 1 0 4 7  -> Use Alternate Screen Buffer.  (This may be\n\t    //     disabled by the titeInhibit resource).\n\t    //     Ps = 1 0 4 8  -> Save cursor as in DECSC.  (This may be dis-\n\t    //     abled by the titeInhibit resource).\n\t    //     Ps = 1 0 4 9  -> Save cursor as in DECSC and use Alternate\n\t    //     Screen Buffer, clearing it first.  (This may be disabled by\n\t    //     the titeInhibit resource).  This combines the effects of the 1\n\t    //     0 4 7  and 1 0 4 8  modes.  Use this with terminfo-based\n\t    //     applications rather than the 4 7  mode.\n\t    //     Ps = 1 0 5 0  -> Set terminfo/termcap function-key mode.\n\t    //     Ps = 1 0 5 1  -> Set Sun function-key mode.\n\t    //     Ps = 1 0 5 2  -> Set HP function-key mode.\n\t    //     Ps = 1 0 5 3  -> Set SCO function-key mode.\n\t    //     Ps = 1 0 6 0  -> Set legacy keyboard emulation (X11R6).\n\t    //     Ps = 1 0 6 1  -> Set VT220 keyboard emulation.\n\t    //     Ps = 2 0 0 4  -> Set bracketed paste mode.\n\t    // Modes:\n\t    //   http://vt100.net/docs/vt220-rm/chapter4.html\n\t    Terminal.prototype.setMode = function(params) {\n\t      if (typeof params === 'object') {\n\t        var l = params.length\n\t          , i = 0;\n\t\n\t        for (; i < l; i++) {\n\t          this.setMode(params[i]);\n\t        }\n\t\n\t        return;\n\t      }\n\t\n\t      if (!this.prefix) {\n\t        switch (params) {\n\t          case 4:\n\t            this.insertMode = true;\n\t            break;\n\t          case 20:\n\t            //this.convertEol = true;\n\t            break;\n\t        }\n\t      } else if (this.prefix === '?') {\n\t        switch (params) {\n\t          case 1:\n\t            this.applicationCursor = true;\n\t            break;\n\t          case 2:\n\t            this.setgCharset(0, Terminal.charsets.US);\n\t            this.setgCharset(1, Terminal.charsets.US);\n\t            this.setgCharset(2, Terminal.charsets.US);\n\t            this.setgCharset(3, Terminal.charsets.US);\n\t            // set VT100 mode here\n\t            break;\n\t          case 3: // 132 col mode\n\t            this.savedCols = this.cols;\n\t            this.resize(132, this.rows);\n\t            break;\n\t          case 6:\n\t            this.originMode = true;\n\t            break;\n\t          case 7:\n\t            this.wraparoundMode = true;\n\t            break;\n\t          case 12:\n\t            // this.cursorBlink = true;\n\t            break;\n\t          case 66:\n\t            this.log('Serial port requested application keypad.');\n\t            this.applicationKeypad = true;\n\t            break;\n\t          case 9: // X10 Mouse\n\t            // no release, no motion, no wheel, no modifiers.\n\t          case 1000: // vt200 mouse\n\t            // no motion.\n\t            // no modifiers, except control on the wheel.\n\t          case 1002: // button event mouse\n\t          case 1003: // any event mouse\n\t            // any event - sends motion events,\n\t            // even if there is no button held down.\n\t            this.x10Mouse = params === 9;\n\t            this.vt200Mouse = params === 1000;\n\t            this.normalMouse = params > 1000;\n\t            this.mouseEvents = true;\n\t            this.element.style.cursor = 'default';\n\t            this.log('Binding to mouse events.');\n\t            break;\n\t          case 1004: // send focusin/focusout events\n\t            // focusin: ^[[I\n\t            // focusout: ^[[O\n\t            this.sendFocus = true;\n\t            break;\n\t          case 1005: // utf8 ext mode mouse\n\t            this.utfMouse = true;\n\t            // for wide terminals\n\t            // simply encodes large values as utf8 characters\n\t            break;\n\t          case 1006: // sgr ext mode mouse\n\t            this.sgrMouse = true;\n\t            // for wide terminals\n\t            // does not add 32 to fields\n\t            // press: ^[[<b;x;yM\n\t            // release: ^[[<b;x;ym\n\t            break;\n\t          case 1015: // urxvt ext mode mouse\n\t            this.urxvtMouse = true;\n\t            // for wide terminals\n\t            // numbers for fields\n\t            // press: ^[[b;x;yM\n\t            // motion: ^[[b;x;yT\n\t            break;\n\t          case 25: // show cursor\n\t            this.cursorHidden = false;\n\t            break;\n\t          case 1049: // alt screen buffer cursor\n\t            //this.saveCursor();\n\t            ; // FALL-THROUGH\n\t          case 47: // alt screen buffer\n\t          case 1047: // alt screen buffer\n\t            if (!this.normal) {\n\t              var normal = {\n\t                lines: this.lines,\n\t                ybase: this.ybase,\n\t                ydisp: this.ydisp,\n\t                x: this.x,\n\t                y: this.y,\n\t                scrollTop: this.scrollTop,\n\t                scrollBottom: this.scrollBottom,\n\t                tabs: this.tabs\n\t                // XXX save charset(s) here?\n\t                // charset: this.charset,\n\t                // glevel: this.glevel,\n\t                // charsets: this.charsets\n\t              };\n\t              this.reset();\n\t              this.normal = normal;\n\t              this.showCursor();\n\t            }\n\t            break;\n\t        }\n\t      }\n\t    };\n\t\n\t    // CSI Pm l  Reset Mode (RM).\n\t    //     Ps = 2  -> Keyboard Action Mode (AM).\n\t    //     Ps = 4  -> Replace Mode (IRM).\n\t    //     Ps = 1 2  -> Send/receive (SRM).\n\t    //     Ps = 2 0  -> Normal Linefeed (LNM).\n\t    // CSI ? Pm l\n\t    //   DEC Private Mode Reset (DECRST).\n\t    //     Ps = 1  -> Normal Cursor Keys (DECCKM).\n\t    //     Ps = 2  -> Designate VT52 mode (DECANM).\n\t    //     Ps = 3  -> 80 Column Mode (DECCOLM).\n\t    //     Ps = 4  -> Jump (Fast) Scroll (DECSCLM).\n\t    //     Ps = 5  -> Normal Video (DECSCNM).\n\t    //     Ps = 6  -> Normal Cursor Mode (DECOM).\n\t    //     Ps = 7  -> No Wraparound Mode (DECAWM).\n\t    //     Ps = 8  -> No Auto-repeat Keys (DECARM).\n\t    //     Ps = 9  -> Don't send Mouse X & Y on button press.\n\t    //     Ps = 1 0  -> Hide toolbar (rxvt).\n\t    //     Ps = 1 2  -> Stop Blinking Cursor (att610).\n\t    //     Ps = 1 8  -> Don't print form feed (DECPFF).\n\t    //     Ps = 1 9  -> Limit print to scrolling region (DECPEX).\n\t    //     Ps = 2 5  -> Hide Cursor (DECTCEM).\n\t    //     Ps = 3 0  -> Don't show scrollbar (rxvt).\n\t    //     Ps = 3 5  -> Disable font-shifting functions (rxvt).\n\t    //     Ps = 4 0  -> Disallow 80 -> 132 Mode.\n\t    //     Ps = 4 1  -> No more(1) fix (see curses resource).\n\t    //     Ps = 4 2  -> Disable Nation Replacement Character sets (DEC-\n\t    //     NRCM).\n\t    //     Ps = 4 4  -> Turn Off Margin Bell.\n\t    //     Ps = 4 5  -> No Reverse-wraparound Mode.\n\t    //     Ps = 4 6  -> Stop Logging.  (This is normally disabled by a\n\t    //     compile-time option).\n\t    //     Ps = 4 7  -> Use Normal Screen Buffer.\n\t    //     Ps = 6 6  -> Numeric keypad (DECNKM).\n\t    //     Ps = 6 7  -> Backarrow key sends delete (DECBKM).\n\t    //     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n\t    //     release.  See the section Mouse Tracking.\n\t    //     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n\t    //     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n\t    //     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n\t    //     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n\t    //     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n\t    //     Ps = 1 0 1 0  -> Don't scroll to bottom on tty output\n\t    //     (rxvt).\n\t    //     Ps = 1 0 1 1  -> Don't scroll to bottom on key press (rxvt).\n\t    //     Ps = 1 0 3 4  -> Don't interpret \"meta\" key.  (This disables\n\t    //     the eightBitInput resource).\n\t    //     Ps = 1 0 3 5  -> Disable special modifiers for Alt and Num-\n\t    //     Lock keys.  (This disables the numLock resource).\n\t    //     Ps = 1 0 3 6  -> Don't send ESC  when Meta modifies a key.\n\t    //     (This disables the metaSendsEscape resource).\n\t    //     Ps = 1 0 3 7  -> Send VT220 Remove from the editing-keypad\n\t    //     Delete key.\n\t    //     Ps = 1 0 3 9  -> Don't send ESC  when Alt modifies a key.\n\t    //     (This disables the altSendsEscape resource).\n\t    //     Ps = 1 0 4 0  -> Do not keep selection when not highlighted.\n\t    //     (This disables the keepSelection resource).\n\t    //     Ps = 1 0 4 1  -> Use the PRIMARY selection.  (This disables\n\t    //     the selectToClipboard resource).\n\t    //     Ps = 1 0 4 2  -> Disable Urgency window manager hint when\n\t    //     Control-G is received.  (This disables the bellIsUrgent\n\t    //     resource).\n\t    //     Ps = 1 0 4 3  -> Disable raising of the window when Control-\n\t    //     G is received.  (This disables the popOnBell resource).\n\t    //     Ps = 1 0 4 7  -> Use Normal Screen Buffer, clearing screen\n\t    //     first if in the Alternate Screen.  (This may be disabled by\n\t    //     the titeInhibit resource).\n\t    //     Ps = 1 0 4 8  -> Restore cursor as in DECRC.  (This may be\n\t    //     disabled by the titeInhibit resource).\n\t    //     Ps = 1 0 4 9  -> Use Normal Screen Buffer and restore cursor\n\t    //     as in DECRC.  (This may be disabled by the titeInhibit\n\t    //     resource).  This combines the effects of the 1 0 4 7  and 1 0\n\t    //     4 8  modes.  Use this with terminfo-based applications rather\n\t    //     than the 4 7  mode.\n\t    //     Ps = 1 0 5 0  -> Reset terminfo/termcap function-key mode.\n\t    //     Ps = 1 0 5 1  -> Reset Sun function-key mode.\n\t    //     Ps = 1 0 5 2  -> Reset HP function-key mode.\n\t    //     Ps = 1 0 5 3  -> Reset SCO function-key mode.\n\t    //     Ps = 1 0 6 0  -> Reset legacy keyboard emulation (X11R6).\n\t    //     Ps = 1 0 6 1  -> Reset keyboard emulation to Sun/PC style.\n\t    //     Ps = 2 0 0 4  -> Reset bracketed paste mode.\n\t    Terminal.prototype.resetMode = function(params) {\n\t      if (typeof params === 'object') {\n\t        var l = params.length\n\t          , i = 0;\n\t\n\t        for (; i < l; i++) {\n\t          this.resetMode(params[i]);\n\t        }\n\t\n\t        return;\n\t      }\n\t\n\t      if (!this.prefix) {\n\t        switch (params) {\n\t          case 4:\n\t            this.insertMode = false;\n\t            break;\n\t          case 20:\n\t            //this.convertEol = false;\n\t            break;\n\t        }\n\t      } else if (this.prefix === '?') {\n\t        switch (params) {\n\t          case 1:\n\t            this.applicationCursor = false;\n\t            break;\n\t          case 3:\n\t            if (this.cols === 132 && this.savedCols) {\n\t              this.resize(this.savedCols, this.rows);\n\t            }\n\t            delete this.savedCols;\n\t            break;\n\t          case 6:\n\t            this.originMode = false;\n\t            break;\n\t          case 7:\n\t            this.wraparoundMode = false;\n\t            break;\n\t          case 12:\n\t            // this.cursorBlink = false;\n\t            break;\n\t          case 66:\n\t            this.log('Switching back to normal keypad.');\n\t            this.applicationKeypad = false;\n\t            break;\n\t          case 9: // X10 Mouse\n\t          case 1000: // vt200 mouse\n\t          case 1002: // button event mouse\n\t          case 1003: // any event mouse\n\t            this.x10Mouse = false;\n\t            this.vt200Mouse = false;\n\t            this.normalMouse = false;\n\t            this.mouseEvents = false;\n\t            this.element.style.cursor = '';\n\t            break;\n\t          case 1004: // send focusin/focusout events\n\t            this.sendFocus = false;\n\t            break;\n\t          case 1005: // utf8 ext mode mouse\n\t            this.utfMouse = false;\n\t            break;\n\t          case 1006: // sgr ext mode mouse\n\t            this.sgrMouse = false;\n\t            break;\n\t          case 1015: // urxvt ext mode mouse\n\t            this.urxvtMouse = false;\n\t            break;\n\t          case 25: // hide cursor\n\t            this.cursorHidden = true;\n\t            break;\n\t          case 1049: // alt screen buffer cursor\n\t            ; // FALL-THROUGH\n\t          case 47: // normal screen buffer\n\t          case 1047: // normal screen buffer - clearing it first\n\t            if (this.normal) {\n\t              this.lines = this.normal.lines;\n\t              this.ybase = this.normal.ybase;\n\t              this.ydisp = this.normal.ydisp;\n\t              this.x = this.normal.x;\n\t              this.y = this.normal.y;\n\t              this.scrollTop = this.normal.scrollTop;\n\t              this.scrollBottom = this.normal.scrollBottom;\n\t              this.tabs = this.normal.tabs;\n\t              this.normal = null;\n\t              // if (params === 1049) {\n\t              //   this.x = this.savedX;\n\t              //   this.y = this.savedY;\n\t              // }\n\t              this.refresh(0, this.rows - 1);\n\t              this.showCursor();\n\t            }\n\t            break;\n\t        }\n\t      }\n\t    };\n\t\n\t    // CSI Ps ; Ps r\n\t    //   Set Scrolling Region [top;bottom] (default = full size of win-\n\t    //   dow) (DECSTBM).\n\t    // CSI ? Pm r\n\t    Terminal.prototype.setScrollRegion = function(params) {\n\t      if (this.prefix) return;\n\t      this.scrollTop = (params[0] || 1) - 1;\n\t      this.scrollBottom = (params[1] || this.rows) - 1;\n\t      this.x = 0;\n\t      this.y = 0;\n\t    };\n\t\n\t    // CSI s\n\t    //   Save cursor (ANSI.SYS).\n\t    Terminal.prototype.saveCursor = function(params) {\n\t      this.savedX = this.x;\n\t      this.savedY = this.y;\n\t    };\n\t\n\t    // CSI u\n\t    //   Restore cursor (ANSI.SYS).\n\t    Terminal.prototype.restoreCursor = function(params) {\n\t      this.x = this.savedX || 0;\n\t      this.y = this.savedY || 0;\n\t    };\n\t\n\t    /**\n\t     * Lesser Used\n\t     */\n\t\n\t    // CSI Ps I\n\t    //   Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n\t    Terminal.prototype.cursorForwardTab = function(params) {\n\t      var param = params[0] || 1;\n\t      while (param--) {\n\t        this.x = this.nextStop();\n\t      }\n\t    };\n\t\n\t    // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n\t    Terminal.prototype.scrollUp = function(params) {\n\t      var param = params[0] || 1;\n\t      while (param--) {\n\t        this.lines.splice(this.ybase + this.scrollTop, 1);\n\t        this.lines.splice(this.ybase + this.scrollBottom, 0, this.blankLine());\n\t      }\n\t      // this.maxRange();\n\t      this.updateRange(this.scrollTop);\n\t      this.updateRange(this.scrollBottom);\n\t    };\n\t\n\t    // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n\t    Terminal.prototype.scrollDown = function(params) {\n\t      var param = params[0] || 1;\n\t      while (param--) {\n\t        this.lines.splice(this.ybase + this.scrollBottom, 1);\n\t        this.lines.splice(this.ybase + this.scrollTop, 0, this.blankLine());\n\t      }\n\t      // this.maxRange();\n\t      this.updateRange(this.scrollTop);\n\t      this.updateRange(this.scrollBottom);\n\t    };\n\t\n\t    // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n\t    //   Initiate highlight mouse tracking.  Parameters are\n\t    //   [func;startx;starty;firstrow;lastrow].  See the section Mouse\n\t    //   Tracking.\n\t    Terminal.prototype.initMouseTracking = function(params) {\n\t      // Relevant: DECSET 1001\n\t    };\n\t\n\t    // CSI > Ps; Ps T\n\t    //   Reset one or more features of the title modes to the default\n\t    //   value.  Normally, \"reset\" disables the feature.  It is possi-\n\t    //   ble to disable the ability to reset features by compiling a\n\t    //   different default for the title modes into xterm.\n\t    //     Ps = 0  -> Do not set window/icon labels using hexadecimal.\n\t    //     Ps = 1  -> Do not query window/icon labels using hexadeci-\n\t    //     mal.\n\t    //     Ps = 2  -> Do not set window/icon labels using UTF-8.\n\t    //     Ps = 3  -> Do not query window/icon labels using UTF-8.\n\t    //   (See discussion of \"Title Modes\").\n\t    Terminal.prototype.resetTitleModes = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI Ps Z  Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n\t    Terminal.prototype.cursorBackwardTab = function(params) {\n\t      var param = params[0] || 1;\n\t      while (param--) {\n\t        this.x = this.prevStop();\n\t      }\n\t    };\n\t\n\t    // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n\t    Terminal.prototype.repeatPrecedingCharacter = function(params) {\n\t      var param = params[0] || 1\n\t        , line = this.lines[this.ybase + this.y]\n\t        , ch = line[this.x - 1] || [this.defAttr, ' '];\n\t\n\t      while (param--) line[this.x++] = ch;\n\t    };\n\t\n\t    // CSI Ps g  Tab Clear (TBC).\n\t    //     Ps = 0  -> Clear Current Column (default).\n\t    //     Ps = 3  -> Clear All.\n\t    // Potentially:\n\t    //   Ps = 2  -> Clear Stops on Line.\n\t    //   http://vt100.net/annarbor/aaa-ug/section6.html\n\t    Terminal.prototype.tabClear = function(params) {\n\t      var param = params[0];\n\t      if (param <= 0) {\n\t        delete this.tabs[this.x];\n\t      } else if (param === 3) {\n\t        this.tabs = {};\n\t      }\n\t    };\n\t\n\t    // CSI Pm i  Media Copy (MC).\n\t    //     Ps = 0  -> Print screen (default).\n\t    //     Ps = 4  -> Turn off printer controller mode.\n\t    //     Ps = 5  -> Turn on printer controller mode.\n\t    // CSI ? Pm i\n\t    //   Media Copy (MC, DEC-specific).\n\t    //     Ps = 1  -> Print line containing cursor.\n\t    //     Ps = 4  -> Turn off autoprint mode.\n\t    //     Ps = 5  -> Turn on autoprint mode.\n\t    //     Ps = 1  0  -> Print composed display, ignores DECPEX.\n\t    //     Ps = 1  1  -> Print all pages.\n\t    Terminal.prototype.mediaCopy = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI > Ps; Ps m\n\t    //   Set or reset resource-values used by xterm to decide whether\n\t    //   to construct escape sequences holding information about the\n\t    //   modifiers pressed with a given key.  The first parameter iden-\n\t    //   tifies the resource to set/reset.  The second parameter is the\n\t    //   value to assign to the resource.  If the second parameter is\n\t    //   omitted, the resource is reset to its initial value.\n\t    //     Ps = 1  -> modifyCursorKeys.\n\t    //     Ps = 2  -> modifyFunctionKeys.\n\t    //     Ps = 4  -> modifyOtherKeys.\n\t    //   If no parameters are given, all resources are reset to their\n\t    //   initial values.\n\t    Terminal.prototype.setResources = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI > Ps n\n\t    //   Disable modifiers which may be enabled via the CSI > Ps; Ps m\n\t    //   sequence.  This corresponds to a resource value of \"-1\", which\n\t    //   cannot be set with the other sequence.  The parameter identi-\n\t    //   fies the resource to be disabled:\n\t    //     Ps = 1  -> modifyCursorKeys.\n\t    //     Ps = 2  -> modifyFunctionKeys.\n\t    //     Ps = 4  -> modifyOtherKeys.\n\t    //   If the parameter is omitted, modifyFunctionKeys is disabled.\n\t    //   When modifyFunctionKeys is disabled, xterm uses the modifier\n\t    //   keys to make an extended sequence of functions rather than\n\t    //   adding a parameter to each function key to denote the modi-\n\t    //   fiers.\n\t    Terminal.prototype.disableModifiers = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI > Ps p\n\t    //   Set resource value pointerMode.  This is used by xterm to\n\t    //   decide whether to hide the pointer cursor as the user types.\n\t    //   Valid values for the parameter:\n\t    //     Ps = 0  -> never hide the pointer.\n\t    //     Ps = 1  -> hide if the mouse tracking mode is not enabled.\n\t    //     Ps = 2  -> always hide the pointer.  If no parameter is\n\t    //     given, xterm uses the default, which is 1 .\n\t    Terminal.prototype.setPointerMode = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI ! p   Soft terminal reset (DECSTR).\n\t    // http://vt100.net/docs/vt220-rm/table4-10.html\n\t    Terminal.prototype.softReset = function(params) {\n\t      this.cursorHidden = false;\n\t      this.insertMode = false;\n\t      this.originMode = false;\n\t      this.wraparoundMode = false; // autowrap\n\t      this.applicationKeypad = false; // ?\n\t      this.applicationCursor = false;\n\t      this.scrollTop = 0;\n\t      this.scrollBottom = this.rows - 1;\n\t      this.curAttr = this.defAttr;\n\t      this.x = this.y = 0; // ?\n\t      this.charset = null;\n\t      this.glevel = 0; // ??\n\t      this.charsets = [null]; // ??\n\t    };\n\t\n\t    // CSI Ps$ p\n\t    //   Request ANSI mode (DECRQM).  For VT300 and up, reply is\n\t    //     CSI Ps; Pm$ y\n\t    //   where Ps is the mode number as in RM, and Pm is the mode\n\t    //   value:\n\t    //     0 - not recognized\n\t    //     1 - set\n\t    //     2 - reset\n\t    //     3 - permanently set\n\t    //     4 - permanently reset\n\t    Terminal.prototype.requestAnsiMode = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI ? Ps$ p\n\t    //   Request DEC private mode (DECRQM).  For VT300 and up, reply is\n\t    //     CSI ? Ps; Pm$ p\n\t    //   where Ps is the mode number as in DECSET, Pm is the mode value\n\t    //   as in the ANSI DECRQM.\n\t    Terminal.prototype.requestPrivateMode = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI Ps ; Ps \" p\n\t    //   Set conformance level (DECSCL).  Valid values for the first\n\t    //   parameter:\n\t    //     Ps = 6 1  -> VT100.\n\t    //     Ps = 6 2  -> VT200.\n\t    //     Ps = 6 3  -> VT300.\n\t    //   Valid values for the second parameter:\n\t    //     Ps = 0  -> 8-bit controls.\n\t    //     Ps = 1  -> 7-bit controls (always set for VT100).\n\t    //     Ps = 2  -> 8-bit controls.\n\t    Terminal.prototype.setConformanceLevel = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI Ps q  Load LEDs (DECLL).\n\t    //     Ps = 0  -> Clear all LEDS (default).\n\t    //     Ps = 1  -> Light Num Lock.\n\t    //     Ps = 2  -> Light Caps Lock.\n\t    //     Ps = 3  -> Light Scroll Lock.\n\t    //     Ps = 2  1  -> Extinguish Num Lock.\n\t    //     Ps = 2  2  -> Extinguish Caps Lock.\n\t    //     Ps = 2  3  -> Extinguish Scroll Lock.\n\t    Terminal.prototype.loadLEDs = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI Ps SP q\n\t    //   Set cursor style (DECSCUSR, VT520).\n\t    //     Ps = 0  -> blinking block.\n\t    //     Ps = 1  -> blinking block (default).\n\t    //     Ps = 2  -> steady block.\n\t    //     Ps = 3  -> blinking underline.\n\t    //     Ps = 4  -> steady underline.\n\t    Terminal.prototype.setCursorStyle = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI Ps \" q\n\t    //   Select character protection attribute (DECSCA).  Valid values\n\t    //   for the parameter:\n\t    //     Ps = 0  -> DECSED and DECSEL can erase (default).\n\t    //     Ps = 1  -> DECSED and DECSEL cannot erase.\n\t    //     Ps = 2  -> DECSED and DECSEL can erase.\n\t    Terminal.prototype.setCharProtectionAttr = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI ? Pm r\n\t    //   Restore DEC Private Mode Values.  The value of Ps previously\n\t    //   saved is restored.  Ps values are the same as for DECSET.\n\t    Terminal.prototype.restorePrivateValues = function(params) {\n\t      ;\n\t    };\n\t\n\t    // CSI Pt; Pl; Pb; Pr; Ps$ r\n\t    //   Change Attributes in Rectangular Area (DECCARA), VT400 and up.\n\t    //     Pt; Pl; Pb; Pr denotes the rectangle.\n\t    //     Ps denotes the SGR attributes to change: 0, 1, 4, 5, 7.\n\t    // NOTE: xterm doesn't enable this code by default.\n\t    Terminal.prototype.setAttrInRectangle = function(params) {\n\t      var t = params[0]\n\t        , l = params[1]\n\t        , b = params[2]\n\t        , r = params[3]\n\t        , attr = params[4];\n\t\n\t      var line\n\t        , i;\n\t\n\t      for (; t < b + 1; t++) {\n\t        line = this.lines[this.ybase + t];\n\t        for (i = l; i < r; i++) {\n\t          line[i] = [attr, line[i][1]];\n\t        }\n\t      }\n\t\n\t      // this.maxRange();\n\t      this.updateRange(params[0]);\n\t      this.updateRange(params[2]);\n\t    };\n\t\n\t\n\t    // CSI Pc; Pt; Pl; Pb; Pr$ x\n\t    //   Fill Rectangular Area (DECFRA), VT420 and up.\n\t    //     Pc is the character to use.\n\t    //     Pt; Pl; Pb; Pr denotes the rectangle.\n\t    // NOTE: xterm doesn't enable this code by default.\n\t    Terminal.prototype.fillRectangle = function(params) {\n\t      var ch = params[0]\n\t        , t = params[1]\n\t        , l = params[2]\n\t        , b = params[3]\n\t        , r = params[4];\n\t\n\t      var line\n\t        , i;\n\t\n\t      for (; t < b + 1; t++) {\n\t        line = this.lines[this.ybase + t];\n\t        for (i = l; i < r; i++) {\n\t          line[i] = [line[i][0], String.fromCharCode(ch)];\n\t        }\n\t      }\n\t\n\t      // this.maxRange();\n\t      this.updateRange(params[1]);\n\t      this.updateRange(params[3]);\n\t    };\n\t\n\t    // CSI Ps ; Pu ' z\n\t    //   Enable Locator Reporting (DECELR).\n\t    //   Valid values for the first parameter:\n\t    //     Ps = 0  -> Locator disabled (default).\n\t    //     Ps = 1  -> Locator enabled.\n\t    //     Ps = 2  -> Locator enabled for one report, then disabled.\n\t    //   The second parameter specifies the coordinate unit for locator\n\t    //   reports.\n\t    //   Valid values for the second parameter:\n\t    //     Pu = 0  <- or omitted -> default to character cells.\n\t    //     Pu = 1  <- device physical pixels.\n\t    //     Pu = 2  <- character cells.\n\t    Terminal.prototype.enableLocatorReporting = function(params) {\n\t      var val = params[0] > 0;\n\t      //this.mouseEvents = val;\n\t      //this.decLocator = val;\n\t    };\n\t\n\t    // CSI Pt; Pl; Pb; Pr$ z\n\t    //   Erase Rectangular Area (DECERA), VT400 and up.\n\t    //     Pt; Pl; Pb; Pr denotes the rectangle.\n\t    // NOTE: xterm doesn't enable this code by default.\n\t    Terminal.prototype.eraseRectangle = function(params) {\n\t      var t = params[0]\n\t        , l = params[1]\n\t        , b = params[2]\n\t        , r = params[3];\n\t\n\t      var line\n\t        , i\n\t        , ch;\n\t\n\t      ch = [this.eraseAttr(), ' ']; // xterm?\n\t\n\t      for (; t < b + 1; t++) {\n\t        line = this.lines[this.ybase + t];\n\t        for (i = l; i < r; i++) {\n\t          line[i] = ch;\n\t        }\n\t      }\n\t\n\t      // this.maxRange();\n\t      this.updateRange(params[0]);\n\t      this.updateRange(params[2]);\n\t    };\n\t\n\t\n\t    // CSI P m SP }\n\t    // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n\t    // NOTE: xterm doesn't enable this code by default.\n\t    Terminal.prototype.insertColumns = function() {\n\t      var param = params[0]\n\t        , l = this.ybase + this.rows\n\t        , ch = [this.eraseAttr(), ' '] // xterm?\n\t        , i;\n\t\n\t      while (param--) {\n\t        for (i = this.ybase; i < l; i++) {\n\t          this.lines[i].splice(this.x + 1, 0, ch);\n\t          this.lines[i].pop();\n\t        }\n\t      }\n\t\n\t      this.maxRange();\n\t    };\n\t\n\t    // CSI P m SP ~\n\t    // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n\t    // NOTE: xterm doesn't enable this code by default.\n\t    Terminal.prototype.deleteColumns = function() {\n\t      var param = params[0]\n\t        , l = this.ybase + this.rows\n\t        , ch = [this.eraseAttr(), ' '] // xterm?\n\t        , i;\n\t\n\t      while (param--) {\n\t        for (i = this.ybase; i < l; i++) {\n\t          this.lines[i].splice(this.x, 1);\n\t          this.lines[i].push(ch);\n\t        }\n\t      }\n\t\n\t      this.maxRange();\n\t    };\n\t\n\t\n\t    Terminal.prototype.copyBuffer = function(lines) {\n\t      var lines = lines || this.lines\n\t        , out = [];\n\t\n\t      for (var y = 0; y < lines.length; y++) {\n\t        out[y] = [];\n\t        for (var x = 0; x < lines[y].length; x++) {\n\t          out[y][x] = [lines[y][x][0], lines[y][x][1]];\n\t        }\n\t      }\n\t\n\t      return out;\n\t    };\n\t\n\t    Terminal.prototype.getCopyTextarea = function(text) {\n\t      var textarea = this._copyTextarea\n\t        , document = this.document;\n\t\n\t      if (!textarea) {\n\t        textarea = document.createElement('textarea');\n\t        textarea.style.position = 'absolute';\n\t        textarea.style.left = '-32000px';\n\t        textarea.style.top = '-32000px';\n\t        textarea.style.width = '0px';\n\t        textarea.style.height = '0px';\n\t        textarea.style.opacity = '0';\n\t        textarea.style.backgroundColor = 'transparent';\n\t        textarea.style.borderStyle = 'none';\n\t        textarea.style.outlineStyle = 'none';\n\t\n\t        document.getElementsByTagName('body')[0].appendChild(textarea);\n\t\n\t        this._copyTextarea = textarea;\n\t      }\n\t\n\t      return textarea;\n\t    };\n\t\n\t    // NOTE: Only works for primary selection on X11.\n\t    // Non-X11 users should use Ctrl-C instead.\n\t    Terminal.prototype.copyText = function(text) {\n\t      var self = this\n\t        , textarea = this.getCopyTextarea();\n\t\n\t      this.emit('copy', text);\n\t\n\t      textarea.focus();\n\t      textarea.textContent = text;\n\t      textarea.value = text;\n\t      textarea.setSelectionRange(0, text.length);\n\t\n\t      setTimeout(function() {\n\t        self.element.focus();\n\t        self.focus();\n\t      }, 1);\n\t    };\n\t\n\t    Terminal.prototype.keyPrefix = function(ev, key) {\n\t      if (key === 'k' || key === '&') {\n\t        this.destroy();\n\t      } else if (key === 'p' || key === ']') {\n\t        this.emit('request paste');\n\t      } else if (key === 'c') {\n\t        this.emit('request create');\n\t      } else if (key >= '0' && key <= '9') {\n\t        key = +key - 1;\n\t        if (!~key) key = 9;\n\t        this.emit('request term', key);\n\t      } else if (key === 'n') {\n\t        this.emit('request term next');\n\t      } else if (key === 'P') {\n\t        this.emit('request term previous');\n\t      } else if (key === ':') {\n\t        this.emit('request command mode');\n\t      }\n\t    };\n\t\n\t    Terminal.prototype.keySelect = function(ev, key) {\n\t      this.showCursor();\n\t\n\t      if (key === '\\x04') { // ctrl-d\n\t        var y = this.ydisp + this.y;\n\t        if (this.ydisp === this.ybase) {\n\t          // Mimic vim behavior\n\t          this.y = Math.min(this.y + (this.rows - 1) / 2 | 0, this.rows - 1);\n\t          this.refresh(0, this.rows - 1);\n\t        } else {\n\t          this.scrollDisp((this.rows - 1) / 2 | 0);\n\t        }\n\t        return;\n\t      }\n\t\n\t      if (key === '\\x15') { // ctrl-u\n\t        var y = this.ydisp + this.y;\n\t        if (this.ydisp === 0) {\n\t          // Mimic vim behavior\n\t          this.y = Math.max(this.y - (this.rows - 1) / 2 | 0, 0);\n\t          this.refresh(0, this.rows - 1);\n\t        } else {\n\t          this.scrollDisp(-(this.rows - 1) / 2 | 0);\n\t        }\n\t        return;\n\t      }\n\t\n\t      if (key === '\\x06') { // ctrl-f\n\t        var y = this.ydisp + this.y;\n\t        this.scrollDisp(this.rows - 1);\n\t        return;\n\t      }\n\t\n\t      if (key === '\\x02') { // ctrl-b\n\t        var y = this.ydisp + this.y;\n\t        this.scrollDisp(-(this.rows - 1));\n\t        return;\n\t      }\n\t\n\t      if (key === 'k' || key === '\\x1b[A') {\n\t        var y = this.ydisp + this.y;\n\t        this.y--;\n\t        if (this.y < 0) {\n\t          this.y = 0;\n\t          this.scrollDisp(-1);\n\t        }\n\t        this.refresh(this.y, this.y + 1);\n\t        return;\n\t      }\n\t\n\t      if (key === 'j' || key === '\\x1b[B') {\n\t        var y = this.ydisp + this.y;\n\t        this.y++;\n\t        if (this.y >= this.rows) {\n\t          this.y = this.rows - 1;\n\t          this.scrollDisp(1);\n\t        }\n\t        this.refresh(this.y - 1, this.y);\n\t        return;\n\t      }\n\t\n\t      if (key === 'h' || key === '\\x1b[D') {\n\t        var x = this.x;\n\t        this.x--;\n\t        if (this.x < 0) {\n\t          this.x = 0;\n\t        }\n\t        this.refresh(this.y, this.y);\n\t        return;\n\t      }\n\t\n\t      if (key === 'l' || key === '\\x1b[C') {\n\t        var x = this.x;\n\t        this.x++;\n\t        if (this.x >= this.cols) {\n\t          this.x = this.cols - 1;\n\t        }\n\t        this.refresh(this.y, this.y);\n\t        return;\n\t      }\n\t\n\t      if (key === 'w' || key === 'W') {\n\t        var ox = this.x;\n\t        var oy = this.y;\n\t        var oyd = this.ydisp;\n\t\n\t        var x = this.x;\n\t        var y = this.y;\n\t        var yb = this.ydisp;\n\t        var saw_space = false;\n\t\n\t        for (;;) {\n\t          var line = this.lines[yb + y];\n\t          while (x < this.cols) {\n\t            if (line[x][1] <= ' ') {\n\t              saw_space = true;\n\t            } else if (saw_space) {\n\t              break;\n\t            }\n\t            x++;\n\t          }\n\t          if (x >= this.cols) x = this.cols - 1;\n\t          if (x === this.cols - 1 && line[x][1] <= ' ') {\n\t            x = 0;\n\t            if (++y >= this.rows) {\n\t              y--;\n\t              if (++yb > this.ybase) {\n\t                yb = this.ybase;\n\t                x = this.x;\n\t                break;\n\t              }\n\t            }\n\t            continue;\n\t          }\n\t          break;\n\t        }\n\t\n\t        this.x = x, this.y = y;\n\t        this.scrollDisp(-this.ydisp + yb);\n\t\n\t        return;\n\t      }\n\t\n\t      if (key === 'b' || key === 'B') {\n\t        var ox = this.x;\n\t        var oy = this.y;\n\t        var oyd = this.ydisp;\n\t\n\t        var x = this.x;\n\t        var y = this.y;\n\t        var yb = this.ydisp;\n\t\n\t        for (;;) {\n\t          var line = this.lines[yb + y];\n\t          var saw_space = x > 0 && line[x][1] > ' ' && line[x - 1][1] > ' ';\n\t          while (x >= 0) {\n\t            if (line[x][1] <= ' ') {\n\t              if (saw_space && (x + 1 < this.cols && line[x + 1][1] > ' ')) {\n\t                x++;\n\t                break;\n\t              } else {\n\t                saw_space = true;\n\t              }\n\t            }\n\t            x--;\n\t          }\n\t          if (x < 0) x = 0;\n\t          if (x === 0 && (line[x][1] <= ' ' || !saw_space)) {\n\t            x = this.cols - 1;\n\t            if (--y < 0) {\n\t              y++;\n\t              if (--yb < 0) {\n\t                yb++;\n\t                x = 0;\n\t                break;\n\t              }\n\t            }\n\t            continue;\n\t          }\n\t          break;\n\t        }\n\t\n\t        this.x = x, this.y = y;\n\t        this.scrollDisp(-this.ydisp + yb);\n\t\n\t        return;\n\t      }\n\t\n\t      if (key === 'e' || key === 'E') {\n\t        var x = this.x + 1;\n\t        var y = this.y;\n\t        var yb = this.ydisp;\n\t        if (x >= this.cols) x--;\n\t\n\t        for (;;) {\n\t          var line = this.lines[yb + y];\n\t          while (x < this.cols) {\n\t            if (line[x][1] <= ' ') {\n\t              x++;\n\t            } else {\n\t              break;\n\t            }\n\t          }\n\t          while (x < this.cols) {\n\t            if (line[x][1] <= ' ') {\n\t              if (x - 1 >= 0 && line[x - 1][1] > ' ') {\n\t                x--;\n\t                break;\n\t              }\n\t            }\n\t            x++;\n\t          }\n\t          if (x >= this.cols) x = this.cols - 1;\n\t          if (x === this.cols - 1 && line[x][1] <= ' ') {\n\t            x = 0;\n\t            if (++y >= this.rows) {\n\t              y--;\n\t              if (++yb > this.ybase) {\n\t                yb = this.ybase;\n\t                break;\n\t              }\n\t            }\n\t            continue;\n\t          }\n\t          break;\n\t        }\n\t\n\t        this.x = x, this.y = y;\n\t        this.scrollDisp(-this.ydisp + yb);\n\t\n\t        return;\n\t      }\n\t\n\t      if (key === '^' || key === '0') {\n\t        var ox = this.x;\n\t\n\t        if (key === '0') {\n\t          this.x = 0;\n\t        } else if (key === '^') {\n\t          var line = this.lines[this.ydisp + this.y];\n\t          var x = 0;\n\t          while (x < this.cols) {\n\t            if (line[x][1] > ' ') {\n\t              break;\n\t            }\n\t            x++;\n\t          }\n\t          if (x >= this.cols) x = this.cols - 1;\n\t          this.x = x;\n\t        }\n\t\n\t        this.refresh(this.y, this.y);\n\t        return;\n\t      }\n\t\n\t      if (key === '$') {\n\t        var ox = this.x;\n\t        var line = this.lines[this.ydisp + this.y];\n\t        var x = this.cols - 1;\n\t        while (x >= 0) {\n\t          x--;\n\t        }\n\t        if (x < 0) x = 0;\n\t        this.x = x;\n\t        this.refresh(this.y, this.y);\n\t        return;\n\t      }\n\t\n\t      if (key === 'g' || key === 'G') {\n\t        var ox = this.x;\n\t        var oy = this.y;\n\t        var oyd = this.ydisp;\n\t        if (key === 'g') {\n\t          this.x = 0, this.y = 0;\n\t          this.scrollDisp(-this.ydisp);\n\t        } else if (key === 'G') {\n\t          this.x = 0, this.y = this.rows - 1;\n\t          this.scrollDisp(this.ybase);\n\t        }\n\t        return;\n\t      }\n\t\n\t      if (key === 'H' || key === 'M' || key === 'L') {\n\t        var ox = this.x;\n\t        var oy = this.y;\n\t        if (key === 'H') {\n\t          this.x = 0, this.y = 0;\n\t        } else if (key === 'M') {\n\t          this.x = 0, this.y = this.rows / 2 | 0;\n\t        } else if (key === 'L') {\n\t          this.x = 0, this.y = this.rows - 1;\n\t        }\n\t        this.refresh(oy, oy);\n\t        this.refresh(this.y, this.y);\n\t        return;\n\t      }\n\t\n\t      if (key === '{' || key === '}') {\n\t        var ox = this.x;\n\t        var oy = this.y;\n\t        var oyd = this.ydisp;\n\t\n\t        var line;\n\t        var saw_full = false;\n\t        var found = false;\n\t        var first_is_space = -1;\n\t        var y = this.y + (key === '{' ? -1 : 1);\n\t        var yb = this.ydisp;\n\t        var i;\n\t\n\t        if (key === '{') {\n\t          if (y < 0) {\n\t            y++;\n\t            if (yb > 0) yb--;\n\t          }\n\t        } else if (key === '}') {\n\t          if (y >= this.rows) {\n\t            y--;\n\t            if (yb < this.ybase) yb++;\n\t          }\n\t        }\n\t\n\t        for (;;) {\n\t          line = this.lines[yb + y];\n\t\n\t          for (i = 0; i < this.cols; i++) {\n\t            if (line[i][1] > ' ') {\n\t              if (first_is_space === -1) {\n\t                first_is_space = 0;\n\t              }\n\t              saw_full = true;\n\t              break;\n\t            } else if (i === this.cols - 1) {\n\t              if (first_is_space === -1) {\n\t                first_is_space = 1;\n\t              } else if (first_is_space === 0) {\n\t                found = true;\n\t              } else if (first_is_space === 1) {\n\t                if (saw_full) found = true;\n\t              }\n\t              break;\n\t            }\n\t          }\n\t\n\t          if (found) break;\n\t\n\t          if (key === '{') {\n\t            y--;\n\t            if (y < 0) {\n\t              y++;\n\t              if (yb > 0) yb--;\n\t              else break;\n\t            }\n\t          } else if (key === '}') {\n\t            y++;\n\t            if (y >= this.rows) {\n\t              y--;\n\t              if (yb < this.ybase) yb++;\n\t              else break;\n\t            }\n\t          }\n\t        }\n\t\n\t        if (!found) {\n\t          if (key === '{') {\n\t            y = 0;\n\t            yb = 0;\n\t          } else if (key === '}') {\n\t            y = this.rows - 1;\n\t            yb = this.ybase;\n\t          }\n\t        }\n\t\n\t        this.x = 0, this.y = y;\n\t        this.scrollDisp(-this.ydisp + yb);\n\t\n\t        return;\n\t      }\n\t\n\t      return false;\n\t    };\n\t\n\t    /**\n\t     * Character Sets\n\t     */\n\t\n\t    Terminal.charsets = {};\n\t\n\t    // DEC Special Character and Line Drawing Set.\n\t    // http://vt100.net/docs/vt102-ug/table5-13.html\n\t    // A lot of curses apps use this if they see TERM=xterm.\n\t    // testing: echo -e '\\e(0a\\e(B'\n\t    // The xterm output sometimes seems to conflict with the\n\t    // reference above. xterm seems in line with the reference\n\t    // when running vttest however.\n\t    // The table below now uses xterm's output from vttest.\n\t    Terminal.charsets.SCLD = { // (0\n\t      '`': '\\u25c6', // '◆'\n\t      'a': '\\u2592', // '▒'\n\t      'b': '\\u0009', // '\\t'\n\t      'c': '\\u000c', // '\\f'\n\t      'd': '\\u000d', // '\\r'\n\t      'e': '\\u000a', // '\\n'\n\t      'f': '\\u00b0', // '°'\n\t      'g': '\\u00b1', // '±'\n\t      'h': '\\u2424', // '\\u2424' (NL)\n\t      'i': '\\u000b', // '\\v'\n\t      'j': '\\u2518', // '┘'\n\t      'k': '\\u2510', // '┐'\n\t      'l': '\\u250c', // '┌'\n\t      'm': '\\u2514', // '└'\n\t      'n': '\\u253c', // '┼'\n\t      'o': '\\u23ba', // '⎺'\n\t      'p': '\\u23bb', // '⎻'\n\t      'q': '\\u2500', // '─'\n\t      'r': '\\u23bc', // '⎼'\n\t      's': '\\u23bd', // '⎽'\n\t      't': '\\u251c', // '├'\n\t      'u': '\\u2524', // '┤'\n\t      'v': '\\u2534', // '┴'\n\t      'w': '\\u252c', // '┬'\n\t      'x': '\\u2502', // '│'\n\t      'y': '\\u2264', // '≤'\n\t      'z': '\\u2265', // '≥'\n\t      '{': '\\u03c0', // 'π'\n\t      '|': '\\u2260', // '≠'\n\t      '}': '\\u00a3', // '£'\n\t      '~': '\\u00b7'  // '·'\n\t    };\n\t\n\t    Terminal.charsets.UK = null; // (A\n\t    Terminal.charsets.US = null; // (B (USASCII)\n\t    Terminal.charsets.Dutch = null; // (4\n\t    Terminal.charsets.Finnish = null; // (C or (5\n\t    Terminal.charsets.French = null; // (R\n\t    Terminal.charsets.FrenchCanadian = null; // (Q\n\t    Terminal.charsets.German = null; // (K\n\t    Terminal.charsets.Italian = null; // (Y\n\t    Terminal.charsets.NorwegianDanish = null; // (E or (6\n\t    Terminal.charsets.Spanish = null; // (Z\n\t    Terminal.charsets.Swedish = null; // (H or (7\n\t    Terminal.charsets.Swiss = null; // (=\n\t    Terminal.charsets.ISOLatin = null; // /A\n\t\n\t    /**\n\t     * Helpers\n\t     */\n\t\n\t    function on(el, type, handler, capture) {\n\t      if (!Array.isArray(el)) {\n\t        el = [el];\n\t      }\n\t      el.forEach(function (element) {\n\t        element.addEventListener(type, handler, capture || false);\n\t      });\n\t    }\n\t\n\t    function off(el, type, handler, capture) {\n\t      el.removeEventListener(type, handler, capture || false);\n\t    }\n\t\n\t    function cancel(ev, force) {\n\t      if (!this.cancelEvents && !force) {\n\t        return;\n\t      }\n\t      ev.preventDefault();\n\t      ev.stopPropagation();\n\t      return false;\n\t    }\n\t\n\t    function inherits(child, parent) {\n\t      function f() {\n\t        this.constructor = child;\n\t      }\n\t      f.prototype = parent.prototype;\n\t      child.prototype = new f;\n\t    }\n\t\n\t    // if bold is broken, we can't\n\t    // use it in the terminal.\n\t    function isBoldBroken(document) {\n\t      var body = document.getElementsByTagName('body')[0];\n\t      var el = document.createElement('span');\n\t      el.innerHTML = 'hello world';\n\t      body.appendChild(el);\n\t      var w1 = el.scrollWidth;\n\t      el.style.fontWeight = 'bold';\n\t      var w2 = el.scrollWidth;\n\t      body.removeChild(el);\n\t      return w1 !== w2;\n\t    }\n\t\n\t    var String = this.String;\n\t    var setTimeout = this.setTimeout;\n\t    var setInterval = this.setInterval;\n\t\n\t    function indexOf(obj, el) {\n\t      var i = obj.length;\n\t      while (i--) {\n\t        if (obj[i] === el) return i;\n\t      }\n\t      return -1;\n\t    }\n\t\n\t    function isWide(ch) {\n\t      if (ch <= '\\uff00') return false;\n\t      return (ch >= '\\uff01' && ch <= '\\uffbe')\n\t          || (ch >= '\\uffc2' && ch <= '\\uffc7')\n\t          || (ch >= '\\uffca' && ch <= '\\uffcf')\n\t          || (ch >= '\\uffd2' && ch <= '\\uffd7')\n\t          || (ch >= '\\uffda' && ch <= '\\uffdc')\n\t          || (ch >= '\\uffe0' && ch <= '\\uffe6')\n\t          || (ch >= '\\uffe8' && ch <= '\\uffee');\n\t    }\n\t\n\t    function matchColor(r1, g1, b1) {\n\t      var hash = (r1 << 16) | (g1 << 8) | b1;\n\t\n\t      if (matchColor._cache[hash] != null) {\n\t        return matchColor._cache[hash];\n\t      }\n\t\n\t      var ldiff = Infinity\n\t        , li = -1\n\t        , i = 0\n\t        , c\n\t        , r2\n\t        , g2\n\t        , b2\n\t        , diff;\n\t\n\t      for (; i < Terminal.vcolors.length; i++) {\n\t        c = Terminal.vcolors[i];\n\t        r2 = c[0];\n\t        g2 = c[1];\n\t        b2 = c[2];\n\t\n\t        diff = matchColor.distance(r1, g1, b1, r2, g2, b2);\n\t\n\t        if (diff === 0) {\n\t          li = i;\n\t          break;\n\t        }\n\t\n\t        if (diff < ldiff) {\n\t          ldiff = diff;\n\t          li = i;\n\t        }\n\t      }\n\t\n\t      return matchColor._cache[hash] = li;\n\t    }\n\t\n\t    matchColor._cache = {};\n\t\n\t    // http://stackoverflow.com/questions/1633828\n\t    matchColor.distance = function(r1, g1, b1, r2, g2, b2) {\n\t      return Math.pow(30 * (r1 - r2), 2)\n\t        + Math.pow(59 * (g1 - g2), 2)\n\t        + Math.pow(11 * (b1 - b2), 2);\n\t    };\n\t\n\t    function each(obj, iter, con) {\n\t      if (obj.forEach) return obj.forEach(iter, con);\n\t      for (var i = 0; i < obj.length; i++) {\n\t        iter.call(con, obj[i], i, obj);\n\t      }\n\t    }\n\t\n\t    function keys(obj) {\n\t      if (Object.keys) return Object.keys(obj);\n\t      var key, keys = [];\n\t      for (key in obj) {\n\t        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t          keys.push(key);\n\t        }\n\t      }\n\t      return keys;\n\t    }\n\t\n\t    /**\n\t     * Expose\n\t     */\n\t\n\t    Terminal.EventEmitter = EventEmitter;\n\t    Terminal.inherits = inherits;\n\t    Terminal.on = on;\n\t    Terminal.off = off;\n\t    Terminal.cancel = cancel;\n\t\n\t    return Terminal;\n\t});\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar meta_1 = __webpack_require__(8);\n\tvar BrowserFS = __webpack_require__(1);\n\tvar Doppio = __webpack_require__(9);\n\tvar _ = __webpack_require__(3);\n\tvar path = BrowserFS.BFSRequire('path');\n\t/**\n\t * Construct a JavaOptions object with the default demo fields filled in.\n\t * Optionally merge it with the custom arguments specified.\n\t */\n\tfunction constructJavaOptions(customArgs) {\n\t    if (customArgs === void 0) { customArgs = {}; }\n\t    // Strip default classpath. The CLI module will add it back in, and it causes errors\n\t    // if the -jar argument is specified.\n\t    return _.extend(customArgs, Doppio.VM.JVM.getDefaultOptions('/home'), { classpath: [] });\n\t}\n\tvar JavaCommand = (function (_super) {\n\t    __extends(JavaCommand, _super);\n\t    function JavaCommand() {\n\t        _super.apply(this, arguments);\n\t        this._jvm = null;\n\t        this._killed = false;\n\t    }\n\t    JavaCommand.prototype.getCommand = function () {\n\t        return \"java\";\n\t    };\n\t    JavaCommand.prototype.getAutocompleteFilter = function () {\n\t        // complete all directories, and some files\n\t        return function (fname, isDir) {\n\t            if (isDir)\n\t                return true;\n\t            var dot = fname.lastIndexOf('.');\n\t            var ext = dot === -1 ? '' : fname.slice(dot + 1);\n\t            return ext === 'class' || ext === 'jar';\n\t        };\n\t    };\n\t    JavaCommand.prototype.translateFileToArg = function (fname) {\n\t        var ext = path.extname(fname);\n\t        if (ext == '.class') {\n\t            return fname.slice(0, fname.lastIndexOf('.')).replace(/\\//g, '.');\n\t        }\n\t        return fname;\n\t    };\n\t    JavaCommand.prototype.run = function (shell, args, cb) {\n\t        var _this = this;\n\t        Doppio.VM.CLI(args, constructJavaOptions({\n\t            launcherName: this.getCommand()\n\t        }), function () {\n\t            // Reset state.\n\t            _this._jvm = null;\n\t            _this._killed = false;\n\t            cb();\n\t        }, function (jvm) {\n\t            _this._jvm = jvm;\n\t            if (_this._killed) {\n\t                _this._jvm.halt(0);\n\t            }\n\t        });\n\t    };\n\t    JavaCommand.prototype.kill = function () {\n\t        if (!this._killed) {\n\t            this._killed = true;\n\t            if (this._jvm) {\n\t                this._jvm.halt(0);\n\t            }\n\t        }\n\t    };\n\t    return JavaCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.JavaCommand = JavaCommand;\n\tvar JARCommand = (function (_super) {\n\t    __extends(JARCommand, _super);\n\t    function JARCommand(cmd, jarPath, extraArgs, validExts) {\n\t        if (extraArgs === void 0) { extraArgs = []; }\n\t        if (validExts === void 0) { validExts = []; }\n\t        _super.call(this);\n\t        this._cmd = cmd;\n\t        this._jarPath = jarPath;\n\t        this._extraArgs = extraArgs;\n\t        this._validExts = validExts;\n\t    }\n\t    JARCommand.prototype.getCommand = function () {\n\t        return this._cmd;\n\t    };\n\t    JARCommand.prototype.getAutocompleteFilter = function () {\n\t        var _this = this;\n\t        return function (fname, isDir) {\n\t            if (isDir)\n\t                return true;\n\t            var dot = fname.lastIndexOf('.');\n\t            var ext = dot === -1 ? '' : fname.slice(dot + 1);\n\t            for (var i = 0; i < _this._validExts.length; i++) {\n\t                if (ext === _this._validExts[i])\n\t                    return true;\n\t            }\n\t            return false;\n\t        };\n\t    };\n\t    JARCommand.prototype.run = function (terminal, args, cb) {\n\t        terminal.stdout(\"Please be patient; this command may need to download resources from the network.\\n\");\n\t        var allArgs = [\"-jar\", this._jarPath].concat(this._extraArgs, args);\n\t        _super.prototype.run.call(this, terminal, allArgs, cb);\n\t    };\n\t    return JARCommand;\n\t}(JavaCommand));\n\texports.JARCommand = JARCommand;\n\tvar JavaClassCommand = (function (_super) {\n\t    __extends(JavaClassCommand, _super);\n\t    function JavaClassCommand(cmd, classpath, className, extraJvmArgs, extraProgArgs, validExts) {\n\t        if (extraJvmArgs === void 0) { extraJvmArgs = []; }\n\t        if (extraProgArgs === void 0) { extraProgArgs = []; }\n\t        if (validExts === void 0) { validExts = []; }\n\t        _super.call(this);\n\t        this._cmd = cmd;\n\t        this._classpath = classpath;\n\t        this._className = className;\n\t        this._extraProgArgs = extraProgArgs;\n\t        this._extraJvmArgs = extraJvmArgs;\n\t        this._validExts = validExts;\n\t    }\n\t    JavaClassCommand.prototype.getCommand = function () {\n\t        return this._cmd;\n\t    };\n\t    JavaClassCommand.prototype.getAutocompleteFilter = function () {\n\t        var _this = this;\n\t        return function (fname, isDir) {\n\t            if (isDir)\n\t                return true;\n\t            var dot = fname.lastIndexOf('.');\n\t            var ext = dot === -1 ? '' : fname.slice(dot + 1);\n\t            for (var i = 0; i < _this._validExts.length; i++) {\n\t                if (ext === _this._validExts[i])\n\t                    return true;\n\t            }\n\t            return false;\n\t        };\n\t    };\n\t    JavaClassCommand.prototype.run = function (terminal, args, cb) {\n\t        terminal.stdout(\"Please be patient; this command may need to download resources from the network.\\n\");\n\t        var allArgs = [].concat(this._extraJvmArgs, [\"-cp\", (\".:\" + this._classpath), this._className], this._extraProgArgs, args);\n\t        _super.prototype.run.call(this, terminal, allArgs, cb);\n\t    };\n\t    return JavaClassCommand;\n\t}(JavaCommand));\n\texports.JavaClassCommand = JavaClassCommand;\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamF2YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImphdmEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUJBQW1DLFFBQVEsQ0FBQyxDQUFBO0FBRTVDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3hDLElBQU8sTUFBTSxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3JDLElBQU8sQ0FBQyxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBRWpDLElBQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFMUM7OztHQUdHO0FBQ0gsOEJBQThCLFVBQXdDO0lBQXhDLDBCQUF3QyxHQUF4QyxlQUF3QztJQUNwRSxvRkFBb0Y7SUFDcEYscUNBQXFDO0lBQ3JDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzNGLENBQUM7QUFHRDtJQUFpQywrQkFBb0I7SUFBckQ7UUFBaUMsOEJBQW9CO1FBQzNDLFNBQUksR0FBa0IsSUFBSSxDQUFDO1FBQzNCLFlBQU8sR0FBWSxLQUFLLENBQUM7SUE0Q25DLENBQUM7SUExQ1EsZ0NBQVUsR0FBakI7UUFDRSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFDTSwyQ0FBcUIsR0FBNUI7UUFDRSwyQ0FBMkM7UUFDM0MsTUFBTSxDQUFDLFVBQUMsS0FBYSxFQUFFLEtBQWM7WUFDbkMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDdkIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQyxJQUFJLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcs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YSxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQUssSUFBSSxDQUFDLFVBQVUsQ0FBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pILGdCQUFLLENBQUMsR0FBRyxZQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUNILHVCQUFDO0FBQUQsQ0FBQyxBQXBDRCxDQUFzQyxXQUFXLEdBb0NoRDtBQXBDWSx3QkFBZ0IsbUJBb0M1QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBYnN0cmFjdFNoZWxsQ29tbWFuZH0gZnJvbSAnLi9tZXRhJztcbmltcG9ydCBTaGVsbCBmcm9tICcuLi9zaGVsbCc7XG5pbXBvcnQgQnJvd3NlckZTID0gcmVxdWlyZSgnYnJvd3NlcmZzJyk7XG5pbXBvcnQgRG9wcGlvID0gcmVxdWlyZSgnZG9wcGlvanZtJyk7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmltcG9ydCBKVk1DTElPcHRpb25zID0gRG9wcGlvLlZNLkludGVyZmFjZXMuSlZNQ0xJT3B0aW9ucztcbmNvbnN0IHBhdGggPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgncGF0aCcpO1xuXG4vKipcbiAqIENvbnN0cnVjdCBhIEphdmFPcHRpb25zIG9iamVjdCB3aXRoIHRoZSBkZWZhdWx0IGRlbW8gZmllbGRzIGZpbGxlZCBpbi5cbiAqIE9wdGlvbmFsbHkgbWVyZ2UgaXQgd2l0aCB0aGUgY3VzdG9tIGFyZ3VtZW50cyBzcGVjaWZpZWQuXG4gKi9cbmZ1bmN0aW9uIGNvbnN0cnVjdEphdmFPcHRpb25zKGN1c3RvbUFyZ3M6IHsgW3Byb3A6IHN0cmluZ106IGFueSB9ID0ge30pOiBKVk1DTElPcHRpb25zIHtcbiAgLy8gU3RyaXAgZGVmYXVsdCBjbGFzc3BhdGguIFRoZSBDTEkgbW9kdWxlIHdpbGwgYWRkIGl0IGJhY2sgaW4sIGFuZCBpdCBjYXVzZXMgZXJyb3JzXG4gIC8vIGlmIHRoZSAtamFyIGFyZ3VtZW50IGlzIHNwZWNpZmllZC5cbiAgcmV0dXJuIF8uZXh0ZW5kKGN1c3RvbUFyZ3MsIERvcHBpby5WTS5KVk0uZ2V0RGVmYXVsdE9wdGlvbnMoJy9ob21lJyksIHsgY2xhc3NwYXRoOiBbXSB9KTtcbn1cblxuXG5leHBvcnQgY2xhc3MgSmF2YUNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHByaXZhdGUgX2p2bTogRG9wcGlvLlZNLkpWTSA9IG51bGw7XG4gIHByaXZhdGUgX2tpbGxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHB1YmxpYyBnZXRDb21tYW5kKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiamF2YVwiO1xuICB9XG4gIHB1YmxpYyBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKSB7XG4gICAgLy8gY29tcGxldGUgYWxsIGRpcmVjdG9yaWVzLCBhbmQgc29tZSBmaWxlc1xuICAgIHJldHVybiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChpc0RpcikgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgZG90ID0gZm5hbWUubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgIHZhciBleHQgPSBkb3QgPT09IC0xID8gJycgOiBmbmFtZS5zbGljZShkb3QrMSk7XG4gICAgICByZXR1cm4gZXh0ID09PSAnY2xhc3MnIHx8IGV4dCA9PT0gJ2phcic7XG4gICAgfVxuICB9XG4gIHB1YmxpYyB0cmFuc2xhdGVGaWxlVG9BcmcoZm5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZXh0ID0gcGF0aC5leHRuYW1lKGZuYW1lKTtcbiAgICBpZiAoZXh0ID09ICcuY2xhc3MnKSB7XG4gICAgICByZXR1cm4gZm5hbWUuc2xpY2UoMCwgZm5hbWUubGFzdEluZGV4T2YoJy4nKSkucmVwbGFjZSgvXFwvL2csICcuJyk7XG4gICAgfVxuICAgIHJldHVybiBmbmFtZTtcbiAgfVxuICBwdWJsaWMgcnVuKHNoZWxsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgRG9wcGlvLlZNLkNMSShhcmdzLCBjb25zdHJ1Y3RKYXZhT3B0aW9ucyh7XG4gICAgICBsYXVuY2hlck5hbWU6IHRoaXMuZ2V0Q29tbWFuZCgpXG4gICAgfSksICgpID0+IHtcbiAgICAgIC8vIFJlc2V0IHN0YXRlLlxuICAgICAgdGhpcy5fanZtID0gbnVsbDtcbiAgICAgIHRoaXMuX2tpbGxlZCA9IGZhbHNlO1xuICAgICAgY2IoKTtcbiAgICB9LCAoanZtKSA9PiB7XG4gICAgICB0aGlzLl9qdm0gPSBqdm07XG4gICAgICBpZiAodGhpcy5fa2lsbGVkKSB7XG4gICAgICAgIHRoaXMuX2p2bS5oYWx0KDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBraWxsKCkge1xuICAgIGlmICghdGhpcy5fa2lsbGVkKSB7XG4gICAgICB0aGlzLl9raWxsZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuX2p2bSkge1xuICAgICAgICB0aGlzLl9qdm0uaGFsdCgwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEpBUkNvbW1hbmQgZXh0ZW5kcyBKYXZhQ29tbWFuZCB7XG4gIHByaXZhdGUgX2NtZDogc3RyaW5nO1xuICBwcml2YXRlIF9qYXJQYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgX2V4dHJhQXJnczogc3RyaW5nW107XG4gIHByaXZhdGUgX3ZhbGlkRXh0czogc3RyaW5nW107XG4gIGNvbnN0cnVjdG9yKGNtZDogc3RyaW5nLCBqYXJQYXRoOiBzdHJpbmcsIGV4dHJhQXJnczogc3RyaW5nW10gPSBbXSwgdmFsaWRFeHRzOiBzdHJpbmdbXSA9IFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jbWQgPSBjbWQ7XG4gICAgdGhpcy5famFyUGF0aCA9IGphclBhdGg7XG4gICAgdGhpcy5fZXh0cmFBcmdzID0gZXh0cmFBcmdzO1xuICAgIHRoaXMuX3ZhbGlkRXh0cyA9IHZhbGlkRXh0cztcbiAgfVxuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY21kO1xuICB9XG4gIHB1YmxpYyBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKSB7XG4gICAgcmV0dXJuIChmbmFtZTogc3RyaW5nLCBpc0RpcjogYm9vbGVhbikgPT4ge1xuICAgICAgaWYgKGlzRGlyKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHZhciBkb3QgPSBmbmFtZS5sYXN0SW5kZXhPZignLicpO1xuICAgICAgdmFyIGV4dCA9IGRvdCA9PT0gLTEgPyAnJyA6IGZuYW1lLnNsaWNlKGRvdCsxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fdmFsaWRFeHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChleHQgPT09IHRoaXMuX3ZhbGlkRXh0c1tpXSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0ZXJtaW5hbC5zdGRvdXQoYFBsZWFzZSBiZSBwYXRpZW50OyB0aGlzIGNvbW1hbmQgbWF5IG5lZWQgdG8gZG93bmxvYWQgcmVzb3VyY2VzIGZyb20gdGhlIG5ldHdvcmsuXFxuYCk7XG4gICAgdmFyIGFsbEFyZ3MgPSBbXCItamFyXCIsIHRoaXMuX2phclBhdGhdLmNvbmNhdCh0aGlzLl9leHRyYUFyZ3MsIGFyZ3MpO1xuICAgIHN1cGVyLnJ1bih0ZXJtaW5hbCwgYWxsQXJncywgY2IpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKYXZhQ2xhc3NDb21tYW5kIGV4dGVuZHMgSmF2YUNvbW1hbmQge1xuICBwcml2YXRlIF9jbWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfY2xhc3NwYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgX2NsYXNzTmFtZTogc3RyaW5nO1xuICBwcml2YXRlIF9leHRyYVByb2dBcmdzOiBzdHJpbmdbXTtcbiAgcHJpdmF0ZSBfZXh0cmFKdm1BcmdzOiBzdHJpbmdbXTtcbiAgcHJpdmF0ZSBfdmFsaWRFeHRzOiBzdHJpbmdbXTtcbiAgY29uc3RydWN0b3IoY21kOiBzdHJpbmcsIGNsYXNzcGF0aDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZywgZXh0cmFKdm1BcmdzOiBzdHJpbmdbXSA9IFtdLFxuICAgICAgICAgICAgICBleHRyYVByb2dBcmdzOiBzdHJpbmdbXSA9IFtdLCB2YWxpZEV4dHM6IHN0cmluZ1tdID0gW10pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2NtZCA9IGNtZDtcbiAgICB0aGlzLl9jbGFzc3BhdGggPSBjbGFzc3BhdGg7XG4gICAgdGhpcy5fY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHRoaXMuX2V4dHJhUHJvZ0FyZ3MgPSBleHRyYVByb2dBcmdzO1xuICAgIHRoaXMuX2V4dHJhSnZtQXJncyA9IGV4dHJhSnZtQXJncztcbiAgICB0aGlzLl92YWxpZEV4dHMgPSB2YWxpZEV4dHM7XG4gIH1cbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NtZDtcbiAgfVxuICBwdWJsaWMgZ2V0QXV0b2NvbXBsZXRlRmlsdGVyKCkge1xuICAgIHJldHVybiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pOiBib29sZWFuID0+IHtcbiAgICAgIGlmIChpc0RpcikgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgZG90ID0gZm5hbWUubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgIHZhciBleHQgPSBkb3QgPT09IC0xID8gJycgOiBmbmFtZS5zbGljZShkb3QrMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3ZhbGlkRXh0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZXh0ID09PSB0aGlzLl92YWxpZEV4dHNbaV0pIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGVybWluYWwuc3Rkb3V0KGBQbGVhc2UgYmUgcGF0aWVudDsgdGhpcyBjb21tYW5kIG1heSBuZWVkIHRvIGRvd25sb2FkIHJlc291cmNlcyBmcm9tIHRoZSBuZXR3b3JrLlxcbmApO1xuICAgIGxldCBhbGxBcmdzID0gW10uY29uY2F0KHRoaXMuX2V4dHJhSnZtQXJncywgW1wiLWNwXCIsIGAuOiR7dGhpcy5fY2xhc3NwYXRofWAsIHRoaXMuX2NsYXNzTmFtZV0sIHRoaXMuX2V4dHJhUHJvZ0FyZ3MsIGFyZ3MpO1xuICAgIHN1cGVyLnJ1bih0ZXJtaW5hbCwgYWxsQXJncywgY2IpO1xuICB9XG59XG4iXX0=\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar AbstractShellCommand = (function () {\n\t    function AbstractShellCommand() {\n\t    }\n\t    AbstractShellCommand.prototype.getAutocompleteFilter = function () {\n\t        return function (fname, isDir) { return true; };\n\t    };\n\t    AbstractShellCommand.prototype.translateFileToArg = function (fname) {\n\t        return fname;\n\t    };\n\t    /**\n\t     * Called when the user hits CTRL+C.\n\t     */\n\t    AbstractShellCommand.prototype.kill = function () {\n\t        // NOP.\n\t    };\n\t    return AbstractShellCommand;\n\t}());\n\texports.AbstractShellCommand = AbstractShellCommand;\n\tvar SimpleCommand = (function (_super) {\n\t    __extends(SimpleCommand, _super);\n\t    function SimpleCommand(command, runCommand) {\n\t        _super.call(this);\n\t        this._command = command;\n\t        this._runCommand = runCommand;\n\t    }\n\t    SimpleCommand.prototype.getCommand = function () {\n\t        return this._command;\n\t    };\n\t    SimpleCommand.prototype.run = function (terminal, args, cb) {\n\t        this._runCommand(terminal, args, cb);\n\t    };\n\t    return SimpleCommand;\n\t}(AbstractShellCommand));\n\texports.SimpleCommand = SimpleCommand;\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1ldGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUE7SUFBQTtJQWVBLENBQUM7SUFiUSxvREFBcUIsR0FBNUI7UUFDRSxNQUFNLENBQUMsVUFBQyxLQUFhLEVBQUUsS0FBYyxJQUFLLE9BQUEsSUFBSSxFQUFKLENBQUksQ0FBQztJQUNqRCxDQUFDO0lBQ00saURBQWtCLEdBQXpCLFVBQTBCLEtBQWE7UUFDckMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7T0FFRztJQUNJLG1DQUFJLEdBQVg7UUFDRSxPQUFPO0lBQ1QsQ0FBQztJQUNILDJCQUFDO0FBQUQsQ0FBQyxBQWZELElBZUM7QUFmcUIsNEJBQW9CLHVCQWV6QyxDQUFBO0FBRUQ7SUFBbUMsaUNBQW9CO0lBR3JELHVCQUFZLE9BQWUsRUFBRSxVQUFxRTtRQUNoRyxpQkFBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7UUFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7SUFDaEMsQ0FBQztJQUNNLGtDQUFVLEdBQWpCO1FBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUNNLDJCQUFHLEdBQVYsVUFBVyxRQUFlLEVBQUUsSUFBYyxFQUFFLEVBQWM7UUFDeEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDSCxvQkFBQztBQUFELENBQUMsQUFkRCxDQUFtQyxvQkFBb0IsR0FjdEQ7QUFkWSxxQkFBYSxnQkFjekIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U2hlbGxDb21tYW5kLCBkZWZhdWx0IGFzIFNoZWxsfSBmcm9tICcuLi9zaGVsbCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCBpbXBsZW1lbnRzIFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBhYnN0cmFjdCBnZXRDb21tYW5kKCk6IHN0cmluZztcbiAgcHVibGljIGdldEF1dG9jb21wbGV0ZUZpbHRlcigpOiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pID0+IGJvb2xlYW4ge1xuICAgIHJldHVybiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pID0+IHRydWU7XG4gIH1cbiAgcHVibGljIHRyYW5zbGF0ZUZpbGVUb0FyZyhmbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZm5hbWU7XG4gIH1cbiAgcHVibGljIGFic3RyYWN0IHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBoaXRzIENUUkwrQy5cbiAgICovXG4gIHB1YmxpYyBraWxsKCk6IHZvaWQge1xuICAgIC8vIE5PUC5cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2ltcGxlQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHJpdmF0ZSBfY29tbWFuZDogc3RyaW5nO1xuICBwcml2YXRlIF9ydW5Db21tYW5kOiAodGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG4gIGNvbnN0cnVjdG9yKGNvbW1hbmQ6IHN0cmluZywgcnVuQ29tbWFuZDogKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jb21tYW5kID0gY29tbWFuZDtcbiAgICB0aGlzLl9ydW5Db21tYW5kID0gcnVuQ29tbWFuZDtcbiAgfVxuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tbWFuZDtcbiAgfVxuICBwdWJsaWMgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fcnVuQ29tbWFuZCh0ZXJtaW5hbCwgYXJncywgY2IpO1xuICB9XG59XG4iXX0=\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Doppio;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar meta_1 = __webpack_require__(8);\n\tvar BrowserFS = __webpack_require__(1);\n\tvar fs = BrowserFS.BFSRequire('fs');\n\tvar EditCommand = (function (_super) {\n\t    __extends(EditCommand, _super);\n\t    function EditCommand(editorElementName, saveButtonElement, closeButtonElement, editorContainer, consoleElement, filenameElement) {\n\t        _super.call(this);\n\t        this._isInitialized = false;\n\t        this._consoleElement = consoleElement;\n\t        this._filenameElement = filenameElement;\n\t        this._editorContainer = editorContainer;\n\t        this._saveButtonElement = saveButtonElement;\n\t        this._closeButtonElement = closeButtonElement;\n\t        // Initiaize AceEdit.\n\t        this._editor = ace.edit(editorElementName);\n\t        this._editor.setTheme('ace/theme/twilight');\n\t    }\n\t    EditCommand.prototype.initialize = function (terminal) {\n\t        var _this = this;\n\t        if (!this._isInitialized) {\n\t            this._isInitialized = true;\n\t            this._saveButtonElement.click(function (e) {\n\t                var fname = _this._filenameElement.val();\n\t                var contents = _this._editor.getSession().getValue();\n\t                if (contents[contents.length - 1] !== '\\n') {\n\t                    contents += '\\n';\n\t                }\n\t                fs.writeFile(fname, contents, function (err) {\n\t                    if (err) {\n\t                        terminal.stderr(\"File could not be saved: \" + err + \"\\n\");\n\t                    }\n\t                    else {\n\t                        terminal.stdout(\"File saved as '\" + fname + \"'.\\n\");\n\t                    }\n\t                    if (_this._lastCb != null) {\n\t                        _this._lastCb();\n\t                        _this._lastCb = null;\n\t                    }\n\t                });\n\t                _this.closeEditor();\n\t                e.preventDefault();\n\t            });\n\t            this._closeButtonElement.click(function (e) {\n\t                _this.closeEditor();\n\t                if (_this._lastCb != null) {\n\t                    _this._lastCb();\n\t                    _this._lastCb = null;\n\t                }\n\t                e.preventDefault();\n\t            });\n\t        }\n\t    };\n\t    EditCommand.prototype.closeEditor = function () {\n\t        var _this = this;\n\t        this._editorContainer.fadeOut('fast', function () {\n\t            // click to restore focus\n\t            _this._consoleElement.fadeIn('fast').click();\n\t        });\n\t    };\n\t    EditCommand.prototype.getCommand = function () {\n\t        return \"edit\";\n\t    };\n\t    EditCommand.prototype.run = function (terminal, args, cb) {\n\t        var _this = this;\n\t        this.initialize(terminal);\n\t        var startEditor = function (data) {\n\t            var consoleHeight = _this._consoleElement.height();\n\t            _this._consoleElement.fadeOut('fast', function () {\n\t                _this._filenameElement.val(args[0]);\n\t                _this._editorContainer.height(consoleHeight);\n\t                _this._editorContainer.fadeIn('fast');\n\t                if (args[0] == null || args[0].split('.')[1] === 'java') {\n\t                    var JavaMode = ace.require(\"ace/mode/java\").Mode;\n\t                    _this._editor.getSession().setMode(new JavaMode);\n\t                }\n\t                else {\n\t                    var TextMode = ace.require(\"ace/mode/text\").Mode;\n\t                    _this._editor.getSession().setMode(new TextMode);\n\t                }\n\t                _this._editor.getSession().setValue(data);\n\t            });\n\t        };\n\t        if (args[0] == null) {\n\t            startEditor(this.defaultFile('Test.java'));\n\t            this._lastCb = cb;\n\t        }\n\t        else {\n\t            fs.readFile(args[0], 'utf8', function (err, data) {\n\t                if (err) {\n\t                    startEditor(_this.defaultFile(args[0]));\n\t                }\n\t                else {\n\t                    startEditor(data);\n\t                }\n\t                _this._lastCb = cb;\n\t            });\n\t        }\n\t    };\n\t    EditCommand.prototype.defaultFile = function (filename) {\n\t        if (filename.indexOf('.java', filename.length - 5) != -1) {\n\t            var lastSlash = filename.lastIndexOf('/');\n\t            return \"class \" + filename.substring(lastSlash + 1, filename.length - 5) + \" {\\n  public static void main(String[] args) {\\n    // enter code here\\n  }\\n}\";\n\t        }\n\t        return \"\";\n\t    };\n\t    return EditCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.__esModule = true;\n\texports[\"default\"] = EditCommand;\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImVkaXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUJBQW1DLFFBQVEsQ0FBQyxDQUFBO0FBRTVDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3hDLElBQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFdEM7SUFBeUMsK0JBQW9CO0lBUzNELHFCQUFZLGlCQUF5QixFQUFFLGlCQUF5QixFQUFFLGtCQUEwQixFQUFFLGVBQXVCLEVBQUUsY0FBc0IsRUFBRSxlQUF1QjtRQUNwSyxpQkFBTyxDQUFDO1FBSEYsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFJdEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxjQUFjLENBQUM7UUFDdEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGVBQWUsQ0FBQztRQUN4QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZUFBZSxDQUFBO1FBQ3ZDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxpQkFBaUIsQ0FBQztRQUM1QyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7UUFFOUMscUJBQXFCO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVPLGdDQUFVLEdBQWxCLFVBQW1CLFFBQWU7UUFBbEMsaUJBZ0NDO1FBL0JDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDM0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxVQUFDLENBQW9CO2dCQUNqRCxJQUFJLEtBQUssR0FBRyxLQUFJLENBQUMs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LE9BQU8sR0FBRyxFQUFFLENBQUM7WUFDcEIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDO0lBQ0gsQ0FBQztJQUVPLGlDQUFXLEdBQW5CLFVBQW9CLFFBQWdCO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pELElBQUksU0FBUyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUMsTUFBTSxDQUFDLFdBQVMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLG1GQUl0RSxDQUFDO1FBQ0MsQ0FBQztRQUNELE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDWixDQUFDO0lBQ0gsa0JBQUM7QUFBRCxDQUFDLEFBaEhELENBQXlDLDJCQUFvQixHQWdINUQ7QUFoSEQ7Z0NBZ0hDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fic3RyYWN0U2hlbGxDb21tYW5kfSBmcm9tICcuL21ldGEnO1xuaW1wb3J0IFNoZWxsIGZyb20gJy4uL3NoZWxsJztcbmltcG9ydCBCcm93c2VyRlMgPSByZXF1aXJlKCdicm93c2VyZnMnKTtcbmNvbnN0IGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRDb21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwcml2YXRlIF9jb25zb2xlRWxlbWVudDogSlF1ZXJ5O1xuICBwcml2YXRlIF9maWxlbmFtZUVsZW1lbnQ6IEpRdWVyeTtcbiAgcHJpdmF0ZSBfZWRpdG9yQ29udGFpbmVyOiBKUXVlcnk7XG4gIHByaXZhdGUgX3NhdmVCdXR0b25FbGVtZW50OiBKUXVlcnk7XG4gIHByaXZhdGUgX2Nsb3NlQnV0dG9uRWxlbWVudDogSlF1ZXJ5O1xuICBwcml2YXRlIF9lZGl0b3I6IEFjZUFqYXguRWRpdG9yO1xuICBwcml2YXRlIF9pc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2xhc3RDYjogKCkgPT4gdm9pZDtcbiAgY29uc3RydWN0b3IoZWRpdG9yRWxlbWVudE5hbWU6IHN0cmluZywgc2F2ZUJ1dHRvbkVsZW1lbnQ6IEpRdWVyeSwgY2xvc2VCdXR0b25FbGVtZW50OiBKUXVlcnksIGVkaXRvckNvbnRhaW5lcjogSlF1ZXJ5LCBjb25zb2xlRWxlbWVudDogSlF1ZXJ5LCBmaWxlbmFtZUVsZW1lbnQ6IEpRdWVyeSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY29uc29sZUVsZW1lbnQgPSBjb25zb2xlRWxlbWVudDtcbiAgICB0aGlzLl9maWxlbmFtZUVsZW1lbnQgPSBmaWxlbmFtZUVsZW1lbnQ7XG4gICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyID0gZWRpdG9yQ29udGFpbmVyXG4gICAgdGhpcy5fc2F2ZUJ1dHRvbkVsZW1lbnQgPSBzYXZlQnV0dG9uRWxlbWVudDtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbkVsZW1lbnQgPSBjbG9zZUJ1dHRvbkVsZW1lbnQ7XG5cbiAgICAvLyBJbml0aWFpemUgQWNlRWRpdC5cbiAgICB0aGlzLl9lZGl0b3IgPSBhY2UuZWRpdChlZGl0b3JFbGVtZW50TmFtZSk7XG4gICAgdGhpcy5fZWRpdG9yLnNldFRoZW1lKCdhY2UvdGhlbWUvdHdpbGlnaHQnKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZSh0ZXJtaW5hbDogU2hlbGwpIHtcbiAgICBpZiAoIXRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMuX2lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbkVsZW1lbnQuY2xpY2soKGU6IEpRdWVyeUV2ZW50T2JqZWN0KSA9PiB7XG4gICAgICAgIHZhciBmbmFtZSA9IHRoaXMuX2ZpbGVuYW1lRWxlbWVudC52YWwoKTtcbiAgICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoY29udGVudHNbY29udGVudHMubGVuZ3RoIC0gMV0gIT09ICdcXG4nKSB7XG4gICAgICAgICAgY29udGVudHMgKz0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZnMud3JpdGVGaWxlKGZuYW1lLCBjb250ZW50cywoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHRlcm1pbmFsLnN0ZGVycihgRmlsZSBjb3VsZCBub3QgYmUgc2F2ZWQ6ICR7ZXJyfVxcbmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoYEZpbGUgc2F2ZWQgYXMgJyR7Zm5hbWV9Jy5cXG5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX2xhc3RDYiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2IoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDYiA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbG9zZUVkaXRvcigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uRWxlbWVudC5jbGljaygoZTogSlF1ZXJ5RXZlbnRPYmplY3QpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZUVkaXRvcigpO1xuICAgICAgICBpZiAodGhpcy5fbGFzdENiICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl9sYXN0Q2IoKTtcbiAgICAgICAgICB0aGlzLl9sYXN0Q2IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2xvc2VFZGl0b3IoKSB7XG4gICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyLmZhZGVPdXQoJ2Zhc3QnLCAoKSA9PiB7XG4gICAgICAvLyBjbGljayB0byByZXN0b3JlIGZvY3VzXG4gICAgICB0aGlzLl9jb25zb2xlRWxlbWVudC5mYWRlSW4oJ2Zhc3QnKS5jbGljaygpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuIFwiZWRpdFwiO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmluaXRpYWxpemUodGVybWluYWwpO1xuXG4gICAgdmFyIHN0YXJ0RWRpdG9yID0gKGRhdGE6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgY29uc29sZUhlaWdodCA9IHRoaXMuX2NvbnNvbGVFbGVtZW50LmhlaWdodCgpO1xuICAgICAgdGhpcy5fY29uc29sZUVsZW1lbnQuZmFkZU91dCgnZmFzdCcsICgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5fZmlsZW5hbWVFbGVtZW50LnZhbChhcmdzWzBdKTtcbiAgICAgICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyLmhlaWdodChjb25zb2xlSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyLmZhZGVJbignZmFzdCcpO1xuICAgICAgICBpZiAoYXJnc1swXSA9PSBudWxsIHx8IGFyZ3NbMF0uc3BsaXQoJy4nKVsxXSA9PT0gJ2phdmEnKSB7XG4gICAgICAgICAgdmFyIEphdmFNb2RlID0gYWNlLnJlcXVpcmUoXCJhY2UvbW9kZS9qYXZhXCIpLk1vZGU7XG4gICAgICAgICAgdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKG5ldyBKYXZhTW9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIFRleHRNb2RlID0gYWNlLnJlcXVpcmUoXCJhY2UvbW9kZS90ZXh0XCIpLk1vZGU7XG4gICAgICAgICAgdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKG5ldyBUZXh0TW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5zZXRWYWx1ZShkYXRhKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoYXJnc1swXSA9PSBudWxsKSB7XG4gICAgICBzdGFydEVkaXRvcih0aGlzLmRlZmF1bHRGaWxlKCdUZXN0LmphdmEnKSk7XG4gICAgICB0aGlzLl9sYXN0Q2IgPSBjYjtcbiAgICB9IGVsc2Uge1xuICAgICAgZnMucmVhZEZpbGUoYXJnc1swXSwgJ3V0ZjgnLChlcnI6IEVycm9yLCBkYXRhOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHN0YXJ0RWRpdG9yKHRoaXMuZGVmYXVsdEZpbGUoYXJnc1swXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXJ0RWRpdG9yKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xhc3RDYiA9IGNiO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkZWZhdWx0RmlsZShmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoZmlsZW5hbWUuaW5kZXhPZignLmphdmEnLCBmaWxlbmFtZS5sZW5ndGggLSA1KSAhPSAtMSkge1xuICAgICAgdmFyIGxhc3RTbGFzaCA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICByZXR1cm4gYGNsYXNzICR7ZmlsZW5hbWUuc3Vic3RyaW5nKGxhc3RTbGFzaCsxLCBmaWxlbmFtZS5sZW5ndGgtNSl9IHtcbiAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuICAgIC8vIGVudGVyIGNvZGUgaGVyZVxuICB9XG59YDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn1cblxuIl19\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar meta_1 = __webpack_require__(8);\n\tvar async = __webpack_require__(4);\n\tvar BrowserFS = __webpack_require__(1);\n\tvar util_1 = __webpack_require__(2);\n\tvar path = BrowserFS.BFSRequire('path'), fs = BrowserFS.BFSRequire('fs'), process = BrowserFS.BFSRequire('process');\n\t// helper function for 'ls'\n\tfunction readDir(dir, pretty, columns, numCols, cb) {\n\t    fs.readdir(path.resolve(dir), function (err, contents) {\n\t        if (err || contents.length == 0) {\n\t            return cb('');\n\t        }\n\t        contents = contents.sort();\n\t        if (!pretty) {\n\t            return cb(contents.join('\\n'));\n\t        }\n\t        var prettyList = [];\n\t        async.each(contents, \n\t        // runs on each element\n\t        function (c, nextItem) {\n\t            fs.stat(dir + \"/\" + c, function (err, stat) {\n\t                if (err == null) {\n\t                    if (stat.isDirectory()) {\n\t                        c += '/';\n\t                    }\n\t                    prettyList.push(c);\n\t                }\n\t                nextItem();\n\t            });\n\t        }, \n\t        // runs at the end of processing\n\t        function () {\n\t            if (columns)\n\t                cb(util_1.columnize(prettyList, numCols));\n\t            else\n\t                cb(prettyList.join('\\n'));\n\t        });\n\t    });\n\t}\n\tvar LSCommand = (function (_super) {\n\t    __extends(LSCommand, _super);\n\t    function LSCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    LSCommand.prototype.getCommand = function () {\n\t        return 'ls';\n\t    };\n\t    LSCommand.prototype.run = function (shell, args, cb) {\n\t        var cols = shell.cols();\n\t        if (args.length === 0) {\n\t            readDir('.', true, true, cols, function (listing) {\n\t                shell.stdout(listing + \"\\n\");\n\t                cb();\n\t            });\n\t        }\n\t        else if (args.length === 1) {\n\t            readDir(args[0], true, true, cols, function (listing) {\n\t                shell.stdout(listing + \"\\n\");\n\t                cb();\n\t            });\n\t        }\n\t        else {\n\t            async.each(args, function (dir, next) {\n\t                readDir(dir, true, true, cols, function (listing) {\n\t                    shell.stdout(dir + \":\\n\" + listing + \"\\n\\n\");\n\t                    next();\n\t                });\n\t            }, cb);\n\t        }\n\t    };\n\t    return LSCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.LSCommand = LSCommand;\n\tvar CatCommand = (function (_super) {\n\t    __extends(CatCommand, _super);\n\t    function CatCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    CatCommand.prototype.getCommand = function () {\n\t        return 'cat';\n\t    };\n\t    CatCommand.prototype.run = function (terminal, args, cb) {\n\t        if (args.length == 0) {\n\t            terminal.stdout(\"Usage: cat <file>\\n\");\n\t            return cb();\n\t        }\n\t        async.eachSeries(args, function (item, next) {\n\t            fs.readFile(item, 'utf8', function (err, data) {\n\t                if (err) {\n\t                    terminal.stderr(\"Could not open file '\" + item + \"': \" + err + \"\\n\");\n\t                }\n\t                else {\n\t                    terminal.stdout(data);\n\t                }\n\t                next();\n\t            });\n\t        }, cb);\n\t    };\n\t    return CatCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.CatCommand = CatCommand;\n\tvar MvCommand = (function (_super) {\n\t    __extends(MvCommand, _super);\n\t    function MvCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    MvCommand.prototype.getCommand = function () {\n\t        return 'mv';\n\t    };\n\t    MvCommand.prototype.run = function (terminal, args, cb) {\n\t        if (args.length < 2) {\n\t            terminal.stdout(\"Usage: mv <from-file> <to-file>\\n\");\n\t            return cb();\n\t        }\n\t        // TODO: support mv foo bar someDir/\n\t        fs.rename(args[0], args[1], function (err) {\n\t            if (err) {\n\t                terminal.stderr(\"Could not rename \" + args[0] + \" to \" + args[1] + \": \" + err + \"\\n\");\n\t            }\n\t            cb();\n\t        });\n\t    };\n\t    return MvCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.MvCommand = MvCommand;\n\tvar CpCommand = (function (_super) {\n\t    __extends(CpCommand, _super);\n\t    function CpCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    CpCommand.prototype.getCommand = function () {\n\t        return 'cp';\n\t    };\n\t    CpCommand.prototype.run = function (terminal, args, cb) {\n\t        if (args.length < 2) {\n\t            terminal.stdout(\"Usage: cp <from-file> <to-file>\\n\");\n\t            return cb();\n\t        }\n\t        var dest = args.pop();\n\t        // hack around BFS bug: stat('foo/') fails for some reason\n\t        if (dest.lastIndexOf('/') == dest.length - 1) {\n\t            dest = dest.substr(0, dest.length - 1);\n\t        }\n\t        fs.stat(dest, function (err, stat) {\n\t            if (err && err.code !== 'ENOENT') {\n\t                terminal.stderr(\"Invalid destination: \" + dest + \": \" + err + \"\\n\");\n\t                cb();\n\t            }\n\t            else if (stat != null && stat.isDirectory()) {\n\t                // copy args to dest directory\n\t                async.each(args, function (item, next) {\n\t                    util_1.copyFile(item, path.resolve(dest, path.basename(item)), function (err) {\n\t                        if (err) {\n\t                            terminal.stderr(\"Copy failed for \" + item + \": \" + err + \"\\n\");\n\t                        }\n\t                        next();\n\t                    });\n\t                }, cb);\n\t            }\n\t            else if (args.length > 1) {\n\t                terminal.stderr(\"Too many arguments for file target.\\n\");\n\t                cb();\n\t            }\n\t            else if (args[0] == dest) {\n\t                terminal.stderr(\"Source and target are identical.\\n\");\n\t                cb();\n\t            }\n\t            else {\n\t                util_1.copyFile(args[0], dest, function (err) {\n\t                    if (err) {\n\t                        terminal.stderr(\"Copy failed: \" + err + \"\\n\");\n\t                    }\n\t                    cb();\n\t                });\n\t            }\n\t        });\n\t    };\n\t    return CpCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.CpCommand = CpCommand;\n\tvar MkdirCommand = (function (_super) {\n\t    __extends(MkdirCommand, _super);\n\t    function MkdirCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    MkdirCommand.prototype.getCommand = function () {\n\t        return 'mkdir';\n\t    };\n\t    MkdirCommand.prototype.run = function (terminal, args, cb) {\n\t        if (args.length < 1) {\n\t            terminal.stdout(\"Usage: mkdir <dirname>\\n\");\n\t            return cb();\n\t        }\n\t        async.each(args, function (item, next) {\n\t            fs.mkdir(item, function (err) {\n\t                if (err) {\n\t                    terminal.stderr(\"Could not make directory \" + item + \": \" + err + \"\\n\");\n\t                }\n\t                next();\n\t            });\n\t        }, cb);\n\t    };\n\t    return MkdirCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.MkdirCommand = MkdirCommand;\n\tvar CDCommand = (function (_super) {\n\t    __extends(CDCommand, _super);\n\t    function CDCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    CDCommand.prototype.getCommand = function () {\n\t        return 'cd';\n\t    };\n\t    CDCommand.prototype.run = function (shell, args, cb) {\n\t        if (args.length > 1) {\n\t            shell.stdout(\"Usage: cd <directory>\\n\");\n\t            cb();\n\t        }\n\t        else {\n\t            var dir;\n\t            if (args.length == 0 || args[0] == '~') {\n\t                // Change to the default (starting) directory.\n\t                dir = '/home';\n\t            }\n\t            else {\n\t                dir = path.resolve(args[0]);\n\t            }\n\t            // Verify path exists before going there.\n\t            // chdir does not verify that the directory exists.\n\t            fs.exists(dir, function (doesExist) {\n\t                if (doesExist) {\n\t                    process.chdir(dir);\n\t                }\n\t                else {\n\t                    shell.stderr(\"Directory \" + dir + \" does not exist.\\n\");\n\t                }\n\t                cb();\n\t            });\n\t        }\n\t    };\n\t    return CDCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.CDCommand = CDCommand;\n\tvar RMCommand = (function (_super) {\n\t    __extends(RMCommand, _super);\n\t    function RMCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    RMCommand.prototype.getCommand = function () {\n\t        return 'rm';\n\t    };\n\t    RMCommand.prototype.run = function (terminal, args, cb) {\n\t        if (args[0] == null) {\n\t            terminal.stdout(\"Usage: rm <file>\\n\");\n\t            cb();\n\t        }\n\t        else {\n\t            async.each(args, function (item, next) {\n\t                fs.unlink(item, function (err) {\n\t                    if (err) {\n\t                        terminal.stderr(\"Could not remove file \" + item + \": \" + err + \"\\n\");\n\t                    }\n\t                    next();\n\t                });\n\t            }, cb);\n\t        }\n\t    };\n\t    return RMCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.RMCommand = RMCommand;\n\tvar RmdirCommand = (function (_super) {\n\t    __extends(RmdirCommand, _super);\n\t    function RmdirCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    RmdirCommand.prototype.getCommand = function () {\n\t        return 'rmdir';\n\t    };\n\t    RmdirCommand.prototype.run = function (terminal, args, cb) {\n\t        if (args[0] == null) {\n\t            terminal.stdout(\"Usage: rmdir <dir>\\n\");\n\t            cb();\n\t        }\n\t        else {\n\t            async.each(args, function (item, next) {\n\t                fs.rmdir(item, function (err) {\n\t                    if (err) {\n\t                        terminal.stderr(\"Could not remove directory \" + item + \": \" + err + \"\\n\");\n\t                    }\n\t                    next();\n\t                });\n\t            }, cb);\n\t        }\n\t    };\n\t    return RmdirCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.RmdirCommand = RmdirCommand;\n\tvar MountDropboxCommand = (function (_super) {\n\t    __extends(MountDropboxCommand, _super);\n\t    function MountDropboxCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    MountDropboxCommand.prototype.getCommand = function () {\n\t        return 'mount_dropbox';\n\t    };\n\t    MountDropboxCommand.prototype.getAutocompleteFilter = function () {\n\t        // takes no completable arguments\n\t        return function () { return false; };\n\t    };\n\t    MountDropboxCommand.prototype.run = function (terminal, args, cb) {\n\t        var api_key = \"j07r6fxu4dyd08r\";\n\t        // For some weird reason. document.URL is undefined?\n\t        var URL = window.document.URL ? window.document.URL : location.href;\n\t        // Can't connect to Dropbox over HTTP unless served locally during development.\n\t        if (URL.indexOf(\"http:\") === 0 && URL.indexOf(\"http://localhost\") === -1) {\n\t            terminal.stdout(\"You are currently accessing the demo from a non-secure URL:\\n\\n\" + document.URL + \"\\n\\nDropbox only allows authentication over a secure connection. Please access the\\ndemo from the following HTTPS URL and try again:\\n\\n\" + document.URL.replace(/^http:/, 'https:') + \"\\n\");\n\t            cb();\n\t        }\n\t        else if (args.length < 1 || args[0] !== 'Y') {\n\t            terminal.stdout(\"This command may redirect you to Dropbox's site for authentication.\\nIf you would like to proceed with mounting Dropbox into the in-browser\\nfilesystem, please type \\\"mount_dropbox Y\\\".\\n\\nOnce you have successfully authenticated with Dropbox and the page reloads,\\nyou will need to type \\\"mount_dropbox Y\\\" again to finish mounting.\\n(If you would like to use your own API key, please type \\\"mount_dropbox Y your_api_key_here\\\".)\\n\");\n\t            cb();\n\t        }\n\t        else {\n\t            if (args.length == 2 && args[1].length === 15) {\n\t                api_key = args[1];\n\t                terminal.stdout(\"Using API key \" + api_key + \"...\\n\");\n\t            }\n\t            var client = new Dropbox.Client({ key: api_key });\n\t            client.authenticate(function (error, data) {\n\t                if (!error) {\n\t                    var mfs = fs.getRootFS();\n\t                    mfs.mount('/mnt/dropbox', new BrowserFS.FileSystem.Dropbox(client));\n\t                    terminal.stdout(\"Successfully connected to your Dropbox account. You can now access files in the /Apps/DoppioJVM folder of your Dropbox account at /mnt/dropbox.\\n\");\n\t                }\n\t                else {\n\t                    terminal.stderr(\"Unable to connect to Dropbox: \" + error + \"\\n\");\n\t                }\n\t                cb();\n\t            });\n\t        }\n\t    };\n\t    return MountDropboxCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.MountDropboxCommand = MountDropboxCommand;\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxxQkFBbUMsUUFBUSxDQUFDLENBQUE7QUFFNUMsSUFBTyxLQUFLLFdBQVcsT0FBTyxDQUFDLENBQUM7QUFDaEMsSUFBTyxTQUFTLFdBQVcsV0FBVyxDQUFDLENBQUM7QUFDeEMscUJBQWtDLFNBQVMsQ0FBQyxDQUFBO0FBSTVDLElBQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQ3ZDLEVBQUUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUMvQixPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUU1QywyQkFBMkI7QUFDM0IsaUJBQWlCLEdBQVcsRUFBRSxNQUFlLEVBQUUsT0FBZ0IsRUFBRSxPQUFlLEVBQUUsRUFBNkI7SUFDN0csRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFVBQUMsR0FBVSxFQUFFLFFBQWtCO1FBQzNELEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoQixDQUFDO1FBQ0QsUUFBUSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMzQixFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDWixNQUFNLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDO1FBQ0QsSUFBSSxVQUFVLEdBQWEsRUFBRSxDQUFDO1FBQzlCLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUTtRQUNqQix1QkFBdUI7UUFDdkIsVUFBQyxDQUFTLEVB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QUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxVQUFDLEtBQVUsRUFBRSxJQUFVO2dCQUN6QyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ1gsSUFBSSxHQUFHLEdBQThDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztvQkFDcEUsR0FBRyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsSUFBVSxTQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUMzRSxRQUFRLENBQUMsTUFBTSxDQUFDLG1KQUFtSixDQUFDLENBQUM7Z0JBQ3ZLLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ04sUUFBUSxDQUFDLE1BQU0sQ0FBQyxtQ0FBaUMsS0FBSyxPQUFJLENBQUMsQ0FBQztnQkFDOUQsQ0FBQztnQkFDRCxFQUFFLEVBQUUsQ0FBQztZQUNQLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztJQUNILENBQUM7SUFDSCwwQkFBQztBQUFELENBQUMsQUF2REQsQ0FBeUMsMkJBQW9CLEdBdUQ1RDtBQXZEWSwyQkFBbUIsc0JBdUQvQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBYnN0cmFjdFNoZWxsQ29tbWFuZH0gZnJvbSAnLi9tZXRhJztcbmltcG9ydCBTaGVsbCBmcm9tICcuLi9zaGVsbCc7XG5pbXBvcnQgYXN5bmMgPSByZXF1aXJlKCdhc3luYycpO1xuaW1wb3J0IEJyb3dzZXJGUyA9IHJlcXVpcmUoJ2Jyb3dzZXJmcycpO1xuaW1wb3J0IHtjb2x1bW5pemUsIGNvcHlGaWxlfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IF9mcyA9IHJlcXVpcmUoJ2ZzJyk7XG5pbXBvcnQgU3RhdHMgPSBfZnMuU3RhdHM7XG5jb25zdCBwYXRoID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ3BhdGgnKSxcbiAgZnMgPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgnZnMnKSxcbiAgcHJvY2VzcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdwcm9jZXNzJyk7XG5cbi8vIGhlbHBlciBmdW5jdGlvbiBmb3IgJ2xzJ1xuZnVuY3Rpb24gcmVhZERpcihkaXI6IHN0cmluZywgcHJldHR5OiBib29sZWFuLCBjb2x1bW5zOiBib29sZWFuLCBudW1Db2xzOiBudW1iZXIsIGNiOiAobGlzdGluZzogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gIGZzLnJlYWRkaXIocGF0aC5yZXNvbHZlKGRpciksIChlcnI6IEVycm9yLCBjb250ZW50czogc3RyaW5nW10pID0+IHtcbiAgICBpZiAoZXJyIHx8IGNvbnRlbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4gY2IoJycpO1xuICAgIH1cbiAgICBjb250ZW50cyA9IGNvbnRlbnRzLnNvcnQoKTtcbiAgICBpZiAoIXByZXR0eSkge1xuICAgICAgcmV0dXJuIGNiKGNvbnRlbnRzLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgdmFyIHByZXR0eUxpc3Q6IHN0cmluZ1tdID0gW107XG4gICAgYXN5bmMuZWFjaChjb250ZW50cyxcbiAgICAgIC8vIHJ1bnMgb24gZWFjaCBlbGVtZW50XG4gICAgICAoYzogc3RyaW5nLCBuZXh0SXRlbTogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBmcy5zdGF0KGAke2Rpcn0vJHtjfWAsIChlcnI6IEVycm9yLCBzdGF0PzogU3RhdHMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgYyArPSAnLyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV0dHlMaXN0LnB1c2goYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRJdGVtKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIC8vIHJ1bnMgYXQgdGhlIGVuZCBvZiBwcm9jZXNzaW5nXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmIChjb2x1bW5zKVxuICAgICAgICAgIGNiKGNvbHVtbml6ZShwcmV0dHlMaXN0LCBudW1Db2xzKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjYihwcmV0dHlMaXN0LmpvaW4oJ1xcbicpKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIExTQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdscyc7XG4gIH1cbiAgcHVibGljIHJ1bihzaGVsbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbHMgPSBzaGVsbC5jb2xzKCk7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZWFkRGlyKCcuJywgdHJ1ZSwgdHJ1ZSwgY29scywgKGxpc3RpbmcpID0+IHtcbiAgICAgICAgc2hlbGwuc3Rkb3V0KGxpc3RpbmcgKyBcIlxcblwiKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJlYWREaXIoYXJnc1swXSwgdHJ1ZSwgdHJ1ZSwgY29scywgKGxpc3RpbmcpID0+IHtcbiAgICAgICAgc2hlbGwuc3Rkb3V0KGxpc3RpbmcgKyBcIlxcblwiKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3luYy5lYWNoKGFyZ3MsIChkaXI6IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICByZWFkRGlyKGRpciwgdHJ1ZSwgdHJ1ZSwgY29scywgKGxpc3Rpbmc6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHNoZWxsLnN0ZG91dChgJHtkaXJ9OlxcbiR7bGlzdGluZ31cXG5cXG5gKTtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgY2IpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2F0Q29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdjYXQnO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgdGVybWluYWwuc3Rkb3V0KFwiVXNhZ2U6IGNhdCA8ZmlsZT5cXG5cIik7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG4gICAgYXN5bmMuZWFjaFNlcmllcyhhcmdzLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICBmcy5yZWFkRmlsZShpdGVtLCAndXRmOCcsIGZ1bmN0aW9uIChlcnI6IEVycm9yLCBkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHRlcm1pbmFsLnN0ZGVycihgQ291bGQgbm90IG9wZW4gZmlsZSAnJHtpdGVtfSc6ICR7ZXJyfVxcbmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlcm1pbmFsLnN0ZG91dChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICB9LCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE12Q29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdtdic7XG4gIH1cbiAgcHVibGljIHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChcIlVzYWdlOiBtdiA8ZnJvbS1maWxlPiA8dG8tZmlsZT5cXG5cIik7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG4gICAgLy8gVE9ETzogc3VwcG9ydCBtdiBmb28gYmFyIHNvbWVEaXIvXG4gICAgZnMucmVuYW1lKGFyZ3NbMF0sIGFyZ3NbMV0sIChlcnI/OiBFcnJvcikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYENvdWxkIG5vdCByZW5hbWUgJHthcmdzWzBdfSB0byAke2FyZ3NbMV19OiAke2Vycn1cXG5gKTtcbiAgICAgIH1cbiAgICAgIGNiKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENwQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdjcCc7XG4gIH1cbiAgcHVibGljIHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChcIlVzYWdlOiBjcCA8ZnJvbS1maWxlPiA8dG8tZmlsZT5cXG5cIik7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG4gICAgdmFyIGRlc3QgPSBhcmdzLnBvcCgpO1xuICAgIC8vIGhhY2sgYXJvdW5kIEJGUyBidWc6IHN0YXQoJ2Zvby8nKSBmYWlscyBmb3Igc29tZSByZWFzb25cbiAgICBpZiAoZGVzdC5sYXN0SW5kZXhPZignLycpID09IGRlc3QubGVuZ3RoLTEpIHtcbiAgICAgIGRlc3QgPSBkZXN0LnN1YnN0cigwLCBkZXN0Lmxlbmd0aC0xKTtcbiAgICB9XG4gICAgZnMuc3RhdChkZXN0LCAoZXJyOiBFcnJvciwgc3RhdDogYW55KSA9PiB7XG4gICAgICBpZiAoZXJyICYmICg8YW55PmVycikuY29kZSAhPT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgdGVybWluYWwuc3RkZXJyKGBJbnZhbGlkIGRlc3RpbmF0aW9uOiAke2Rlc3R9OiAke2Vycn1cXG5gKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdCAhPSBudWxsICYmIHN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAvLyBjb3B5IGFyZ3MgdG8gZGVzdCBkaXJlY3RvcnlcbiAgICAgICAgYXN5bmMuZWFjaChhcmdzLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgY29weUZpbGUoaXRlbSwgcGF0aC5yZXNvbHZlKGRlc3QsIHBhdGguYmFzZW5hbWUoaXRlbSkpLCAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYENvcHkgZmFpbGVkIGZvciAke2l0ZW19OiAke2Vycn1cXG5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY2IpO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGVybWluYWwuc3RkZXJyKFwiVG9vIG1hbnkgYXJndW1lbnRzIGZvciBmaWxlIHRhcmdldC5cXG5cIik7XG4gICAgICAgIGNiKCk7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3NbMF0gPT0gZGVzdCkge1xuICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoXCJTb3VyY2UgYW5kIHRhcmdldCBhcmUgaWRlbnRpY2FsLlxcblwiKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvcHlGaWxlKGFyZ3NbMF0sIGRlc3QsIChlcnI6IEVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGVybWluYWwuc3RkZXJyKGBDb3B5IGZhaWxlZDogJHtlcnJ9XFxuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNa2RpckNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAnbWtkaXInO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPCAxKSB7XG4gICAgICB0ZXJtaW5hbC5zdGRvdXQoXCJVc2FnZTogbWtkaXIgPGRpcm5hbWU+XFxuXCIpO1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuICAgIGFzeW5jLmVhY2goYXJncywgKGl0ZW06IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgZnMubWtkaXIoaXRlbSwgKGVycj86IEVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYENvdWxkIG5vdCBtYWtlIGRpcmVjdG9yeSAke2l0ZW19OiAke2Vycn1cXG5gKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICB9LCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENEQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdjZCc7XG4gIH1cbiAgcHVibGljIHJ1bihzaGVsbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHNoZWxsLnN0ZG91dChcIlVzYWdlOiBjZCA8ZGlyZWN0b3J5PlxcblwiKTtcbiAgICAgIGNiKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkaXI6IHN0cmluZztcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PSAwIHx8IGFyZ3NbMF0gPT0gJ34nKSB7XG4gICAgICAgIC8vIENoYW5nZSB0byB0aGUgZGVmYXVsdCAoc3RhcnRpbmcpIGRpcmVjdG9yeS5cbiAgICAgICAgZGlyID0gJy9ob21lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpciA9IHBhdGgucmVzb2x2ZShhcmdzWzBdKTtcbiAgICAgIH1cbiAgICAgIC8vIFZlcmlmeSBwYXRoIGV4aXN0cyBiZWZvcmUgZ29pbmcgdGhlcmUuXG4gICAgICAvLyBjaGRpciBkb2VzIG5vdCB2ZXJpZnkgdGhhdCB0aGUgZGlyZWN0b3J5IGV4aXN0cy5cbiAgICAgIGZzLmV4aXN0cyhkaXIsIChkb2VzRXhpc3Q6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKGRvZXNFeGlzdCkge1xuICAgICAgICAgIHByb2Nlc3MuY2hkaXIoZGlyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaGVsbC5zdGRlcnIoYERpcmVjdG9yeSAke2Rpcn0gZG9lcyBub3QgZXhpc3QuXFxuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUk1Db21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gJ3JtJztcbiAgfVxuICBwdWJsaWMgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKGFyZ3NbMF0gPT0gbnVsbCkge1xuICAgICAgdGVybWluYWwuc3Rkb3V0KFwiVXNhZ2U6IHJtIDxmaWxlPlxcblwiKTtcbiAgICAgIGNiKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzeW5jLmVhY2goYXJncywgKGl0ZW06IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBmcy51bmxpbmsoaXRlbSwgKGVycj86IEVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGVybWluYWwuc3RkZXJyKGBDb3VsZCBub3QgcmVtb3ZlIGZpbGUgJHtpdGVtfTogJHtlcnJ9XFxuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBjYik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSbWRpckNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAncm1kaXInO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoYXJnc1swXSA9PSBudWxsKSB7XG4gICAgICB0ZXJtaW5hbC5zdGRvdXQoXCJVc2FnZTogcm1kaXIgPGRpcj5cXG5cIik7XG4gICAgICBjYigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3luYy5lYWNoKGFyZ3MsIChpdGVtOiBzdHJpbmcsIG5leHQ6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgZnMucm1kaXIoaXRlbSwgKGVycj86IEVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGVybWluYWwuc3RkZXJyKGBDb3VsZCBub3QgcmVtb3ZlIGRpcmVjdG9yeSAke2l0ZW19OiAke2Vycn1cXG5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGNiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdW50RHJvcGJveENvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAnbW91bnRfZHJvcGJveCc7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXV0b2NvbXBsZXRlRmlsdGVyKCkge1xuICAgIC8vIHRha2VzIG5vIGNvbXBsZXRhYmxlIGFyZ3VtZW50c1xuICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB2YXIgYXBpX2tleTogc3RyaW5nID0gXCJqMDdyNmZ4dTRkeWQwOHJcIjtcbiAgICAvLyBGb3Igc29tZSB3ZWlyZCByZWFzb24uIGRvY3VtZW50LlVSTCBpcyB1bmRlZmluZWQ/XG4gICAgY29uc3QgVVJMID0gd2luZG93LmRvY3VtZW50LlVSTCA/IHdpbmRvdy5kb2N1bWVudC5VUkwgOiBsb2NhdGlvbi5ocmVmO1xuICAgIC8vIENhbid0IGNvbm5lY3QgdG8gRHJvcGJveCBvdmVyIEhUVFAgdW5sZXNzIHNlcnZlZCBsb2NhbGx5IGR1cmluZyBkZXZlbG9wbWVudC5cbiAgICBpZiAoVVJMLmluZGV4T2YoXCJodHRwOlwiKSA9PT0gMCAmJiBVUkwuaW5kZXhPZihcImh0dHA6Ly9sb2NhbGhvc3RcIikgPT09IC0xKSB7XG4gICAgICB0ZXJtaW5hbC5zdGRvdXQoXG5gWW91IGFyZSBjdXJyZW50bHkgYWNjZXNzaW5nIHRoZSBkZW1vIGZyb20gYSBub24tc2VjdXJlIFVSTDpcblxuJHtkb2N1bWVudC5VUkx9XG5cbkRyb3Bib3ggb25seSBhbGxvd3MgYXV0aGVudGljYXRpb24gb3ZlciBhIHNlY3VyZSBjb25uZWN0aW9uLiBQbGVhc2UgYWNjZXNzIHRoZVxuZGVtbyBmcm9tIHRoZSBmb2xsb3dpbmcgSFRUUFMgVVJMIGFuZCB0cnkgYWdhaW46XG5cbiR7ZG9jdW1lbnQuVVJMLnJlcGxhY2UoL15odHRwOi8sICdodHRwczonKX1cXG5gXG4gICAgICApO1xuICAgICAgY2IoKTtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoIDwgMSB8fCBhcmdzWzBdICE9PSAnWScpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChcbmBUaGlzIGNvbW1hbmQgbWF5IHJlZGlyZWN0IHlvdSB0byBEcm9wYm94J3Mgc2l0ZSBmb3IgYXV0aGVudGljYXRpb24uXG5JZiB5b3Ugd291bGQgbGlrZSB0byBwcm9jZWVkIHdpdGggbW91bnRpbmcgRHJvcGJveCBpbnRvIHRoZSBpbi1icm93c2VyXG5maWxlc3lzdGVtLCBwbGVhc2UgdHlwZSBcIm1vdW50X2Ryb3Bib3ggWVwiLlxuXG5PbmNlIHlvdSBoYXZlIHN1Y2Nlc3NmdWxseSBhdXRoZW50aWNhdGVkIHdpdGggRHJvcGJveCBhbmQgdGhlIHBhZ2UgcmVsb2FkcyxcbnlvdSB3aWxsIG5lZWQgdG8gdHlwZSBcIm1vdW50X2Ryb3Bib3ggWVwiIGFnYWluIHRvIGZpbmlzaCBtb3VudGluZy5cbihJZiB5b3Ugd291bGQgbGlrZSB0byB1c2UgeW91ciBvd24gQVBJIGtleSwgcGxlYXNlIHR5cGUgXCJtb3VudF9kcm9wYm94IFkgeW91cl9hcGlfa2V5X2hlcmVcIi4pXFxuYCk7XG4gICAgICBjYigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPT0gMiAmJiBhcmdzWzFdLmxlbmd0aCA9PT0gMTUpIHtcbiAgICAgICAgYXBpX2tleSA9IGFyZ3NbMV07XG4gICAgICAgIHRlcm1pbmFsLnN0ZG91dChgVXNpbmcgQVBJIGtleSAke2FwaV9rZXl9Li4uXFxuYCk7XG4gICAgICB9XG4gICAgICB2YXIgY2xpZW50ID0gbmV3IERyb3Bib3guQ2xpZW50KHsga2V5OiBhcGlfa2V5IH0pO1xuICAgICAgY2xpZW50LmF1dGhlbnRpY2F0ZSgoZXJyb3I6IGFueSwgZGF0YT86IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgbGV0IG1mcyA9IDxCcm93c2VyRlMuRmlsZVN5c3RlbS5Nb3VudGFibGVGaWxlU3lzdGVtPiBmcy5nZXRSb290RlMoKTtcbiAgICAgICAgICBtZnMubW91bnQoJy9tbnQvZHJvcGJveCcsIG5ldyAoPGFueT5Ccm93c2VyRlMpLkZpbGVTeXN0ZW0uRHJvcGJveChjbGllbnQpKTtcbiAgICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoXCJTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIHlvdXIgRHJvcGJveCBhY2NvdW50LiBZb3UgY2FuIG5vdyBhY2Nlc3MgZmlsZXMgaW4gdGhlIC9BcHBzL0RvcHBpb0pWTSBmb2xkZXIgb2YgeW91ciBEcm9wYm94IGFjY291bnQgYXQgL21udC9kcm9wYm94LlxcblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYFVuYWJsZSB0byBjb25uZWN0IHRvIERyb3Bib3g6ICR7ZXJyb3J9XFxuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl19\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar meta_1 = __webpack_require__(8);\n\tvar TimeCommand = (function (_super) {\n\t    __extends(TimeCommand, _super);\n\t    function TimeCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    TimeCommand.prototype.getCommand = function () {\n\t        return 'time';\n\t    };\n\t    TimeCommand.prototype.run = function (terminal, args, cb) {\n\t        var command = args[0], commandObj = terminal.getAvailableCommands()[command];\n\t        if (args.length == 0) {\n\t            terminal.stdout(\"Usage: time [program] [args]\");\n\t            cb();\n\t        }\n\t        else if (commandObj === undefined) {\n\t            terminal.stderr(\"Undefined command: \" + command + \"\\n\");\n\t            cb();\n\t        }\n\t        else {\n\t            var start = (new Date).getTime();\n\t            console.profile(command);\n\t            commandObj.run(terminal, args.slice(1), function () {\n\t                console.profileEnd();\n\t                var end = (new Date).getTime();\n\t                terminal.stdout(\"\\nTime elapsed: \" + (end - start) + \" ms.\\n\");\n\t                cb();\n\t            });\n\t        }\n\t    };\n\t    return TimeCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.TimeCommand = TimeCommand;\n\tvar ProfileCommand = (function (_super) {\n\t    __extends(ProfileCommand, _super);\n\t    function ProfileCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    ProfileCommand.prototype.getCommand = function () {\n\t        return 'profile';\n\t    };\n\t    ProfileCommand.prototype.run = function (terminal, args, cb) {\n\t        var count = 0, runs = 5, duration = 0, command = args[0], commandObj = terminal.getAvailableCommands()[command];\n\t        if (commandObj === undefined) {\n\t            terminal.stdout(\"Undefined command: \" + command + \"\\n\");\n\t            cb();\n\t        }\n\t        else {\n\t            function timeOnce(isWarmup) {\n\t                var start = (new Date).getTime();\n\t                commandObj.run(terminal, args.slice(1), function () {\n\t                    if (!isWarmup) {\n\t                        var end = (new Date).getTime();\n\t                        duration += end - start;\n\t                    }\n\t                    if (count < runs) {\n\t                        timeOnce(false);\n\t                    }\n\t                    else {\n\t                        terminal.stdout(\"\\n\" + command + \" took an average of \" + duration / runs + \" ms to run.\\n\");\n\t                        cb();\n\t                    }\n\t                });\n\t            }\n\t            timeOnce(true);\n\t        }\n\t    };\n\t    return ProfileCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.ProfileCommand = ProfileCommand;\n\tvar HelpCommand = (function (_super) {\n\t    __extends(HelpCommand, _super);\n\t    function HelpCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    HelpCommand.prototype.getCommand = function () {\n\t        return 'help';\n\t    };\n\t    HelpCommand.prototype.getAutocompleteFilter = function () {\n\t        // help command takes no arguments\n\t        return function () { return false; };\n\t    };\n\t    HelpCommand.prototype.run = function (terminal, args, cb) {\n\t        terminal.stdout(\"Use Ctrl-C for SIGINT, tab for autocomplete, and the upload button to upload\\nfiles into the current virtual filesystem directory.\\n\\n\\u001B[1mStandard commands:\\u001B[0m\\n  cat <file>     ls <dir>       mv <src> <dst>    time <command>\\n  edit <file>    cd <dir>       cp <src> <dst>\\n  rm <file>      rmdir <dir>\\n                 mkdir <dir>\\n\\n\\u001B[1mREPLs and Compilers:\\u001B[0m (WARNING: These trigger downloads!)\\n  nashorn (JavaScript)    scala (Scala)         groovy (Groovy)\\n  rhino (JavaScript)      abcl (Common LISP)    clojure (Clojure)\\n  kawa (Scheme)\\n\\n\\u001B[1mSpecial commands:\\u001B[0m\\n  mount_dropbox           -- Mount a Dropbox folder into the file system.\\n  profile <command>       -- Profile a command with 5 runs.\\n  tip                     -- Get a random idea to try out in the demo.\\n\\n\\u001B[1mJava-related commands:\\u001B[0m\\n  javac <source file>     -- Invoke the Java 8 compiler.\\n  ecj <source file>       -- Invoke the Eclipse Java compiler.\\n  java <class> [args...]  -- Run with command-line arguments.\\n  javap [args...] <class> -- Run the Java 8 disassembler.\\n\\n\\u001B[1mPrograms and Demos:\\u001B[0m\\n  abandon   Double-entry accounting software written in Scala.\\n            Try 'abandon -c /home/files/abandon/examples/complete/accounts.conf'\\n  scimark2  An old-school Java benchmark for JVMs. Measures JVM speed for\\n            scientific and numerical computing. May freeze up the browser,\\n            as the program has a number of long-running loops.\\n\\n  Small Java demos are located in /home/classes/demo, along with their source\\n  code.\\n\\n\");\n\t        cb();\n\t    };\n\t    return HelpCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.HelpCommand = HelpCommand;\n\tvar tips = [\n\t    \"Upload a JAR using the \\\"Upload Files\\\" button, and run it in DoppioJVM with\\njava -jar [file.jar]\",\n\t    \"Mount a Dropbox folder into the in-browser filesystem with mount_dropbox, sync\\nJava programs to Dropbox, and watch them appear in the in-browser filesystem!\",\n\t    \"Edit one of the built-in demos at /home/classes/demo, re-compile it with javac,\\nand re-run it with java!\",\n\t    \"Ever use Java 8? Try experimenting with new Java 8 features! DoppioJVM\\nsupports them.\",\n\t    \"Try random JAR files in DoppioJVM and see what works. If it seems\\ninteresting, file an issue at https://github.com/plasma-umass/doppio-demo and\\nwe may include it in a demo update!\",\n\t    \"Run the abandon accounting software on the example input:\\nabandon -c /home/files/abandon/examples/complete/accounts.conf\\nModify the input, and try it again.\"\n\t];\n\tfunction getRandomTip() {\n\t    var min = 0, max = tips.length;\n\t    return tips[Math.floor(Math.random() * (max - min))];\n\t}\n\tvar TipCommand = (function (_super) {\n\t    __extends(TipCommand, _super);\n\t    function TipCommand() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    TipCommand.prototype.getCommand = function () {\n\t        return 'tip';\n\t    };\n\t    TipCommand.prototype.getAutocompleteFilter = function () {\n\t        // tip command takes no arguments\n\t        return function () { return false; };\n\t    };\n\t    TipCommand.prototype.run = function (terminal, args, cb) {\n\t        terminal.stdout(getRandomTip() + \"\\n\");\n\t        cb();\n\t    };\n\t    return TipCommand;\n\t}(meta_1.AbstractShellCommand));\n\texports.TipCommand = TipCommand;\n\t//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUJBQW1DLFFBQVEsQ0FBQyxDQUFBO0FBRzVDO0lBQWlDLCtCQUFvQjtJQUFyRDtRQUFpQyw4QkFBb0I7SUF5QnJELENBQUM7SUF4QlEsZ0NBQVUsR0FBakI7UUFDRSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFDTSx5QkFBRyxHQUFWLFVBQVcsUUFBZSxFQUFFLElBQWMsRUFBRSxFQUFjO1FBQ3hELElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsVUFBVSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXhELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQixRQUFRLENBQUMsTUFBTSxDQUFDLDhCQUE4QixDQUFDLENBQUM7WUFDaEQsRUFBRSxFQUFFLENBQUM7UUFDUCxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFVBQVUsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLFFBQVEsQ0FBQyxNQUFNLENBQUMsd0JBQXNCLE9BQU8sT0FBSSxDQUFDLENBQUM7WUFDbkQsRUFBRSxFQUFFLENBQUM7UUFDUCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6QixVQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUN0QyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ3JCLElBQUksR0FBRyxHQUFHLENB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QUNyQiwrSkFDOEU7SUFDOUUsMkdBQ3lCO0lBQ3pCLHdGQUNlO0lBQ2YsdUxBRW9DO0lBQ3BDLGdLQUVvQztDQUNuQyxDQUFDO0FBQ0Y7SUFDRSxJQUFNLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkQsQ0FBQztBQUVEO0lBQWdDLDhCQUFvQjtJQUFwRDtRQUFnQyw4QkFBb0I7SUFjcEQsQ0FBQztJQWJRLCtCQUFVLEdBQWpCO1FBQ0UsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFTSwwQ0FBcUIsR0FBNUI7UUFDRSxpQ0FBaUM7UUFDakMsTUFBTSxDQUFDLGNBQU0sT0FBQSxLQUFLLEVBQUwsQ0FBSyxDQUFDO0lBQ3JCLENBQUM7SUFFTSx3QkFBRyxHQUFWLFVBQVcsUUFBZSxFQUFFLElBQWMsRUFBRSxFQUFjO1FBQ3hELFFBQVEsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDdkMsRUFBRSxFQUFFLENBQUM7SUFDUCxDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQUFDLEFBZEQsQ0FBZ0MsMkJBQW9CLEdBY25EO0FBZFksa0JBQVUsYUFjdEIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWJzdHJhY3RTaGVsbENvbW1hbmR9IGZyb20gJy4vbWV0YSc7XG5pbXBvcnQgU2hlbGwgZnJvbSAnLi4vc2hlbGwnO1xuXG5leHBvcnQgY2xhc3MgVGltZUNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAndGltZSc7XG4gIH1cbiAgcHVibGljIHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHZhciBjb21tYW5kID0gYXJnc1swXSxcbiAgICAgIGNvbW1hbmRPYmogPSB0ZXJtaW5hbC5nZXRBdmFpbGFibGVDb21tYW5kcygpW2NvbW1hbmRdO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09IDApIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChgVXNhZ2U6IHRpbWUgW3Byb2dyYW1dIFthcmdzXWApO1xuICAgICAgY2IoKTtcbiAgICB9IGVsc2UgaWYgKGNvbW1hbmRPYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVybWluYWwuc3RkZXJyKGBVbmRlZmluZWQgY29tbWFuZDogJHtjb21tYW5kfVxcbmApO1xuICAgICAgY2IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YXJ0ID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7XG4gICAgICBjb25zb2xlLnByb2ZpbGUoY29tbWFuZCk7XG4gICAgICBjb21tYW5kT2JqLnJ1bih0ZXJtaW5hbCwgYXJncy5zbGljZSgxKSwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLnByb2ZpbGVFbmQoKTtcbiAgICAgICAgdmFyIGVuZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoYFxcblRpbWUgZWxhcHNlZDogJHtlbmQgLSBzdGFydH0gbXMuXFxuYCk7XG4gICAgICAgIGNiKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2ZpbGVDb21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gJ3Byb2ZpbGUnO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB2YXIgY291bnQgPSAwLCBydW5zID0gNSwgZHVyYXRpb24gPSAwLCBjb21tYW5kID0gYXJnc1swXSxcbiAgICAgIGNvbW1hbmRPYmogPSB0ZXJtaW5hbC5nZXRBdmFpbGFibGVDb21tYW5kcygpW2NvbW1hbmRdO1xuICAgIGlmIChjb21tYW5kT2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChgVW5kZWZpbmVkIGNvbW1hbmQ6ICR7Y29tbWFuZH1cXG5gKTtcbiAgICAgIGNiKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bmN0aW9uIHRpbWVPbmNlKGlzV2FybXVwOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHZhciBzdGFydCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICBjb21tYW5kT2JqLnJ1bih0ZXJtaW5hbCwgYXJncy5zbGljZSgxKSwoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1dhcm11cCkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgZHVyYXRpb24gKz0gZW5kIC0gc3RhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3VudCA8IHJ1bnMpIHtcbiAgICAgICAgICAgIHRpbWVPbmNlKGZhbHNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGVybWluYWwuc3Rkb3V0KGBcXG4ke2NvbW1hbmR9IHRvb2sgYW4gYXZlcmFnZSBvZiAke2R1cmF0aW9uIC8gcnVuc30gbXMgdG8gcnVuLlxcbmApO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGltZU9uY2UodHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIZWxwQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdoZWxwJztcbiAgfVxuXG4gIHB1YmxpYyBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKSB7XG4gICAgLy8gaGVscCBjb21tYW5kIHRha2VzIG5vIGFyZ3VtZW50c1xuICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0ZXJtaW5hbC5zdGRvdXQoXG5gVXNlIEN0cmwtQyBmb3IgU0lHSU5ULCB0YWIgZm9yIGF1dG9jb21wbGV0ZSwgYW5kIHRoZSB1cGxvYWQgYnV0dG9uIHRvIHVwbG9hZFxuZmlsZXMgaW50byB0aGUgY3VycmVudCB2aXJ0dWFsIGZpbGVzeXN0ZW0gZGlyZWN0b3J5LlxuXG5cXHgxYlsxbVN0YW5kYXJkIGNvbW1hbmRzOlxceDFiWzBtXG4gIGNhdCA8ZmlsZT4gICAgIGxzIDxkaXI+ICAgICAgIG12IDxzcmM+IDxkc3Q+ICAgIHRpbWUgPGNvbW1hbmQ+XG4gIGVkaXQgPGZpbGU+ICAgIGNkIDxkaXI+ICAgICAgIGNwIDxzcmM+IDxkc3Q+XG4gIHJtIDxmaWxlPiAgICAgIHJtZGlyIDxkaXI+XG4gICAgICAgICAgICAgICAgIG1rZGlyIDxkaXI+XG5cblxceDFiWzFtUkVQTHMgYW5kIENvbXBpbGVyczpcXHgxYlswbSAoV0FSTklORzogVGhlc2UgdHJpZ2dlciBkb3dubG9hZHMhKVxuICBuYXNob3JuIChKYXZhU2NyaXB0KSAgICBzY2FsYSAoU2NhbGEpICAgICAgICAgZ3Jvb3Z5IChHcm9vdnkpXG4gIHJoaW5vIChKYXZhU2NyaXB0KSAgICAgIGFiY2wgKENvbW1vbiBMSVNQKSAgICBjbG9qdXJlIChDbG9qdXJlKVxuICBrYXdhIChTY2hlbWUpXG5cblxceDFiWzFtU3BlY2lhbCBjb21tYW5kczpcXHgxYlswbVxuICBtb3VudF9kcm9wYm94ICAgICAgICAgICAtLSBNb3VudCBhIERyb3Bib3ggZm9sZGVyIGludG8gdGhlIGZpbGUgc3lzdGVtLlxuICBwcm9maWxlIDxjb21tYW5kPiAgICAgICAtLSBQcm9maWxlIGEgY29tbWFuZCB3aXRoIDUgcnVucy5cbiAgdGlwICAgICAgICAgICAgICAgICAgICAgLS0gR2V0IGEgcmFuZG9tIGlkZWEgdG8gdHJ5IG91dCBpbiB0aGUgZGVtby5cblxuXFx4MWJbMW1KYXZhLXJlbGF0ZWQgY29tbWFuZHM6XFx4MWJbMG1cbiAgamF2YWMgPHNvdXJjZSBmaWxlPiAgICAgLS0gSW52b2tlIHRoZSBKYXZhIDggY29tcGlsZXIuXG4gIGVjaiA8c291cmNlIGZpbGU+ICAgICAgIC0tIEludm9rZSB0aGUgRWNsaXBzZSBKYXZhIGNvbXBpbGVyLlxuICBqYXZhIDxjbGFzcz4gW2FyZ3MuLi5dICAtLSBSdW4gd2l0aCBjb21tYW5kLWxpbmUgYXJndW1lbnRzLlxuICBqYXZhcCBbYXJncy4uLl0gPGNsYXNzPiAtLSBSdW4gdGhlIEphdmEgOCBkaXNhc3NlbWJsZXIuXG5cblxceDFiWzFtUHJvZ3JhbXMgYW5kIERlbW9zOlxceDFiWzBtXG4gIGFiYW5kb24gICBEb3VibGUtZW50cnkgYWNjb3VudGluZyBzb2Z0d2FyZSB3cml0dGVuIGluIFNjYWxhLlxuICAgICAgICAgICAgVHJ5ICdhYmFuZG9uIC1jIC9ob21lL2ZpbGVzL2FiYW5kb24vZXhhbXBsZXMvY29tcGxldGUvYWNjb3VudHMuY29uZidcbiAgc2NpbWFyazIgIEFuIG9sZC1zY2hvb2wgSmF2YSBiZW5jaG1hcmsgZm9yIEpWTXMuIE1lYXN1cmVzIEpWTSBzcGVlZCBmb3JcbiAgICAgICAgICAgIHNjaWVudGlmaWMgYW5kIG51bWVyaWNhbCBjb21wdXRpbmcuIE1heSBmcmVlemUgdXAgdGhlIGJyb3dzZXIsXG4gICAgICAgICAgICBhcyB0aGUgcHJvZ3JhbSBoYXMgYSBudW1iZXIgb2YgbG9uZy1ydW5uaW5nIGxvb3BzLlxuXG4gIFNtYWxsIEphdmEgZGVtb3MgYXJlIGxvY2F0ZWQgaW4gL2hvbWUvY2xhc3Nlcy9kZW1vLCBhbG9uZyB3aXRoIHRoZWlyIHNvdXJjZVxuICBjb2RlLlxuXG5gKTtcbiAgICBjYigpO1xuICB9XG59XG5cbmNvbnN0IHRpcHM6IHN0cmluZ1tdID0gW1xuYFVwbG9hZCBhIEpBUiB1c2luZyB0aGUgXCJVcGxvYWQgRmlsZXNcIiBidXR0b24sIGFuZCBydW4gaXQgaW4gRG9wcGlvSlZNIHdpdGhcbmphdmEgLWphciBbZmlsZS5qYXJdYCxcbmBNb3VudCBhIERyb3Bib3ggZm9sZGVyIGludG8gdGhlIGluLWJyb3dzZXIgZmlsZXN5c3RlbSB3aXRoIG1vdW50X2Ryb3Bib3gsIHN5bmNcbkphdmEgcHJvZ3JhbXMgdG8gRHJvcGJveCwgYW5kIHdhdGNoIHRoZW0gYXBwZWFyIGluIHRoZSBpbi1icm93c2VyIGZpbGVzeXN0ZW0hYCxcbmBFZGl0IG9uZSBvZiB0aGUgYnVpbHQtaW4gZGVtb3MgYXQgL2hvbWUvY2xhc3Nlcy9kZW1vLCByZS1jb21waWxlIGl0IHdpdGggamF2YWMsXG5hbmQgcmUtcnVuIGl0IHdpdGggamF2YSFgLFxuYEV2ZXIgdXNlIEphdmEgOD8gVHJ5IGV4cGVyaW1lbnRpbmcgd2l0aCBuZXcgSmF2YSA4IGZlYXR1cmVzISBEb3BwaW9KVk1cbnN1cHBvcnRzIHRoZW0uYCxcbmBUcnkgcmFuZG9tIEpBUiBmaWxlcyBpbiBEb3BwaW9KVk0gYW5kIHNlZSB3aGF0IHdvcmtzLiBJZiBpdCBzZWVtc1xuaW50ZXJlc3RpbmcsIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3BsYXNtYS11bWFzcy9kb3BwaW8tZGVtbyBhbmRcbndlIG1heSBpbmNsdWRlIGl0IGluIGEgZGVtbyB1cGRhdGUhYCxcbmBSdW4gdGhlIGFiYW5kb24gYWNjb3VudGluZyBzb2Z0d2FyZSBvbiB0aGUgZXhhbXBsZSBpbnB1dDpcbmFiYW5kb24gLWMgL2hvbWUvZmlsZXMvYWJhbmRvbi9leGFtcGxlcy9jb21wbGV0ZS9hY2NvdW50cy5jb25mXG5Nb2RpZnkgdGhlIGlucHV0LCBhbmQgdHJ5IGl0IGFnYWluLmBcbl07XG5mdW5jdGlvbiBnZXRSYW5kb21UaXAoKTogc3RyaW5nIHtcbiAgY29uc3QgbWluID0gMCwgbWF4ID0gdGlwcy5sZW5ndGg7XG4gIHJldHVybiB0aXBzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKV07XG59XG5cbmV4cG9ydCBjbGFzcyBUaXBDb21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gJ3RpcCc7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXV0b2NvbXBsZXRlRmlsdGVyKCkge1xuICAgIC8vIHRpcCBjb21tYW5kIHRha2VzIG5vIGFyZ3VtZW50c1xuICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0ZXJtaW5hbC5zdGRvdXQoZ2V0UmFuZG9tVGlwKCkgKyBcIlxcblwiKTtcbiAgICBjYigpO1xuICB9XG59XG4iXX0=\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"Bench.class\": null,\n\t\t\"Bench.java\": null,\n\t\t\"FrozenCompile.class\": null,\n\t\t\"FrozenCompile.java\": null,\n\t\t\"NashornBenchmark.class\": null,\n\t\t\"NashornBenchmark.java\": null,\n\t\t\"abandon.jar\": null,\n\t\t\"abcl-1.3.3.jar\": null,\n\t\t\"clojure-1.7.0.jar\": null,\n\t\t\"ecj-4.5.jar\": null,\n\t\t\"groovy-all-2.4.5-indy.jar\": null,\n\t\t\"jruby-complete-9.0.1.0.jar\": null,\n\t\t\"jython-standalone-2.7.0.jar\": null,\n\t\t\"kawa-2.0.jar\": null,\n\t\t\"listings.json\": null,\n\t\t\"rhino1.7.6.jar\": null,\n\t\t\"scala-2.11.7\": {\n\t\t\t\"bin\": {\n\t\t\t\t\"fsc\": null,\n\t\t\t\t\"fsc.bat\": null,\n\t\t\t\t\"scala\": null,\n\t\t\t\t\"scala.bat\": null,\n\t\t\t\t\"scalac\": null,\n\t\t\t\t\"scalac.bat\": null,\n\t\t\t\t\"scaladoc\": null,\n\t\t\t\t\"scaladoc.bat\": null,\n\t\t\t\t\"scalap\": null,\n\t\t\t\t\"scalap.bat\": null\n\t\t\t},\n\t\t\t\"doc\": {\n\t\t\t\t\"LICENSE.md\": null,\n\t\t\t\t\"License.rtf\": null,\n\t\t\t\t\"README\": null,\n\t\t\t\t\"licenses\": {\n\t\t\t\t\t\"apache_jansi.txt\": null,\n\t\t\t\t\t\"bsd_asm.txt\": null,\n\t\t\t\t\t\"bsd_jline.txt\": null,\n\t\t\t\t\t\"mit_jquery-layout.txt\": null,\n\t\t\t\t\t\"mit_jquery-ui.txt\": null,\n\t\t\t\t\t\"mit_jquery.txt\": null,\n\t\t\t\t\t\"mit_sizzle.txt\": null,\n\t\t\t\t\t\"mit_tools.tooltip.txt\": null\n\t\t\t\t},\n\t\t\t\t\"tools\": {\n\t\t\t\t\t\"css\": {\n\t\t\t\t\t\t\"style.css\": null\n\t\t\t\t\t},\n\t\t\t\t\t\"fsc.html\": null,\n\t\t\t\t\t\"images\": {\n\t\t\t\t\t\t\"external.gif\": null,\n\t\t\t\t\t\t\"scala_logo.png\": null\n\t\t\t\t\t},\n\t\t\t\t\t\"index.html\": null,\n\t\t\t\t\t\"scala.html\": null,\n\t\t\t\t\t\"scalac.html\": null,\n\t\t\t\t\t\"scaladoc.html\": null,\n\t\t\t\t\t\"scalap.html\": null\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"lib\": {\n\t\t\t\t\"akka-actor_2.11-2.3.10.jar\": null,\n\t\t\t\t\"config-1.2.1.jar\": null,\n\t\t\t\t\"jline-2.12.1.jar\": null,\n\t\t\t\t\"scala-actors-2.11.0.jar\": null,\n\t\t\t\t\"scala-actors-migration_2.11-1.1.0.jar\": null,\n\t\t\t\t\"scala-compiler.jar\": null,\n\t\t\t\t\"scala-continuations-library_2.11-1.0.2.jar\": null,\n\t\t\t\t\"scala-continuations-plugin_2.11.7-1.0.2.jar\": null,\n\t\t\t\t\"scala-library.jar\": null,\n\t\t\t\t\"scala-parser-combinators_2.11-1.0.4.jar\": null,\n\t\t\t\t\"scala-reflect.jar\": null,\n\t\t\t\t\"scala-swing_2.11-1.0.2.jar\": null,\n\t\t\t\t\"scala-xml_2.11-1.0.4.jar\": null,\n\t\t\t\t\"scalap-2.11.7.jar\": null\n\t\t\t},\n\t\t\t\"man\": {\n\t\t\t\t\"man1\": {\n\t\t\t\t\t\"fsc.1\": null,\n\t\t\t\t\t\"scala.1\": null,\n\t\t\t\t\t\"scalac.1\": null,\n\t\t\t\t\t\"scaladoc.1\": null,\n\t\t\t\t\t\"scalap.1\": null\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"scimark2lib.jar\": null\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** app.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 15717a8e9055eca5e530\n **/","\"use strict\";\nvar BrowserFS = require('browserfs');\nvar util_1 = require('./util');\nvar shell_1 = require('./shell');\nvar java_1 = require('./commands/java');\nvar edit_1 = require('./commands/edit');\nvar fs_1 = require('./commands/fs');\nvar util_2 = require('./commands/util');\nvar Doppio = require('doppiojvm');\nvar process = BrowserFS.BFSRequire('process'), Buffer = BrowserFS.BFSRequire('buffer').Buffer, fs = BrowserFS.BFSRequire('fs'), path = BrowserFS.BFSRequire('path'), demoJars = \"/programs/\", demoClasses = \"/home/classes/\";\n// Set the origin location, if it's not already.\nif (location['origin'] == null) {\n    location['origin'] = location.protocol + \"//\" + location.host;\n}\n/**\n * Uploads the specified file via the FileReader interface. Calls the callback\n * with an optional error if one occurs.\n */\nfunction uploadFile(f, cb) {\n    var reader = new FileReader();\n    reader.onerror = function (e) {\n        switch (e.target.error.code) {\n            case e.target.error.NOT_FOUND_ERR:\n                return cb(\"File \" + f.name + \" not found.\");\n            case e.target.error.NOT_READABLE_ERR:\n                return cb(\"File \" + f.name + \" is not readable.\");\n            case e.target.error.SECURITY_ERR:\n                return cb(\"Cannot use the FileReader interface. You must launch your browser with --allow-file-access-from-files.\");\n        }\n    };\n    reader.onload = function (e) {\n        fs.writeFile(process.cwd() + '/' + f.name, new Buffer(e.target.result), function (err) {\n            if (err) {\n                cb(\"\" + err);\n            }\n            else {\n                cb();\n            }\n        });\n    };\n    reader.readAsArrayBuffer(f);\n}\n/**\n * Upload files via the browser's FileReader interface. Triggered when someone\n * clicks the upload button in the demo.\n */\nfunction uploadFiles(terminal, ev) {\n    if (typeof FileReader === \"undefined\" || FileReader === null) {\n        terminal.stderr(\"\\nYour browser doesn't support file loading.\\nTry using the editor to create files instead.\\n\");\n        return terminal.prompt();\n    }\n    var fileCount = ev.target.files.length, filesUploaded = 0;\n    if (fileCount > 0) {\n        terminal.stdout(\"\\nUploading \" + fileCount + \" files...\\n\");\n    }\n    var files = ev.target.files;\n    var _loop_1 = function(i) {\n        var f = files[i];\n        uploadFile(f, function (e) {\n            filesUploaded++;\n            var str = \"[\" + filesUploaded + \"/\" + fileCount + \"]: File \" + f.name + \" \";\n            if (e) {\n                str += \"could not be saved: \" + e + \".\\n\";\n                terminal.stderr(str);\n            }\n            else {\n                str += \"successfully saved.\\n\";\n                terminal.stdout(str);\n            }\n            if (filesUploaded === fileCount) {\n                terminal.prompt();\n            }\n        });\n    };\n    for (var i = 0; i < files.length; i++) {\n        _loop_1(i);\n    }\n}\nfunction startDemo() {\n    // Set up the master terminal object.\n    var consoleJQuery = $('#console');\n    process.chdir('/home');\n    consoleJQuery.fadeIn('fast', function () {\n        var consoleElement = consoleJQuery.get()[0];\n        util_1.disableScroll(consoleElement);\n        var shell = new shell_1[\"default\"](consoleElement, [\n            new java_1.JARCommand('ecj', demoJars + \"ecj-4.5.jar\", ['-Djdt.compiler.useSingleThread=true'], ['java']),\n            new java_1.JARCommand('rhino', demoJars + \"rhino1.7.6.jar\", [], ['js']),\n            new java_1.JARCommand('kawa', demoJars + \"kawa-2.0.jar\", [], ['scm', 'ss', 'sch']),\n            new java_1.JARCommand('clojure', demoJars + \"clojure1.7.0.jar\", [], ['clj', 'cljs', 'cljc', 'edn']),\n            // Needs --bin irb to do REPL. Add if no args!\n            // new JARCommand('jruby', demoJars + \"jruby-complete-9.0.1.0.jar\", [], ['rb']),\n            // Doesn't work :| Fucking jline.\n            // new JARCommand('jython', demoJars + \"jython-standalone-2.7.0.jar\", [\"-Djline.terminal=jline.UnsupportedTerminal\"], ['js']),\n            new java_1.JavaClassCommand('scala', \"\", 'scala.tools.nsc.MainGenericRunner', [\n                '-Xbootclasspath/a:' + [\n                    'akka-actor_2.11-2.3.10.jar',\n                    'config-1.2.1.jar',\n                    'jline-2.12.1.jar',\n                    'scala-actors-2.11.0.jar',\n                    'scala-actors-migration_2.11-1.1.0.jar',\n                    'scala-compiler.jar',\n                    'scala-continuations-library_2.11-1.0.2.jar',\n                    'scala-continuations-plugin_2.11.7-1.0.2.jar',\n                    'scala-library.jar',\n                    'scala-parser-combinators_2.11-1.0.4.jar',\n                    'scala-reflect.jar',\n                    'scala-swing_2.11-1.0.2.jar',\n                    'scala-xml_2.11-1.0.4.jar',\n                    'scalap-2.11.7.jar'\n                ].map(function (item) { return (demoJars + \"scala-2.11.7/lib/\" + item); }).join(':'),\n                (\"-Dscala.home=\" + demoJars + \"scala-2.11.7\"), '-Dscala.usejavacp=true',\n                '-Denv.emacs='\n            ], [], ['scala', 'sc']),\n            new java_1.JARCommand('groovy', demoJars + \"groovy-all-2.4.5-indy.jar\", [], ['groovy', 'gvy', 'gy', 'gsh']),\n            new java_1.JARCommand('abcl', demoJars + \"abcl-1.3.3.jar\", [], ['lisp', 'cl', 'lsp', 'l']),\n            new java_1.JARCommand('nashorn', \"/home/vendor/java_home/lib/ext/nashorn.jar\", [], ['js']),\n            new java_1.JARCommand('abandon', \"/programs/abandon.jar\", [], ['conf']),\n            new java_1.JavaClassCommand('scimark2', \"/programs/scimark2lib.jar\", 'jnt.scimark2.commandline', [], [], []),\n            new java_1.JavaClassCommand('javac', demoClasses, \"classes.util.Javac\", [], [], ['java']),\n            new java_1.JavaClassCommand('javap', demoClasses, \"classes.util.Javap\", [], [], ['class']),\n            new java_1.JavaCommand(),\n            new fs_1.LSCommand(),\n            new edit_1[\"default\"]('source', $('#save_btn'), $('#close_btn'), $('#ide'), $('#console'), $('#filename')),\n            new fs_1.CatCommand(),\n            new fs_1.MvCommand(),\n            new fs_1.CpCommand(),\n            new fs_1.MkdirCommand(),\n            new fs_1.CDCommand(),\n            new fs_1.RMCommand(),\n            new fs_1.RmdirCommand(),\n            new fs_1.MountDropboxCommand(),\n            new util_2.TimeCommand(),\n            new util_2.ProfileCommand(),\n            new util_2.TipCommand(),\n            new util_2.HelpCommand()\n        ], 'Please wait while the DoppioJVM demo loads...', \"/home/.shell_history\");\n        fs.readFile(\"/home/motd\", function (e, data) {\n            var welcomeText = \"\";\n            if (!e) {\n                welcomeText = data.toString();\n            }\n            // set up the local file loaders\n            $('#file').change(function (ev) {\n                uploadFiles(shell, ev);\n            });\n            // Set up stdout/stderr/stdin.\n            process.stdout.on('data', function (data) { return shell.stdout(data.toString()); });\n            process.stderr.on('data', function (data) { return shell.stderr(data.toString()); });\n            shell.loadingCompleted(welcomeText);\n        });\n    });\n}\n/**\n * Mounts + sets up the file system.\n */\nfunction setupFileSystem(persistentFs, cb) {\n    var root = new BrowserFS.FileSystem.MountableFileSystem();\n    BrowserFS.initialize(root);\n    fs.mkdirSync('/mnt');\n    root.mount('/home', persistentFs);\n    root.mount('/tmp', new BrowserFS.FileSystem.InMemory());\n    root.mount('/mnt/localStorage', new BrowserFS.FileSystem.LocalStorage());\n    root.mount('/programs', new BrowserFS.FileSystem.XmlHttpRequest(require('json!../../build/programs/listings.json'), 'programs/'));\n    cb();\n}\nfunction constructPersistantFs(cb) {\n    if (BrowserFS.FileSystem.IndexedDB.isAvailable()) {\n        var idbfs_1 = new BrowserFS.FileSystem.IndexedDB(function (e, fs) {\n            if (e) {\n                cb(new BrowserFS.FileSystem.InMemory());\n            }\n            else {\n                cb(idbfs_1);\n            }\n        }, 'doppio-cache');\n    }\n    else if (BrowserFS.FileSystem.HTML5FS.isAvailable()) {\n        var html5fs_1 = new BrowserFS.FileSystem.HTML5FS(100 * 1024 * 1024);\n        html5fs_1.allocate(function (e) {\n            if (e) {\n                cb(new BrowserFS.FileSystem.InMemory());\n            }\n            else {\n                cb(html5fs_1);\n            }\n        });\n    }\n    else {\n        cb(new BrowserFS.FileSystem.InMemory());\n    }\n}\n/**\n * Downloads + extracts java_home to browser-local storage.\n */\nfunction setupJavaHome(persistentFs, cb) {\n    var progressBarText = $('.progress-bar span');\n    var progressBar = $('.progress-bar');\n    var fs = BrowserFS.BFSRequire('fs');\n    progressBarText.text(\"Checking browser cache...\");\n    BrowserFS.initialize(persistentFs);\n    fs.readFile('/vendor/java_home/jdk.json', function (err, data) {\n        if (err) {\n            download();\n        }\n        else {\n            try {\n                var json = JSON.parse(data.toString());\n                var expectedURL = Doppio.VM.JVM.getCompiledJDKURL();\n                if (json.url === expectedURL) {\n                    // checks out. bypass download.\n                    cb();\n                }\n                else {\n                    // replace.\n                    download();\n                }\n            }\n            catch (e) {\n                download();\n            }\n        }\n    });\n    function download() {\n        var xhr = new XMLHttpRequest();\n        var startTime = (new Date()).getTime();\n        xhr.open('GET', 'doppio_home.zip');\n        xhr.responseType = \"arraybuffer\";\n        xhr.addEventListener('progress', function (e) {\n            var time = (new Date()).getTime();\n            var loaded = e.loaded;\n            var total = e.total;\n            // KB/s\n            var rate = (loaded >> 10) / ((time - startTime) / 1000);\n            var remaining = (total - loaded) >> 10;\n            var remainingTime = Math.floor(remaining / rate);\n            var remainingMinutes = Math.floor(remainingTime / 60);\n            var remainingSeconds = remainingTime % 60;\n            var percent = ((loaded / total) * 100) | 0;\n            progressBarText.text(\"Downloading doppio_home.zip at \" + rate.toFixed(2) + \" KB/s [\" + (loaded >> 10) + \" KB / \" + (total >> 10) + \" KB] (\" + remainingMinutes + \"m\" + remainingSeconds + \"s remaining)\");\n            progressBar.attr('aria-valuenow', percent);\n            progressBar.css('width', percent + \"%\");\n        });\n        xhr.addEventListener('load', function (e) {\n            extract(xhr.response);\n        });\n        xhr.addEventListener('error', function (e) {\n            progressBar.removeClass('active').addClass('progress-bar-danger');\n            progressBarText.text(\"Error downloading doppio_home.zip: \" + e.error);\n        });\n        xhr.addEventListener('abort', function (e) {\n            progressBar.removeClass('active').addClass('progress-bar-danger');\n            progressBarText.text(\"Error downloading doppio_home.zip: Transfer aborted.\");\n        });\n        xhr.send();\n    }\n    function extract(data) {\n        var mfs = new BrowserFS.FileSystem.MountableFileSystem();\n        mfs.mount('/persist', persistentFs);\n        mfs.mount('/doppio_home', new BrowserFS.FileSystem.ZipFS(new Buffer(data)));\n        BrowserFS.initialize(mfs);\n        util_1.recursiveCopy('/doppio_home', '/persist', function (src, dest, size) {\n            progressBarText.text(\"Extracting \" + dest.slice(dest.indexOf('/', 1) + 1) + \"...\");\n        }, function (err) {\n            if (err) {\n                progressBar.removeClass('active').addClass('progress-bar-danger');\n                progressBarText.text(\"Error extracting doppio_home.zip: \" + err);\n            }\n            else {\n                cb();\n            }\n        });\n    }\n}\n$(document).ready(function () {\n    var persistentFs = null;\n    constructPersistantFs(function (_fs) {\n        persistentFs = _fs;\n        BrowserFS.initialize(_fs);\n        var fs = BrowserFS.BFSRequire('fs');\n        fs.readdir('/', function (err, files) {\n            if (files && files.length > 0) {\n                // Add clear demo button.\n                $('#clear-demo-button').fadeIn('fast').on('click', function () {\n                    $('#clear-demo-button').prop('disabled', true);\n                    var resetStatus = $('#reset-status');\n                    util_1.recursiveRm('/', function (p) {\n                        resetStatus.text(\"Deleting cached file \" + p + \"...\");\n                    }, function (err) {\n                        if (err)\n                            console.error(\"Error removing: \" + err);\n                        document.location.reload(true);\n                    });\n                });\n            }\n        });\n    });\n    $('#demo_button').on('click', function () {\n        $('#button-and-warning').fadeOut('fast', function () {\n            $('#progress-bar-container').fadeIn('fast', function () {\n                if (!persistentFs) {\n                    var progressBarText = $('.progress-bar span');\n                    progressBarText.text(\"Waiting for you to grant or deny us access to browser storage....\");\n                    var interval_1 = setInterval(function () {\n                        if (persistentFs) {\n                            clearInterval(interval_1);\n                            step2();\n                        }\n                    }, 100);\n                }\n                else {\n                    step2();\n                }\n                function step2() {\n                    setupJavaHome(persistentFs, function () {\n                        setupFileSystem(persistentFs, function () {\n                            $('#progress-bar-container').fadeOut('fast', function () {\n                                startDemo();\n                            });\n                        });\n                    });\n                }\n            });\n        });\n    });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFPLFNBQVMsV0FBVyxXQUFXLENBQUMsQ0FBQztBQUN4QyxxQkFBeUUsUUFBUSxDQUFDLENBQUE7QUFDbEYsc0JBQWtCLFNBQVMsQ0FBQyxDQUFBO0FBQzVCLHFCQUF3RCxpQkFBaUIsQ0FBQyxDQUFBO0FBQzFFLHFCQUF3QixpQkFBaUIsQ0FBQyxDQUFBO0FBQzFDLG1CQUFpSSxlQUFlLENBQUMsQ0FBQTtBQUNqSixxQkFBbUUsaUJBQWlCLENBQUMsQ0FBQTtBQUdyRixJQUFPLE1BQU0sV0FBVyxXQUFXLENBQUMsQ0FBQztBQUVyQyxJQUFNLE9BQU8sR0FBbUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsRUFDN0QsTUFBTSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxFQUM5QyxFQUFFLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFDL0IsSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQ25DLFFBQVEsR0FBRyxZQUFZLEVBQ3ZCLFdBQVcsR0FBRyxnQkFBZ0IsQ0FBQztBQUVqQyxnREFBZ0Q7QUFDaEQsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDL0IsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7QUFDaEUsQ0FBQztBQVdEOzs7R0FHRztBQUNILG9CQUFvQixDQUFPLEVBQUUsRUFBd0I7SUFDbkQsSUFBSSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztJQUM5QixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQUMsQ0FBa0I7UUFDbEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxD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RixJQUFNLFVBQVEsR0FBRyxXQUFXLENBQUM7d0JBQzNCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7NEJBQ2pCLGFBQWEsQ0FBQyxVQUFRLENBQUMsQ0FBQzs0QkFDeEIsS0FBSyxFQUFFLENBQUM7d0JBQ1YsQ0FBQztvQkFDSCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ1YsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDTixLQUFLLEVBQUUsQ0FBQztnQkFDVixDQUFDO2dCQUVEO29CQUNFLGFBQWEsQ0FBQyxZQUFZLEVBQUU7d0JBQzFCLGVBQWUsQ0FBQyxZQUFZLEVBQUU7NEJBQzVCLENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7Z0NBQzNDLFNBQVMsRUFBRSxDQUFDOzRCQUNkLENBQUMsQ0FBQyxDQUFDO3dCQUNMLENBQUMsQ0FBQyxDQUFDO29CQUNMLENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCcm93c2VyRlMgPSByZXF1aXJlKCdicm93c2VyZnMnKTtcbmltcG9ydCB7ZmlsdGVyU3Vic3RyaW5nLCByZWN1cnNpdmVDb3B5LCBkaXNhYmxlU2Nyb2xsLCByZWN1cnNpdmVSbX0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBTaGVsbCBmcm9tICcuL3NoZWxsJztcbmltcG9ydCB7SkFSQ29tbWFuZCwgSmF2YUNsYXNzQ29tbWFuZCwgSmF2YUNvbW1hbmR9IGZyb20gJy4vY29tbWFuZHMvamF2YSc7XG5pbXBvcnQgRWRpdENvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9lZGl0JztcbmltcG9ydCB7TFNDb21tYW5kLCBDYXRDb21tYW5kLCBDRENvbW1hbmQsIENwQ29tbWFuZCwgTWtkaXJDb21tYW5kLCBNb3VudERyb3Bib3hDb21tYW5kLCBNdkNvbW1hbmQsIFJNQ29tbWFuZCwgUm1kaXJDb21tYW5kfSBmcm9tICcuL2NvbW1hbmRzL2ZzJztcbmltcG9ydCB7VGltZUNvbW1hbmQsIEhlbHBDb21tYW5kLCBQcm9maWxlQ29tbWFuZCwgVGlwQ29tbWFuZH0gZnJvbSAnLi9jb21tYW5kcy91dGlsJztcbmltcG9ydCBfZnMgPSByZXF1aXJlKCdmcycpO1xuaW1wb3J0IFN0YXRzID0gX2ZzLlN0YXRzO1xuaW1wb3J0IERvcHBpbyA9IHJlcXVpcmUoJ2RvcHBpb2p2bScpO1xuXG5jb25zdCBwcm9jZXNzOiBOb2RlSlMuUHJvY2VzcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdwcm9jZXNzJyksXG4gIEJ1ZmZlciA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdidWZmZXInKS5CdWZmZXIsXG4gIGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyksXG4gIHBhdGggPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgncGF0aCcpLFxuICBkZW1vSmFycyA9IFwiL3Byb2dyYW1zL1wiLFxuICBkZW1vQ2xhc3NlcyA9IFwiL2hvbWUvY2xhc3Nlcy9cIjtcblxuLy8gU2V0IHRoZSBvcmlnaW4gbG9jYXRpb24sIGlmIGl0J3Mgbm90IGFscmVhZHkuXG5pZiAobG9jYXRpb25bJ29yaWdpbiddID09IG51bGwpIHtcbiAgbG9jYXRpb25bJ29yaWdpbiddID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xufVxuXG4vLyBBZGQgdGhlIC5maWxlcyBhdHRyIGZvciBGaWxlUmVhZGVyIGV2ZW50IHRhcmdldHMuXG5pbnRlcmZhY2UgRmlsZVJlYWRlckV2ZW50IGV4dGVuZHMgRXJyb3JFdmVudCB7XG4gIHRhcmdldDogRmlsZVJlYWRlckV2ZW50VGFyZ2V0O1xufVxuaW50ZXJmYWNlIEZpbGVSZWFkZXJFdmVudFRhcmdldCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgZmlsZXM6IEZpbGVbXTtcbiAgZXJyb3I6IGFueTtcbn1cblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBzcGVjaWZpZWQgZmlsZSB2aWEgdGhlIEZpbGVSZWFkZXIgaW50ZXJmYWNlLiBDYWxscyB0aGUgY2FsbGJhY2tcbiAqIHdpdGggYW4gb3B0aW9uYWwgZXJyb3IgaWYgb25lIG9jY3Vycy5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkRmlsZShmOiBGaWxlLCBjYjogKGU/OiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmVycm9yID0gKGU6IEZpbGVSZWFkZXJFdmVudCk6IHZvaWQgPT4ge1xuICAgIHN3aXRjaCAoZS50YXJnZXQuZXJyb3IuY29kZSkge1xuICAgICAgY2FzZSBlLnRhcmdldC5lcnJvci5OT1RfRk9VTkRfRVJSOlxuICAgICAgICByZXR1cm4gY2IoYEZpbGUgJHtmLm5hbWV9IG5vdCBmb3VuZC5gKTtcbiAgICAgIGNhc2UgZS50YXJnZXQuZXJyb3IuTk9UX1JFQURBQkxFX0VSUjpcbiAgICAgICAgcmV0dXJuIGNiKGBGaWxlICR7Zi5uYW1lfSBpcyBub3QgcmVhZGFibGUuYCk7XG4gICAgICBjYXNlIGUudGFyZ2V0LmVycm9yLlNFQ1VSSVRZX0VSUjpcbiAgICAgICAgcmV0dXJuIGNiKFwiQ2Fubm90IHVzZSB0aGUgRmlsZVJlYWRlciBpbnRlcmZhY2UuIFlvdSBtdXN0IGxhdW5jaCB5b3VyIGJyb3dzZXIgd2l0aCAtLWFsbG93LWZpbGUtYWNjZXNzLWZyb20tZmlsZXMuXCIpO1xuICAgIH1cbiAgfTtcbiAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgZnMud3JpdGVGaWxlKHByb2Nlc3MuY3dkKCkgKyAnLycgKyBmLm5hbWUsIG5ldyBCdWZmZXIoKDxhbnk+IGUudGFyZ2V0KS5yZXN1bHQpLCAoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNiKGAke2Vycn1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmKTtcbn1cblxuLyoqXG4gKiBVcGxvYWQgZmlsZXMgdmlhIHRoZSBicm93c2VyJ3MgRmlsZVJlYWRlciBpbnRlcmZhY2UuIFRyaWdnZXJlZCB3aGVuIHNvbWVvbmVcbiAqIGNsaWNrcyB0aGUgdXBsb2FkIGJ1dHRvbiBpbiB0aGUgZGVtby5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkRmlsZXModGVybWluYWw6IFNoZWxsLCBldjogRmlsZVJlYWRlckV2ZW50KSB7XG4gIGlmICh0eXBlb2YgRmlsZVJlYWRlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBGaWxlUmVhZGVyID09PSBudWxsKSB7XG4gICAgdGVybWluYWwuc3RkZXJyKFwiXFxuWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBmaWxlIGxvYWRpbmcuXFxuVHJ5IHVzaW5nIHRoZSBlZGl0b3IgdG8gY3JlYXRlIGZpbGVzIGluc3RlYWQuXFxuXCIpO1xuICAgIHJldHVybiB0ZXJtaW5hbC5wcm9tcHQoKTtcbiAgfVxuICB2YXIgZmlsZUNvdW50ID0gZXYudGFyZ2V0LmZpbGVzLmxlbmd0aCwgZmlsZXNVcGxvYWRlZCA9IDA7XG4gIGlmIChmaWxlQ291bnQgPiAwKSB7XG4gICAgdGVybWluYWwuc3Rkb3V0KGBcXG5VcGxvYWRpbmcgJHtmaWxlQ291bnR9IGZpbGVzLi4uXFxuYCk7XG4gIH1cblxuICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGYgPSBmaWxlc1tpXTtcbiAgICB1cGxvYWRGaWxlKGYsKGU/KSA9PiB7XG4gICAgICBmaWxlc1VwbG9hZGVkKys7XG4gICAgICB2YXIgc3RyID0gYFske2ZpbGVzVXBsb2FkZWR9LyR7ZmlsZUNvdW50fV06IEZpbGUgJHtmLm5hbWV9IGBcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIHN0ciArPSBgY291bGQgbm90IGJlIHNhdmVkOiAke2V9LlxcbmA7XG4gICAgICAgIHRlcm1pbmFsLnN0ZGVycihzdHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyICs9IFwic3VjY2Vzc2Z1bGx5IHNhdmVkLlxcblwiO1xuICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoc3RyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGVzVXBsb2FkZWQgPT09IGZpbGVDb3VudCkge1xuICAgICAgICB0ZXJtaW5hbC5wcm9tcHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydERlbW8oKSB7XG4gIC8vIFNldCB1cCB0aGUgbWFzdGVyIHRlcm1pbmFsIG9iamVjdC5cbiAgY29uc3QgY29uc29sZUpRdWVyeSA9ICQoJyNjb25zb2xlJyk7XG4gIHByb2Nlc3MuY2hkaXIoJy9ob21lJyk7XG4gIGNvbnNvbGVKUXVlcnkuZmFkZUluKCdmYXN0JywgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnNvbGVFbGVtZW50ID0gY29uc29sZUpRdWVyeS5nZXQoKVswXTtcbiAgICBkaXNhYmxlU2Nyb2xsKGNvbnNvbGVFbGVtZW50KTtcbiAgICBjb25zdCBzaGVsbCA9IG5ldyBTaGVsbChjb25zb2xlRWxlbWVudCwgW1xuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnZWNqJywgZGVtb0phcnMgKyBcImVjai00LjUuamFyXCIsIFsnLURqZHQuY29tcGlsZXIudXNlU2luZ2xlVGhyZWFkPXRydWUnXSwgWydqYXZhJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgncmhpbm8nLCBkZW1vSmFycyArIFwicmhpbm8xLjcuNi5qYXJcIiwgW10sICBbJ2pzJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgna2F3YScsIGRlbW9KYXJzICsgXCJrYXdhLTIuMC5qYXJcIiwgW10sIFsnc2NtJywgJ3NzJywgJ3NjaCddKSxcbiAgICAgICAgbmV3IEpBUkNvbW1hbmQoJ2Nsb2p1cmUnLCBkZW1vSmFycyArIFwiY2xvanVyZTEuNy4wLmphclwiLCBbXSwgWydjbGonLCAnY2xqcycsICdjbGpjJywgJ2VkbiddKSxcbiAgICAgICAgLy8gTmVlZHMgLS1iaW4gaXJiIHRvIGRvIFJFUEwuIEFkZCBpZiBubyBhcmdzIVxuICAgICAgICAvLyBuZXcgSkFSQ29tbWFuZCgnanJ1YnknLCBkZW1vSmFycyArIFwianJ1YnktY29tcGxldGUtOS4wLjEuMC5qYXJcIiwgW10sIFsncmInXSksXG4gICAgICAgIC8vIERvZXNuJ3Qgd29yayA6fCBGdWNraW5nIGpsaW5lLlxuICAgICAgICAvLyBuZXcgSkFSQ29tbWFuZCgnanl0aG9uJywgZGVtb0phcnMgKyBcImp5dGhvbi1zdGFuZGFsb25lLTIuNy4wLmphclwiLCBbXCItRGpsaW5lLnRlcm1pbmFsPWpsaW5lLlVuc3VwcG9ydGVkVGVybWluYWxcIl0sIFsnanMnXSksXG4gICAgICAgIG5ldyBKYXZhQ2xhc3NDb21tYW5kKCdzY2FsYScsIFwiXCIsICdzY2FsYS50b29scy5uc2MuTWFpbkdlbmVyaWNSdW5uZXInLCBbXG4gICAgICAgICAgJy1YYm9vdGNsYXNzcGF0aC9hOicgKyBbXG4gICAgICAgICAgICAnYWtrYS1hY3Rvcl8yLjExLTIuMy4xMC5qYXInLFxuICAgICAgICAgICAgJ2NvbmZpZy0xLjIuMS5qYXInLFxuICAgICAgICAgICAgJ2psaW5lLTIuMTIuMS5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLWFjdG9ycy0yLjExLjAuamFyJyxcbiAgICAgICAgICAgICdzY2FsYS1hY3RvcnMtbWlncmF0aW9uXzIuMTEtMS4xLjAuamFyJyxcbiAgICAgICAgICAgICdzY2FsYS1jb21waWxlci5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLWNvbnRpbnVhdGlvbnMtbGlicmFyeV8yLjExLTEuMC4yLmphcicsXG4gICAgICAgICAgICAnc2NhbGEtY29udGludWF0aW9ucy1wbHVnaW5fMi4xMS43LTEuMC4yLmphcicsXG4gICAgICAgICAgICAnc2NhbGEtbGlicmFyeS5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLXBhcnNlci1jb21iaW5hdG9yc18yLjExLTEuMC40LmphcicsXG4gICAgICAgICAgICAnc2NhbGEtcmVmbGVjdC5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhLXN3aW5nXzIuMTEtMS4wLjIuamFyJyxcbiAgICAgICAgICAgICdzY2FsYS14bWxfMi4xMS0xLjAuNC5qYXInLFxuICAgICAgICAgICAgJ3NjYWxhcC0yLjExLjcuamFyJ1xuICAgICAgICAgIF0ubWFwKChpdGVtKSA9PiBgJHtkZW1vSmFyc31zY2FsYS0yLjExLjcvbGliLyR7aXRlbX1gKS5qb2luKCc6JyksXG4gICAgICAgICAgYC1Ec2NhbGEuaG9tZT0ke2RlbW9KYXJzfXNjYWxhLTIuMTEuN2AsICctRHNjYWxhLnVzZWphdmFjcD10cnVlJyxcbiAgICAgICAgICAnLURlbnYuZW1hY3M9J1xuICAgICAgICBdLCBbXSwgWydzY2FsYScsICdzYyddKSxcbiAgICAgICAgbmV3IEpBUkNvbW1hbmQoJ2dyb292eScsIGRlbW9KYXJzICsgXCJncm9vdnktYWxsLTIuNC41LWluZHkuamFyXCIsIFtdLCBbJ2dyb292eScsICdndnknLCAnZ3knLCAnZ3NoJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnYWJjbCcsIGRlbW9KYXJzICsgXCJhYmNsLTEuMy4zLmphclwiLCBbXSwgWydsaXNwJywgJ2NsJywgJ2xzcCcsICdsJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnbmFzaG9ybicsIFwiL2hvbWUvdmVuZG9yL2phdmFfaG9tZS9saWIvZXh0L25hc2hvcm4uamFyXCIsIFtdLCBbJ2pzJ10pLFxuICAgICAgICBuZXcgSkFSQ29tbWFuZCgnYWJhbmRvbicsIFwiL3Byb2dyYW1zL2FiYW5kb24uamFyXCIsIFtdLCBbJ2NvbmYnXSksXG4gICAgICAgIG5ldyBKYXZhQ2xhc3NDb21tYW5kKCdzY2ltYXJrMicsIFwiL3Byb2dyYW1zL3NjaW1hcmsybGliLmphclwiLCAnam50LnNjaW1hcmsyLmNvbW1hbmRsaW5lJywgW10sIFtdLCBbXSksXG4gICAgICAgIG5ldyBKYXZhQ2xhc3NDb21tYW5kKCdqYXZhYycsIGRlbW9DbGFzc2VzLCBcImNsYXNzZXMudXRpbC5KYXZhY1wiLCBbXSwgW10sIFsnamF2YSddKSxcbiAgICAgICAgbmV3IEphdmFDbGFzc0NvbW1hbmQoJ2phdmFwJywgZGVtb0NsYXNzZXMsIFwiY2xhc3Nlcy51dGlsLkphdmFwXCIsIFtdLCBbXSwgWydjbGFzcyddKSxcbiAgICAgICAgbmV3IEphdmFDb21tYW5kKCksXG4gICAgICAgIG5ldyBMU0NvbW1hbmQoKSxcbiAgICAgICAgbmV3IEVkaXRDb21tYW5kKCdzb3VyY2UnLCAkKCcjc2F2ZV9idG4nKSwgJCgnI2Nsb3NlX2J0bicpLCAkKCcjaWRlJyksICQoJyNjb25zb2xlJyksICQoJyNmaWxlbmFtZScpKSxcbiAgICAgICAgbmV3IENhdENvbW1hbmQoKSxcbiAgICAgICAgbmV3IE12Q29tbWFuZCgpLFxuICAgICAgICBuZXcgQ3BDb21tYW5kKCksXG4gICAgICAgIG5ldyBNa2RpckNvbW1hbmQoKSxcbiAgICAgICAgbmV3IENEQ29tbWFuZCgpLFxuICAgICAgICBuZXcgUk1Db21tYW5kKCksXG4gICAgICAgIG5ldyBSbWRpckNvbW1hbmQoKSxcbiAgICAgICAgbmV3IE1vdW50RHJvcGJveENvbW1hbmQoKSxcbiAgICAgICAgbmV3IFRpbWVDb21tYW5kKCksXG4gICAgICAgIG5ldyBQcm9maWxlQ29tbWFuZCgpLFxuICAgICAgICBuZXcgVGlwQ29tbWFuZCgpLFxuICAgICAgICBuZXcgSGVscENvbW1hbmQoKVxuICAgICAgXSwgJ1BsZWFzZSB3YWl0IHdoaWxlIHRoZSBEb3BwaW9KVk0gZGVtbyBsb2Fkcy4uLicsIGAvaG9tZS8uc2hlbGxfaGlzdG9yeWApO1xuXG4gICAgZnMucmVhZEZpbGUoXCIvaG9tZS9tb3RkXCIsIChlOiBOb2RlSlMuRXJybm9FeGNlcHRpb24sIGRhdGE6IEJ1ZmZlcikgPT4ge1xuICAgICAgbGV0IHdlbGNvbWVUZXh0ID0gXCJcIjtcbiAgICAgIGlmICghZSkge1xuICAgICAgICB3ZWxjb21lVGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IHVwIHRoZSBsb2NhbCBmaWxlIGxvYWRlcnNcbiAgICAgICQoJyNmaWxlJykuY2hhbmdlKChldjogRmlsZVJlYWRlckV2ZW50KSA9PiB7XG4gICAgICAgIHVwbG9hZEZpbGVzKHNoZWxsLCBldik7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IHVwIHN0ZG91dC9zdGRlcnIvc3RkaW4uXG4gICAgICBwcm9jZXNzLnN0ZG91dC5vbignZGF0YScsKGRhdGE6IEJ1ZmZlcikgPT4gc2hlbGwuc3Rkb3V0KGRhdGEudG9TdHJpbmcoKSkpO1xuICAgICAgcHJvY2Vzcy5zdGRlcnIub24oJ2RhdGEnLChkYXRhOiBCdWZmZXIpID0+IHNoZWxsLnN0ZGVycihkYXRhLnRvU3RyaW5nKCkpKTtcblxuICAgICAgc2hlbGwubG9hZGluZ0NvbXBsZXRlZCh3ZWxjb21lVGV4dCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIE1vdW50cyArIHNldHMgdXAgdGhlIGZpbGUgc3lzdGVtLlxuICovXG5mdW5jdGlvbiBzZXR1cEZpbGVTeXN0ZW0ocGVyc2lzdGVudEZzOiBhbnksIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gIGNvbnN0IHJvb3QgPSBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uTW91bnRhYmxlRmlsZVN5c3RlbSgpO1xuICBCcm93c2VyRlMuaW5pdGlhbGl6ZShyb290KTtcbiAgZnMubWtkaXJTeW5jKCcvbW50Jyk7XG4gIHJvb3QubW91bnQoJy9ob21lJywgcGVyc2lzdGVudEZzKTtcbiAgcm9vdC5tb3VudCgnL3RtcCcsIG5ldyBCcm93c2VyRlMuRmlsZVN5c3RlbS5Jbk1lbW9yeSgpKTtcbiAgcm9vdC5tb3VudCgnL21udC9sb2NhbFN0b3JhZ2UnLCBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uTG9jYWxTdG9yYWdlKCkpO1xuICByb290Lm1vdW50KCcvcHJvZ3JhbXMnLCBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uWG1sSHR0cFJlcXVlc3QocmVxdWlyZSgnanNvbiEuLi8uLi9idWlsZC9wcm9ncmFtcy9saXN0aW5ncy5qc29uJyksICdwcm9ncmFtcy8nKSk7XG4gIGNiKCk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFBlcnNpc3RhbnRGcyhjYjogKGZzOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgaWYgKEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluZGV4ZWREQi5pc0F2YWlsYWJsZSgpKSB7XG4gICAgY29uc3QgaWRiZnMgPSBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uSW5kZXhlZERCKChlLCBmcykgPT4ge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgY2IobmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluTWVtb3J5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IoaWRiZnMpO1xuICAgICAgfVxuICAgIH0sICdkb3BwaW8tY2FjaGUnKTtcbiAgfSBlbHNlIGlmIChCcm93c2VyRlMuRmlsZVN5c3RlbS5IVE1MNUZTLmlzQXZhaWxhYmxlKCkpIHtcbiAgICBjb25zdCBodG1sNWZzID0gbmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkhUTUw1RlMoMTAwKjEwMjQqMTAyNCk7XG4gICAgaHRtbDVmcy5hbGxvY2F0ZSgoZSkgPT4ge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgY2IobmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluTWVtb3J5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IoaHRtbDVmcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2IobmV3IEJyb3dzZXJGUy5GaWxlU3lzdGVtLkluTWVtb3J5KCkpO1xuICB9XG59XG5cbi8qKlxuICogRG93bmxvYWRzICsgZXh0cmFjdHMgamF2YV9ob21lIHRvIGJyb3dzZXItbG9jYWwgc3RvcmFnZS5cbiAqL1xuZnVuY3Rpb24gc2V0dXBKYXZhSG9tZShwZXJzaXN0ZW50RnM6IGFueSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgY29uc3QgcHJvZ3Jlc3NCYXJUZXh0ID0gJCgnLnByb2dyZXNzLWJhciBzcGFuJyk7XG4gIGNvbnN0IHByb2dyZXNzQmFyID0gJCgnLnByb2dyZXNzLWJhcicpO1xuICBjb25zdCBmcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdmcycpO1xuICBwcm9ncmVzc0JhclRleHQudGV4dChgQ2hlY2tpbmcgYnJvd3NlciBjYWNoZS4uLmApO1xuICBCcm93c2VyRlMuaW5pdGlhbGl6ZShwZXJzaXN0ZW50RnMpO1xuICBmcy5yZWFkRmlsZSgnL3ZlbmRvci9qYXZhX2hvbWUvamRrLmpzb24nLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgZG93bmxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRVUkwgPSBEb3BwaW8uVk0uSlZNLmdldENvbXBpbGVkSkRLVVJMKCk7XG4gICAgICAgIGlmIChqc29uLnVybCA9PT0gZXhwZWN0ZWRVUkwpIHtcbiAgICAgICAgICAvLyBjaGVja3Mgb3V0LiBieXBhc3MgZG93bmxvYWQuXG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZXBsYWNlLlxuICAgICAgICAgIGRvd25sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZG93bmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRvd25sb2FkKCkge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsICdkb3BwaW9faG9tZS56aXAnKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIChlKSA9PiB7XG4gICAgICBjb25zdCB0aW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgIGNvbnN0IGxvYWRlZCA9IGUubG9hZGVkO1xuICAgICAgY29uc3QgdG90YWwgPSBlLnRvdGFsO1xuICAgICAgLy8gS0Ivc1xuICAgICAgY29uc3QgcmF0ZSA9IChsb2FkZWQgPj4gMTApIC8gKCh0aW1lIC0gc3RhcnRUaW1lKSAvIDEwMDApO1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gKHRvdGFsIC0gbG9hZGVkKSA+PiAxMDtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1RpbWUgPSBNYXRoLmZsb29yKHJlbWFpbmluZyAvIHJhdGUpO1xuICAgICAgY29uc3QgcmVtYWluaW5nTWludXRlcyA9IE1hdGguZmxvb3IocmVtYWluaW5nVGltZSAvIDYwKTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1NlY29uZHMgPSByZW1haW5pbmdUaW1lICUgNjA7XG4gICAgICBjb25zdCBwZXJjZW50ID0gKChsb2FkZWQgLyB0b3RhbCkgKiAxMDApfDA7XG4gICAgICBwcm9ncmVzc0JhclRleHQudGV4dChgRG93bmxvYWRpbmcgZG9wcGlvX2hvbWUuemlwIGF0ICR7cmF0ZS50b0ZpeGVkKDIpfSBLQi9zIFske2xvYWRlZCA+PiAxMH0gS0IgLyAke3RvdGFsID4+IDEwfSBLQl0gKCR7cmVtYWluaW5nTWludXRlc31tJHtyZW1haW5pbmdTZWNvbmRzfXMgcmVtYWluaW5nKWApO1xuICAgICAgcHJvZ3Jlc3NCYXIuYXR0cignYXJpYS12YWx1ZW5vdycsIHBlcmNlbnQpO1xuICAgICAgcHJvZ3Jlc3NCYXIuY3NzKCd3aWR0aCcsIGAke3BlcmNlbnR9JWApO1xuICAgIH0pO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGUpID0+IHtcbiAgICAgIGV4dHJhY3QoeGhyLnJlc3BvbnNlKTtcbiAgICB9KTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZSkgPT4ge1xuICAgICAgcHJvZ3Jlc3NCYXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmFkZENsYXNzKCdwcm9ncmVzcy1iYXItZGFuZ2VyJyk7XG4gICAgICBwcm9ncmVzc0JhclRleHQudGV4dChgRXJyb3IgZG93bmxvYWRpbmcgZG9wcGlvX2hvbWUuemlwOiAke2UuZXJyb3J9YCk7XG4gICAgfSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKGUpID0+IHtcbiAgICAgIHByb2dyZXNzQmFyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5hZGRDbGFzcygncHJvZ3Jlc3MtYmFyLWRhbmdlcicpO1xuICAgICAgcHJvZ3Jlc3NCYXJUZXh0LnRleHQoYEVycm9yIGRvd25sb2FkaW5nIGRvcHBpb19ob21lLnppcDogVHJhbnNmZXIgYWJvcnRlZC5gKTtcbiAgICB9KTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0cmFjdChkYXRhOiBBcnJheUJ1ZmZlcik6IHZvaWQge1xuICAgIGNvbnN0IG1mcyA9IG5ldyBCcm93c2VyRlMuRmlsZVN5c3RlbS5Nb3VudGFibGVGaWxlU3lzdGVtKCk7XG4gICAgbWZzLm1vdW50KCcvcGVyc2lzdCcsIHBlcnNpc3RlbnRGcyk7XG4gICAgbWZzLm1vdW50KCcvZG9wcGlvX2hvbWUnLCBuZXcgQnJvd3NlckZTLkZpbGVTeXN0ZW0uWmlwRlMobmV3IEJ1ZmZlcihkYXRhKSkpO1xuICAgIEJyb3dzZXJGUy5pbml0aWFsaXplKG1mcyk7XG4gICAgcmVjdXJzaXZlQ29weSgnL2RvcHBpb19ob21lJywgJy9wZXJzaXN0JywgKHNyYywgZGVzdCwgc2l6ZSkgPT4ge1xuICAgICAgcHJvZ3Jlc3NCYXJUZXh0LnRleHQoYEV4dHJhY3RpbmcgJHtkZXN0LnNsaWNlKGRlc3QuaW5kZXhPZignLycsIDEpICsgMSl9Li4uYCk7XG4gICAgfSwgKGVycj8pID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJvZ3Jlc3NCYXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmFkZENsYXNzKCdwcm9ncmVzcy1iYXItZGFuZ2VyJyk7XG4gICAgICAgIHByb2dyZXNzQmFyVGV4dC50ZXh0KGBFcnJvciBleHRyYWN0aW5nIGRvcHBpb19ob21lLnppcDogJHtlcnJ9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgbGV0IHBlcnNpc3RlbnRGczogYW55ID0gbnVsbDtcbiAgY29uc3RydWN0UGVyc2lzdGFudEZzKChfZnMpID0+IHtcbiAgICBwZXJzaXN0ZW50RnMgPSBfZnM7XG4gICAgQnJvd3NlckZTLmluaXRpYWxpemUoX2ZzKTtcbiAgICBjb25zdCBmcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdmcycpO1xuICAgIGZzLnJlYWRkaXIoJy8nLCAoZXJyLCBmaWxlcykgPT4ge1xuICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gQWRkIGNsZWFyIGRlbW8gYnV0dG9uLlxuICAgICAgICAkKCcjY2xlYXItZGVtby1idXR0b24nKS5mYWRlSW4oJ2Zhc3QnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgJCgnI2NsZWFyLWRlbW8tYnV0dG9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICBjb25zdCByZXNldFN0YXR1cyA9ICQoJyNyZXNldC1zdGF0dXMnKTtcbiAgICAgICAgICByZWN1cnNpdmVSbSgnLycsIChwKSA9PiB7XG4gICAgICAgICAgICByZXNldFN0YXR1cy50ZXh0KGBEZWxldGluZyBjYWNoZWQgZmlsZSAke3B9Li4uYCk7XG4gICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYoZXJyKSBjb25zb2xlLmVycm9yKGBFcnJvciByZW1vdmluZzogJHtlcnJ9YCk7XG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkKCcjZGVtb19idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnI2J1dHRvbi1hbmQtd2FybmluZycpLmZhZGVPdXQoJ2Zhc3QnLCAoKSA9PiB7XG4gICAgICAkKCcjcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lcicpLmZhZGVJbignZmFzdCcsICgpID0+IHtcbiAgICAgICAgaWYgKCFwZXJzaXN0ZW50RnMpIHtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzc0JhclRleHQgPSAkKCcucHJvZ3Jlc3MtYmFyIHNwYW4nKTtcbiAgICAgICAgICBwcm9ncmVzc0JhclRleHQudGV4dChgV2FpdGluZyBmb3IgeW91IHRvIGdyYW50IG9yIGRlbnkgdXMgYWNjZXNzIHRvIGJyb3dzZXIgc3RvcmFnZS4uLi5gKTtcbiAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZXJzaXN0ZW50RnMpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgIHN0ZXAyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGVwMigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RlcDIoKSB7XG4gICAgICAgICAgc2V0dXBKYXZhSG9tZShwZXJzaXN0ZW50RnMsICgpID0+IHtcbiAgICAgICAgICAgIHNldHVwRmlsZVN5c3RlbShwZXJzaXN0ZW50RnMsICgpID0+IHtcbiAgICAgICAgICAgICAgJCgnI3Byb2dyZXNzLWJhci1jb250YWluZXInKS5mYWRlT3V0KCdmYXN0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0RGVtbygpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/app.ts\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = BrowserFS;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"BrowserFS\"\n ** module id = 1\n ** module chunks = 0\n **/","\"use strict\";\nvar _ = require('underscore');\nvar async = require('async');\nvar BrowserFS = require('browserfs');\nvar path = BrowserFS.BFSRequire('path'), fs = BrowserFS.BFSRequire('fs');\nfunction filterSubstring(prefix, lst) {\n    return lst.filter(function (x) { return x.substr(0, prefix.length) == prefix; });\n}\nexports.filterSubstring = filterSubstring;\n/**\n * Asynchronous method for processing a Unix glob.\n */\nfunction processGlob(glob, cb) {\n    var globNormalized = path.normalize(glob), pathComps = globNormalized.split('/'), \n    // We bootstrap the algorithm with '/' or '.', depending on whether or not\n    // the glob is a relative or absolute path.\n    expanded = [glob.charAt(0) === '/' ? '/' : '.'];\n    /**\n     * Constructs a regular expression for a given glob pattern.\n     */\n    function constructRegExp(pattern) {\n        return new RegExp(\"^\" + pattern.replace(/\\./g, \"\\\\.\").split('*').join('[^/]*') + \"$\");\n    }\n    // Process each component of the path separately.\n    async.eachSeries(pathComps, function (path_comp, next_item) {\n        var r;\n        if (path_comp === \"\") {\n            // This condition occurs for:\n            // * The first component in an absolute directory.\n            // * The last component in a path that ends in '/' (normalize doesn't remove it).\n            return next_item();\n        }\n        r = constructRegExp(path_comp);\n        expandDirs(expanded, r, function (_expanded) {\n            expanded = _expanded;\n            next_item();\n        });\n    }, function (e) {\n        cb(expanded);\n    });\n}\nexports.processGlob = processGlob;\n/**\n * Calls `readdir` on each directory, and ignores any files in `dirs`.\n * Tests the result against the regular expression.\n * Passes back any directories that pass the test.\n */\nfunction expandDirs(dirs, r, cb) {\n    var expanded = [];\n    async.each(dirs, function (dir, next_item) {\n        fs.readdir(dir, function (err, contents) {\n            var i;\n            if (err == null) {\n                for (i = 0; i < contents.length; i++) {\n                    if (r.test(contents[i])) {\n                        // Note: We don't 'resolve' because we don't want the path to become\n                        // absolute if it was relative in the first place.\n                        expanded.push(path.join(dir, contents[i]));\n                    }\n                }\n            }\n            next_item();\n        });\n    }, function () {\n        cb(expanded);\n    });\n}\nfunction fileNameCompletions(cmd, args, filter, cb) {\n    var toComplete = _.last(args);\n    var lastSlash = toComplete.lastIndexOf('/');\n    var dirPfx, searchPfx;\n    if (lastSlash >= 0) {\n        dirPfx = toComplete.slice(0, lastSlash + 1);\n        searchPfx = toComplete.slice(lastSlash + 1);\n    }\n    else {\n        dirPfx = '';\n        searchPfx = toComplete;\n    }\n    var dirPath = (dirPfx == '') ? '.' : path.resolve(dirPfx);\n    fs.readdir(dirPath, function (err, dirList) {\n        var completions = [];\n        if (err != null) {\n            return cb(completions);\n        }\n        dirList = filterSubstring(searchPfx, dirList);\n        async.each(dirList, \n        // runs on each element\n        function (item, next) {\n            fs.stat(path.resolve(dirPfx + item), function (err, stats) {\n                if (err != null) {\n                }\n                else if (stats.isDirectory() && filter(item, true)) {\n                    completions.push(dirPfx + item + '/');\n                }\n                else if (filter(item, false)) {\n                    completions.push(dirPfx + item);\n                }\n                next();\n            });\n        }, \n        // runs at the end of processing\n        function () { return cb(completions); });\n    });\n}\nexports.fileNameCompletions = fileNameCompletions;\n// use the awesome greedy regex hack, from http://stackoverflow.com/a/1922153/10601\nfunction longestCommmonPrefix(lst) {\n    return lst.join(' ').match(/^(\\S*)\\S*(?: \\1\\S*)*$/i)[1];\n}\nexports.longestCommmonPrefix = longestCommmonPrefix;\nfunction columnize(str_list, line_length) {\n    var max_len = 0;\n    for (var i = 0; i < str_list.length; i++) {\n        var len = str_list[i].length;\n        if (len > max_len) {\n            max_len = len;\n        }\n    }\n    var num_cols = (line_length / (max_len + 1)) | 0;\n    var col_size = Math.ceil(str_list.length / num_cols);\n    var column_list = [];\n    for (var j = 1; j <= num_cols; j++) {\n        column_list.push(str_list.splice(0, col_size));\n    }\n    function make_row(i) {\n        return column_list.filter(function (col) { return col[i] != null; })\n            .map(function (col) { return padRight(col[i], max_len + 1); })\n            .join('');\n    }\n    var row_list = [];\n    for (var i = 0; i < col_size; i++) {\n        row_list.push(make_row(i));\n    }\n    return row_list.join('\\n');\n}\nexports.columnize = columnize;\nfunction padRight(str, len) {\n    return str + Array(len - str.length + 1).join(' ');\n}\nexports.padRight = padRight;\nfunction recursiveRm(dir, progressCb, cb) {\n    function processDir(folder, cb) {\n        fs.readdir(folder, function (err, items) {\n            if (err) {\n                return cb(err);\n            }\n            async.each(items, function (item, next) {\n                var p = path.resolve(folder, item);\n                fs.stat(p, function (e, stat) {\n                    if (e) {\n                        next(e);\n                    }\n                    else {\n                        if (stat.isDirectory()) {\n                            processDir(p, function (e) {\n                                if (!e) {\n                                    fs.rmdir(p, next);\n                                }\n                                else {\n                                    next(e);\n                                }\n                            });\n                            ;\n                        }\n                        else {\n                            progressCb(p);\n                            fs.unlink(p, next);\n                        }\n                    }\n                });\n            }, cb);\n        });\n    }\n    processDir(dir, cb);\n}\nexports.recursiveRm = recursiveRm;\nfunction recursiveCopy(srcFolder, destFolder, progressCb, cb) {\n    function processDir(srcFolder, destFolder, cb) {\n        fs.mkdir(destFolder, function (err) {\n            // Ignore EEXIST.\n            if (err && err.code !== 'EEXIST') {\n                cb(err);\n            }\n            else {\n                fs.readdir(srcFolder, function (e, items) {\n                    if (e) {\n                        cb(e);\n                    }\n                    else {\n                        async.each(items, function (item, next) {\n                            var srcItem = path.resolve(srcFolder, item), destItem = path.resolve(destFolder, item);\n                            fs.stat(srcItem, function (e, stat) {\n                                if (e) {\n                                    cb(e);\n                                }\n                                else {\n                                    if (stat.isDirectory()) {\n                                        processDir(srcItem, destItem, next);\n                                    }\n                                    else {\n                                        progressCb(srcItem, destItem, stat);\n                                        copyFile(srcItem, destItem, next);\n                                    }\n                                }\n                            });\n                        }, cb);\n                    }\n                });\n            }\n        });\n    }\n    processDir(srcFolder, destFolder, cb);\n}\nexports.recursiveCopy = recursiveCopy;\nfunction copyFile(srcFile, destFile, cb) {\n    fs.readFile(srcFile, function (e, data) {\n        if (e) {\n            cb(e);\n        }\n        else {\n            fs.writeFile(destFile, data, cb);\n        }\n    });\n}\nexports.copyFile = copyFile;\n// Adapted from http://stackoverflow.com/a/4770179\n// left: 37, up: 38, right: 39, down: 40,\n// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\nvar keys = { 37: 1, 38: 1, 39: 1, 40: 1, 32: 1, 33: 1, 34: 1, 35: 1, 36: 1 };\nfunction preventDefault(e) {\n    e = e || window.event;\n    if (e.preventDefault) {\n        e.preventDefault();\n    }\n    e.returnValue = false;\n}\nfunction preventDefaultForScrollKeys(e) {\n    if (keys[e.keyCode]) {\n        preventDefault(e);\n        return false;\n    }\n}\nfunction disableScroll(element) {\n    if (element.addEventListener) {\n        element.addEventListener('DOMMouseScroll', preventDefault, false);\n    }\n    //  element.onwheel = preventDefault; // modern standard\n    //  element.onmousewheel = preventDefault; // older browsers, IE\n    // element.ontouchmove  = preventDefault; // mobile\n    // element.onkeydown  = preventDefaultForScrollKeys;\n}\nexports.disableScroll = disableScroll;\nfunction enableScroll(element) {\n    if (element.removeEventListener) {\n        element.removeEventListener('DOMMouseScroll', preventDefault, false);\n    }\n    element.onmousewheel = null;\n    element.onwheel = null;\n    element.ontouchmove = null;\n    // element.onkeydown = null;\n}\nexports.enableScroll = enableScroll;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLElBQU8sQ0FBQyxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBQ2pDLElBQU8sS0FBSyxXQUFXLE9BQU8sQ0FBQyxDQUFDO0FBRWhDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBRXhDLElBQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQ3ZDLEVBQUUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRWxDLHlCQUFnQyxNQUFjLEVBQUUsR0FBYTtJQUMzRCxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUFNLEVBQXBDLENBQW9DLENBQUMsQ0FBQztBQUNqRSxDQUFDO0FBRmUsdUJBQWUsa0JBRTlCLENBQUE7QUFFRDs7R0FFRztBQUNILHFCQUE0QixJQUFZLEVBQUUsRUFBaUM7SUFDekUsSUFBSSxjQUFjLEdBQVcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFDN0MsU0FBUyxHQUFhLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQy9DLDBFQUEwRTtJQUMxRSwyQ0FBMkM7SUFDM0MsUUFBUSxHQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBRTlEOztPQUVHO0lBQ0gseUJBQXlCLE9BQWU7UUFDdEMsTUFBTSxDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxD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QkFBWSxlQVEzQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9mcyA9IHJlcXVpcmUoJ2ZzJyk7XG5pbXBvcnQgU3RhdHMgPSBfZnMuU3RhdHM7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmltcG9ydCBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJyk7XG5cbmltcG9ydCBCcm93c2VyRlMgPSByZXF1aXJlKCdicm93c2VyZnMnKTtcblxuY29uc3QgcGF0aCA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdwYXRoJyksXG4gIGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJTdWJzdHJpbmcocHJlZml4OiBzdHJpbmcsIGxzdDogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG4gIHJldHVybiBsc3QuZmlsdGVyKCh4KSA9PiB4LnN1YnN0cigwLCBwcmVmaXgubGVuZ3RoKSA9PSBwcmVmaXgpO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91cyBtZXRob2QgZm9yIHByb2Nlc3NpbmcgYSBVbml4IGdsb2IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzR2xvYihnbG9iOiBzdHJpbmcsIGNiOiAoZXhwYW5zaW9uOiBzdHJpbmdbXSkgPT4gdm9pZCk6IHZvaWQge1xuICB2YXIgZ2xvYk5vcm1hbGl6ZWQ6IHN0cmluZyA9IHBhdGgubm9ybWFsaXplKGdsb2IpLFxuICAgICAgcGF0aENvbXBzOiBzdHJpbmdbXSA9IGdsb2JOb3JtYWxpemVkLnNwbGl0KCcvJyksXG4gICAgICAvLyBXZSBib290c3RyYXAgdGhlIGFsZ29yaXRobSB3aXRoICcvJyBvciAnLicsIGRlcGVuZGluZyBvbiB3aGV0aGVyIG9yIG5vdFxuICAgICAgLy8gdGhlIGdsb2IgaXMgYSByZWxhdGl2ZSBvciBhYnNvbHV0ZSBwYXRoLlxuICAgICAgZXhwYW5kZWQ6IHN0cmluZ1tdID0gW2dsb2IuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnLiddO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgcmVndWxhciBleHByZXNzaW9uIGZvciBhIGdpdmVuIGdsb2IgcGF0dGVybi5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbnN0cnVjdFJlZ0V4cChwYXR0ZXJuOiBzdHJpbmcpOiBSZWdFeHAge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiXlwiICsgcGF0dGVybi5yZXBsYWNlKC9cXC4vZywgXCJcXFxcLlwiKS5zcGxpdCgnKicpLmpvaW4oJ1teL10qJykgKyBcIiRcIik7XG4gIH1cblxuICAvLyBQcm9jZXNzIGVhY2ggY29tcG9uZW50IG9mIHRoZSBwYXRoIHNlcGFyYXRlbHkuXG4gIGFzeW5jLmVhY2hTZXJpZXMocGF0aENvbXBzLCBmdW5jdGlvbihwYXRoX2NvbXA6IHN0cmluZywgbmV4dF9pdGVtOiAoZT86IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHZhciByOiBSZWdFeHA7XG4gICAgaWYgKHBhdGhfY29tcCA9PT0gXCJcIikge1xuICAgICAgLy8gVGhpcyBjb25kaXRpb24gb2NjdXJzIGZvcjpcbiAgICAgIC8vICogVGhlIGZpcnN0IGNvbXBvbmVudCBpbiBhbiBhYnNvbHV0ZSBkaXJlY3RvcnkuXG4gICAgICAvLyAqIFRoZSBsYXN0IGNvbXBvbmVudCBpbiBhIHBhdGggdGhhdCBlbmRzIGluICcvJyAobm9ybWFsaXplIGRvZXNuJ3QgcmVtb3ZlIGl0KS5cbiAgICAgIHJldHVybiBuZXh0X2l0ZW0oKTtcbiAgICB9XG4gICAgciA9IGNvbnN0cnVjdFJlZ0V4cChwYXRoX2NvbXApO1xuICAgIGV4cGFuZERpcnMoZXhwYW5kZWQsIHIsIGZ1bmN0aW9uKF9leHBhbmRlZDogc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgIGV4cGFuZGVkID0gX2V4cGFuZGVkO1xuICAgICAgbmV4dF9pdGVtKCk7XG4gICAgfSk7XG4gIH0sIChlPzogYW55KSA9PiB7XG4gICAgY2IoZXhwYW5kZWQpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxscyBgcmVhZGRpcmAgb24gZWFjaCBkaXJlY3RvcnksIGFuZCBpZ25vcmVzIGFueSBmaWxlcyBpbiBgZGlyc2AuXG4gKiBUZXN0cyB0aGUgcmVzdWx0IGFnYWluc3QgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIFBhc3NlcyBiYWNrIGFueSBkaXJlY3RvcmllcyB0aGF0IHBhc3MgdGhlIHRlc3QuXG4gKi9cbmZ1bmN0aW9uIGV4cGFuZERpcnMoZGlyczogc3RyaW5nW10sIHI6IFJlZ0V4cCwgY2I6IChleHBhbnNpb246IHN0cmluZ1tdKSA9PiB2b2lkKTogdm9pZCB7XG4gIHZhciBleHBhbmRlZDogc3RyaW5nW10gPSBbXTtcbiAgYXN5bmMuZWFjaChkaXJzLCAoZGlyOiBzdHJpbmcsIG5leHRfaXRlbTogKCkgPT4gdm9pZCk6IHZvaWQgPT4ge1xuICAgIGZzLnJlYWRkaXIoZGlyLCAoZXJyOiBhbnksIGNvbnRlbnRzPzogc3RyaW5nW10pOiB2b2lkID0+IHtcbiAgICAgIHZhciBpOiBudW1iZXI7XG4gICAgICBpZiAoZXJyID09IG51bGwpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHIudGVzdChjb250ZW50c1tpXSkpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IFdlIGRvbid0ICdyZXNvbHZlJyBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdGhlIHBhdGggdG8gYmVjb21lXG4gICAgICAgICAgICAvLyBhYnNvbHV0ZSBpZiBpdCB3YXMgcmVsYXRpdmUgaW4gdGhlIGZpcnN0IHBsYWNlLlxuICAgICAgICAgICAgZXhwYW5kZWQucHVzaChwYXRoLmpvaW4oZGlyLCBjb250ZW50c1tpXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dF9pdGVtKCk7XG4gICAgfSk7XG4gIH0sICgpID0+IHtcbiAgICBjYihleHBhbmRlZCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZU5hbWVDb21wbGV0aW9ucyhjbWQ6IHN0cmluZywgYXJnczogc3RyaW5nW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcjogKGl0ZW06IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pPT5ib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYjogKGM6IHN0cmluZ1tdKT0+dm9pZCk6IHZvaWQge1xuICB2YXIgdG9Db21wbGV0ZSA9IF8ubGFzdChhcmdzKTtcbiAgdmFyIGxhc3RTbGFzaCA9IHRvQ29tcGxldGUubGFzdEluZGV4T2YoJy8nKTtcbiAgdmFyIGRpclBmeDogc3RyaW5nLCBzZWFyY2hQZng6IHN0cmluZztcbiAgaWYgKGxhc3RTbGFzaCA+PSAwKSB7XG4gICAgZGlyUGZ4ID0gdG9Db21wbGV0ZS5zbGljZSgwLCBsYXN0U2xhc2ggKyAxKTtcbiAgICBzZWFyY2hQZnggPSB0b0NvbXBsZXRlLnNsaWNlKGxhc3RTbGFzaCArIDEpO1xuICB9IGVsc2Uge1xuICAgIGRpclBmeCA9ICcnO1xuICAgIHNlYXJjaFBmeCA9IHRvQ29tcGxldGU7XG4gIH1cbiAgdmFyIGRpclBhdGggPSAoZGlyUGZ4ID09ICcnKSA/ICcuJyA6IHBhdGgucmVzb2x2ZShkaXJQZngpO1xuICBmcy5yZWFkZGlyKGRpclBhdGgsIGZ1bmN0aW9uKGVycjogRXJyb3IsIGRpckxpc3Q6IHN0cmluZ1tdKXtcbiAgICB2YXIgY29tcGxldGlvbnM6IHN0cmluZ1tdID0gW107XG4gICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gY2IoY29tcGxldGlvbnMpXG4gICAgfVxuICAgIGRpckxpc3QgPSBmaWx0ZXJTdWJzdHJpbmcoc2VhcmNoUGZ4LCBkaXJMaXN0KTtcbiAgICBhc3luYy5lYWNoKGRpckxpc3QsXG4gICAgICAvLyBydW5zIG9uIGVhY2ggZWxlbWVudFxuICAgICAgKGl0ZW06IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBmcy5zdGF0KHBhdGgucmVzb2x2ZShkaXJQZnggKyBpdGVtKSwgZnVuY3Rpb24oZXJyOiBFcnJvciwgc3RhdHM6IFN0YXRzKSB7XG4gICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSAmJiBmaWx0ZXIoaXRlbSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIGNvbXBsZXRpb25zLnB1c2goZGlyUGZ4ICsgaXRlbSArICcvJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXIoaXRlbSwgZmFsc2UpKSB7XG4gICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKGRpclBmeCArIGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIC8vIHJ1bnMgYXQgdGhlIGVuZCBvZiBwcm9jZXNzaW5nXG4gICAgICAoKSA9PiBjYihjb21wbGV0aW9ucykpO1xuICB9KTtcbn1cblxuLy8gdXNlIHRoZSBhd2Vzb21lIGdyZWVkeSByZWdleCBoYWNrLCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE5MjIxNTMvMTA2MDFcbmV4cG9ydCBmdW5jdGlvbiBsb25nZXN0Q29tbW1vblByZWZpeChsc3Q6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgcmV0dXJuIGxzdC5qb2luKCcgJykubWF0Y2goL14oXFxTKilcXFMqKD86IFxcMVxcUyopKiQvaSlbMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2x1bW5pemUoc3RyX2xpc3Q6IHN0cmluZ1tdLCBsaW5lX2xlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgdmFyIG1heF9sZW4gPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cl9saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxlbiA9IHN0cl9saXN0W2ldLmxlbmd0aDtcbiAgICBpZiAobGVuID4gbWF4X2xlbikge1xuICAgICAgbWF4X2xlbiA9IGxlbjtcbiAgICB9XG4gIH1cbiAgdmFyIG51bV9jb2xzID0gKGxpbmVfbGVuZ3RoIC8gKG1heF9sZW4gKyAxKSkgfCAwO1xuICB2YXIgY29sX3NpemUgPSBNYXRoLmNlaWwoc3RyX2xpc3QubGVuZ3RoIC8gbnVtX2NvbHMpO1xuICB2YXIgY29sdW1uX2xpc3Q6IHN0cmluZ1tdW10gPSBbXTtcbiAgZm9yICh2YXIgaiA9IDE7IGogPD0gbnVtX2NvbHM7IGorKykge1xuICAgIGNvbHVtbl9saXN0LnB1c2goc3RyX2xpc3Quc3BsaWNlKDAsIGNvbF9zaXplKSk7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZV9yb3coaTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gY29sdW1uX2xpc3QuZmlsdGVyKChjb2wpPT5jb2xbaV0hPW51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgLm1hcCgoY29sKT0+cGFkUmlnaHQoY29sW2ldLCBtYXhfbGVuICsgMSkpXG4gICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpO1xuICB9XG4gIHZhciByb3dfbGlzdDogc3RyaW5nW10gPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xfc2l6ZTsgaSsrKSB7XG4gICAgcm93X2xpc3QucHVzaChtYWtlX3JvdyhpKSk7XG4gIH1cbiAgcmV0dXJuIHJvd19saXN0LmpvaW4oJ1xcbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFkUmlnaHQoc3RyOiBzdHJpbmcsIGxlbjogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ciArIEFycmF5KGxlbiAtIHN0ci5sZW5ndGggKyAxKS5qb2luKCcgJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWN1cnNpdmVSbShkaXI6IHN0cmluZywgcHJvZ3Jlc3NDYjogKGZpbGU6IHN0cmluZykgPT4gdm9pZCwgY2I6IChlcnI/OiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgZnVuY3Rpb24gcHJvY2Vzc0Rpcihmb2xkZXI6IHN0cmluZywgY2I6IChlcnI/OiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBmcy5yZWFkZGlyKGZvbGRlciwgKGVyciwgaXRlbXMpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG4gICAgICBhc3luYy5lYWNoKGl0ZW1zLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoZXJyPzogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgIGNvbnN0IHAgPSBwYXRoLnJlc29sdmUoZm9sZGVyLCBpdGVtKTtcbiAgICAgICAgZnMuc3RhdChwLCAoZSwgc3RhdCkgPT4ge1xuICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBuZXh0KGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NEaXIocCwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUpIHtcbiAgICAgICAgICAgICAgICAgIGZzLnJtZGlyKHAsIG5leHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuZXh0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3NDYihwKTtcbiAgICAgICAgICAgICAgZnMudW5saW5rKHAsIG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCBjYik7XG4gICAgfSk7XG4gIH1cbiAgcHJvY2Vzc0RpcihkaXIsIGNiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY3Vyc2l2ZUNvcHkoc3JjRm9sZGVyOiBzdHJpbmcsIGRlc3RGb2xkZXI6IHN0cmluZywgcHJvZ3Jlc3NDYjogKHNyYzogc3RyaW5nLCBkZXN0OiBzdHJpbmcsIHNpemU6IFN0YXRzKSA9PiB2b2lkLCBjYjogKGVycj86IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICBmdW5jdGlvbiBwcm9jZXNzRGlyKHNyY0ZvbGRlcjogc3RyaW5nLCBkZXN0Rm9sZGVyOiBzdHJpbmcsIGNiOiAoZXJyPzogYW55KSA9PiB2b2lkKSB7XG4gICAgZnMubWtkaXIoZGVzdEZvbGRlciwgKGVycj86IE5vZGVKUy5FcnJub0V4Y2VwdGlvbikgPT4ge1xuICAgICAgLy8gSWdub3JlIEVFWElTVC5cbiAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09ICdFRVhJU1QnKSB7XG4gICAgICAgIGNiKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcy5yZWFkZGlyKHNyY0ZvbGRlciwgKGU6IE5vZGVKUy5FcnJub0V4Y2VwdGlvbiwgaXRlbXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGNiKGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc3luYy5lYWNoKGl0ZW1zLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoZXJyPzogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgIHZhciBzcmNJdGVtID0gcGF0aC5yZXNvbHZlKHNyY0ZvbGRlciwgaXRlbSksXG4gICAgICAgICAgICAgICAgZGVzdEl0ZW0gPSBwYXRoLnJlc29sdmUoZGVzdEZvbGRlciwgaXRlbSk7XG4gICAgICAgICAgICAgIGZzLnN0YXQoc3JjSXRlbSwgKGU6IE5vZGVKUy5FcnJub0V4Y2VwdGlvbiwgc3RhdD86IFN0YXRzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgIGNiKGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEaXIoc3JjSXRlbSwgZGVzdEl0ZW0sIG5leHQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYihzcmNJdGVtLCBkZXN0SXRlbSwgc3RhdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlGaWxlKHNyY0l0ZW0sIGRlc3RJdGVtLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgY2IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcm9jZXNzRGlyKHNyY0ZvbGRlciwgZGVzdEZvbGRlciwgY2IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29weUZpbGUoc3JjRmlsZTogc3RyaW5nLCBkZXN0RmlsZTogc3RyaW5nLCBjYjogKGVycj86IGFueSkgPT4gdm9pZCkge1xuICBmcy5yZWFkRmlsZShzcmNGaWxlLCAoZTogYW55LCBkYXRhPzogQnVmZmVyKSA9PiB7XG4gICAgaWYgKGUpIHtcbiAgICAgIGNiKGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcy53cml0ZUZpbGUoZGVzdEZpbGUsIGRhdGEsIGNiKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDc3MDE3OVxuLy8gbGVmdDogMzcsIHVwOiAzOCwgcmlnaHQ6IDM5LCBkb3duOiA0MCxcbi8vIHNwYWNlYmFyOiAzMiwgcGFnZXVwOiAzMywgcGFnZWRvd246IDM0LCBlbmQ6IDM1LCBob21lOiAzNlxuY29uc3Qga2V5czoge1trZXk6IG51bWJlcl06IG51bWJlcn0gPSB7Mzc6IDEsIDM4OiAxLCAzOTogMSwgNDA6IDEsIDMyOiAxLCAzMzogMSwgMzQ6IDEsIDM1OiAxLCAzNjogMX07XG5cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGU6IEV2ZW50KTogdm9pZCB7XG4gIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXMoZTogS2V5Ym9hcmRFdmVudCk6IGJvb2xlYW4gfCB2b2lkIHtcbiAgaWYgKGtleXNbZS5rZXlDb2RlXSkge1xuICAgIHByZXZlbnREZWZhdWx0KGUpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVNjcm9sbChlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gIH1cbi8vICBlbGVtZW50Lm9ud2hlZWwgPSBwcmV2ZW50RGVmYXVsdDsgLy8gbW9kZXJuIHN0YW5kYXJkXG4vLyAgZWxlbWVudC5vbm1vdXNld2hlZWwgPSBwcmV2ZW50RGVmYXVsdDsgLy8gb2xkZXIgYnJvd3NlcnMsIElFXG4vLyBlbGVtZW50Lm9udG91Y2htb3ZlICA9IHByZXZlbnREZWZhdWx0OyAvLyBtb2JpbGVcbiAgLy8gZWxlbWVudC5vbmtleWRvd24gID0gcHJldmVudERlZmF1bHRGb3JTY3JvbGxLZXlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlU2Nyb2xsKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgfVxuICBlbGVtZW50Lm9ubW91c2V3aGVlbCA9IG51bGw7XG4gIGVsZW1lbnQub253aGVlbCA9IG51bGw7XG4gIGVsZW1lbnQub250b3VjaG1vdmUgPSBudWxsO1xuICAvLyBlbGVtZW50Lm9ua2V5ZG93biA9IG51bGw7XG59XG4iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/util.ts\n ** module id = 2\n ** module chunks = 0\n **/","//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/underscore/underscore.js\n ** module id = 3\n ** module chunks = 0\n **/","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/async/lib/async.js\n ** module id = 4\n ** module chunks = 0\n **/","\"use strict\";\nvar async = require('async');\nvar util_1 = require('./util');\nvar _ = require('underscore');\nvar BrowserFS = require('browserfs');\nvar Terminal = require('xterm');\nvar process = BrowserFS.BFSRequire('process');\nvar Buffer = BrowserFS.BFSRequire('buffer').Buffer;\nvar fs = BrowserFS.BFSRequire('fs');\nglobal.globalTerm = null;\nvar ControlCodes = (function () {\n    function ControlCodes() {\n    }\n    ControlCodes.CURSOR_POSITION = function (term, col, row) {\n        return \"\\u001B[\" + (row + 1 - term.ybase) + \";\" + (col + 1) + \"H\";\n    };\n    ControlCodes.SAVE_CURSOR = \"\\x1b7\";\n    ControlCodes.RESTORE_CURSOR = \"\\x1b8\";\n    ControlCodes.UP_ARROW = \"\\x1b[A\";\n    ControlCodes.RIGHT_ARROW = \"\\x1b[C\";\n    ControlCodes.LEFT_ARROW = \"\\x1b[D\";\n    ControlCodes.SHOW_CURSOR = \"\\x1b[?25h\";\n    return ControlCodes;\n}());\n/**\n * Runs a shell on an xterm.js terminal.\n */\nvar Shell = (function () {\n    function Shell(shellElement, commands, loadingText, shellHistoryFile) {\n        var _this = this;\n        this._terminal = null;\n        this._commands = {};\n        this._activeCommand = null;\n        // Is the shell enabled, or is a program running?\n        this._shellEnabled = false;\n        this._psX = 0;\n        this._psY = 0;\n        this._endX = 0;\n        this._endY = 0;\n        this._history = [];\n        this._historyOffset = 0;\n        this._disableInput = true;\n        this._savedCommand = \"\";\n        this._bufferedInput = \"\";\n        this._shellHistoryFile = shellHistoryFile;\n        commands.forEach(function (c) {\n            _this._commands[c.getCommand()] = c;\n        });\n        var rows = 25;\n        var term = this._terminal = globalTerm = new Terminal({\n            cols: 80,\n            rows: rows,\n            cancelEvents: true\n        });\n        term.open(shellElement);\n        term.cursorHidden = true;\n        term.on('key', function (key, e) {\n            if (_this._disableInput) {\n                return;\n            }\n            var keyCode = e.keyCode;\n            var keyProcessed = false;\n            if (e.ctrlKey) {\n                switch (keyCode) {\n                    case 65 /* A */:\n                        // move cursor to start\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._moveToStart();\n                        }\n                        break;\n                    case 67 /* C */:\n                        // Special: Kill any active programs. Otherwise, ignore.\n                        keyProcessed = true;\n                        _this.killProgram();\n                        break;\n                    case 68 /* D */:\n                        // forward delete\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._forwardDelete();\n                        }\n                        break;\n                    case 69 /* E */:\n                        // move to end\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._moveToEnd();\n                        }\n                        break;\n                    case 78 /* N */:\n                        // next history\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._nextHistory();\n                        }\n                        break;\n                    case 80 /* P */:\n                        // prev history\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._prevHistory();\n                        }\n                        break;\n                    case 66 /* B */:\n                        // back\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._cursorLeft();\n                        }\n                        break;\n                    case 70 /* F */:\n                        // forward\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._cursorRight();\n                        }\n                        break;\n                    case 75 /* K */:\n                        // delete until end\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            var toDelete = _this._getEnteredText().length - _this._getCursorOffset();\n                            for (var i = 0; i < toDelete; i++) {\n                                _this._forwardDelete();\n                            }\n                        }\n                        break;\n                    default:\n                        keyProcessed = false;\n                        break;\n                }\n            }\n            else if (e.altKey) {\n                switch (keyCode) {\n                    case 70 /* F */:\n                        // move to next word\n                        break;\n                    case 66 /* B */:\n                        // move to prev word\n                        break;\n                    case 68 /* D */:\n                        // delete next word\n                        break;\n                }\n            }\n            else {\n                switch (keyCode) {\n                    case 38 /* UP */:\n                        // prev history\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._prevHistory();\n                        }\n                        break;\n                    case 40 /* DOWN */:\n                        // next history\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._nextHistory();\n                        }\n                        break;\n                    case 37 /* LEFT */:\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._cursorLeft();\n                        }\n                        break;\n                    case 39 /* RIGHT */:\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._cursorRight();\n                        }\n                        break;\n                    case 8 /* BACKSPACE */:\n                        // delete character\n                        keyProcessed = true;\n                        _this.stdin('\\b');\n                        break;\n                    case 9 /* TAB */:\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._disableInput = true;\n                            var cmd = _this._getEnteredText();\n                            _this._tabComplete(cmd, _this._getArgs(cmd), function () {\n                                _this._disableInput = false;\n                            });\n                        }\n                        break;\n                    case 46 /* DELETE */:\n                        // forward delete\n                        // NOTE: Is also '.' on my Mac...\n                        if (_this._shellEnabled && e.type === \"keydown\") {\n                            keyProcessed = true;\n                            _this._forwardDelete();\n                        }\n                        break;\n                    case 35 /* END */:\n                        // move to end\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._moveToEnd();\n                        }\n                        break;\n                    case 36 /* HOME */:\n                        // Move to start\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            _this._moveToStart();\n                        }\n                        break;\n                    case 13 /* ENTER */:\n                        // run command.\n                        if (_this._shellEnabled) {\n                            keyProcessed = true;\n                            var cmd = _this._getEnteredText();\n                            _this.stdout(ControlCodes.CURSOR_POSITION(_this._terminal, _this._endX, _this._endY) + \"\\n\");\n                            _this._runCommand(cmd, _this._getArgs(cmd));\n                        }\n                        break;\n                }\n                if (!keyProcessed) {\n                    _this.stdin(key);\n                }\n            }\n        });\n        this._terminal;\n    }\n    /**\n     * Get the width of the terminal in characters.\n     */\n    Shell.prototype.cols = function () {\n        return this._terminal.cols;\n    };\n    Shell.prototype._cursorX = function () {\n        return this._terminal.x;\n    };\n    Shell.prototype._cursorY = function () {\n        return this._terminal.ybase + this._terminal.y;\n    };\n    /**\n     * Called once the loading phase has completed.\n     */\n    Shell.prototype.loadingCompleted = function (greeting) {\n        var _this = this;\n        fs.readFile(this._shellHistoryFile, function (err, data) {\n            if (!err) {\n                _this._history = data.toString().split('\\n');\n                _this._historyOffset = _this._history.length;\n            }\n            if (greeting[greeting.length - 1] !== '\\n') {\n                greeting += '\\n';\n            }\n            _this._disableInput = false;\n            _this.backspace(_this.cols());\n            _this.stdout(greeting);\n            _this.prompt();\n        });\n    };\n    Shell.prototype._cursorLeft = function () {\n        if (this._cursorX() === 0 && this._cursorY() > 0) {\n            // Move up one, to end of line.\n            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, this._terminal.cols - 1, this._cursorY() - 1));\n        }\n        else {\n            this.stdout(ControlCodes.LEFT_ARROW);\n        }\n    };\n    Shell.prototype._cursorRight = function () {\n        if (this._cursorX() === this._terminal.cols - 1 && this._endY > this._cursorY()) {\n            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, 0, this._cursorY() + 1));\n        }\n        else {\n            this.stdout(ControlCodes.RIGHT_ARROW);\n        }\n    };\n    Shell.prototype._prevHistory = function () {\n        if (this._history.length > 0 && this._historyOffset > 0) {\n            if (this._historyOffset === this._history.length) {\n                this._savedCommand = this._getEnteredText();\n            }\n            this._historyOffset--;\n            this._redrawPrompt(this._history[this._historyOffset]);\n        }\n    };\n    Shell.prototype._nextHistory = function () {\n        if (this._history.length > 0 && this._historyOffset < this._history.length) {\n            this._historyOffset++;\n            if (this._historyOffset === this._history.length) {\n                this._redrawPrompt(this._savedCommand);\n            }\n            else {\n                this._redrawPrompt(this._history[this._historyOffset]);\n            }\n        }\n    };\n    Shell.prototype._moveToStart = function () {\n        this.stdin(ControlCodes.CURSOR_POSITION(this._terminal, this._psX, this._psY));\n    };\n    Shell.prototype._moveToEnd = function () {\n        this.stdin(ControlCodes.CURSOR_POSITION(this._terminal, this._endX, this._endY));\n    };\n    Shell.prototype._forwardDelete = function () {\n        this._cursorRight();\n        this.stdin('\\b');\n    };\n    /**\n     * Get the cursor offset into the currently typed command.\n     */\n    Shell.prototype._getCursorOffset = function () {\n        var term = this._terminal;\n        var promptX = this._psX;\n        var promptY = this._psY;\n        var termWidth = term.cols;\n        var promptOffset = promptY * termWidth + promptX;\n        var cursorX = this._cursorX();\n        var cursorY = this._cursorY();\n        var cursorOffset = cursorY * termWidth + cursorX;\n        return cursorOffset - promptOffset;\n    };\n    /**\n     * Get the currently entered text after the prompt.\n     */\n    Shell.prototype._getEnteredText = function () {\n        var text = \"\";\n        var term = this._terminal;\n        var cols = term.cols;\n        var lines = term.lines;\n        var psY = this._psY;\n        var endY = this._endY;\n        var endX = this._endX;\n        for (var y = psY; y <= endY; y++) {\n            var row = lines[y];\n            for (var x = (y === psY ? this._psX : 0); x < (y === endY ? endX : row.length); x++) {\n                text += row[x][1];\n            }\n        }\n        return text;\n    };\n    Shell.prototype._updateEndLocation = function (delta) {\n        var cols = this._terminal.cols;\n        this._endX += delta;\n        if (this._endX > cols) {\n            var rows = Math.floor(this._endX / cols);\n            this._endX -= (cols * rows);\n            this._endY += rows;\n        }\n        else if (this._endX < 0) {\n            var rows = Math.ceil(Math.abs(this._endX) / cols);\n            this._endY -= rows;\n            this._endX += (cols * rows);\n        }\n    };\n    /**\n     * User-provided input to the program, translated into terminal text.\n     * @param isPrintable Is this a \"printable\" character?\n     */\n    Shell.prototype.stdin = function (key) {\n        if (this._shellEnabled) {\n            // xterm.js is always in insert mode. That's not what users expect.\n            if (key === '\\b') {\n                // Handle specially.\n                var command = this._getEnteredText(), cursorOffset = this._getCursorOffset();\n                if (cursorOffset > 0) {\n                    this._cursorLeft();\n                    // Extra space overwrites end character.\n                    this.stdout(\"\" + ControlCodes.SAVE_CURSOR + command.slice(cursorOffset) + \" \" + ControlCodes.RESTORE_CURSOR);\n                    this._updateEndLocation(-1);\n                }\n            }\n            else {\n                var suffix = null;\n                // Impact on the end of the line?\n                switch (key[0]) {\n                    // Ignore control codes.\n                    case '\\x07': // bell\n                    case '\\x1b': // \\e: escaped control codes.\n                    case '\\x0e': // shift out\n                    case '\\x0f':\n                        break;\n                    default:\n                        suffix = \"\" + ControlCodes.SAVE_CURSOR + this._getEnteredText().slice(this._getCursorOffset()) + ControlCodes.RESTORE_CURSOR;\n                        this._updateEndLocation(1);\n                        break;\n                }\n                // Have terminal process text.\n                this.stdout(key);\n                if (this._terminal.x === this._terminal.cols) {\n                    // XXX: Hackfix for xterm bug -- off by one.\n                    this._terminal.x--;\n                    this._cursorRight();\n                }\n                var yBefore = this._cursorY();\n                if (suffix) {\n                    this.stdout(suffix);\n                }\n                var yAfter = this._cursorY();\n                if (yAfter !== yBefore) {\n                    // XXX: Hackfix for end of line.\n                    this.stdout(ControlCodes.UP_ARROW);\n                }\n                // Update the prompt.\n                this._updatePrompt();\n            }\n        }\n        else {\n            // Echo the text. Strip control characters out. Buffer input.\n            if (key === '\\b') {\n                if (this._bufferedInput.length > 0) {\n                    this._cursorLeft();\n                    this.stdout(\" \");\n                    this._cursorLeft();\n                    this._bufferedInput = this._bufferedInput.slice(0, this._bufferedInput.length - 1);\n                }\n            }\n            else if (key === '\\r') {\n                this.stdout('\\r\\n');\n                this._bufferedInput += '\\n';\n                // Pass to program.\n                process.stdin.write(this._bufferedInput);\n                this._bufferedInput = \"\";\n            }\n            else if (key[0] !== '\\x1b') {\n                this._bufferedInput += key;\n                this.stdout(key);\n            }\n        }\n    };\n    Shell.prototype.stdout = function (text) {\n        var term = this._terminal;\n        term.write(text.replace(/\\n/g, '\\r\\n'));\n    };\n    Shell.prototype.stderr = function (text) {\n        // Programs use stderr for weird things. Red text looks out of place.\n        // const term = this._terminal;\n        // Print red, then switch back to the default color.\n        // term.write(`\\x1b[31m${text.replace(/\\n/g, '\\r\\n')}\\x1b[0m`);\n        this.stdout(text);\n    };\n    Shell.prototype._getArgs = function (command) {\n        return this._getEnteredText().trim().split(/\\s+/g);\n    };\n    Shell.prototype._runCommand = function (raw, args) {\n        var _this = this;\n        this._bufferedInput = \"\";\n        this._shellEnabled = false;\n        this._historyOffset = this._history.push(raw);\n        fs.writeFile(this._shellHistoryFile, new Buffer(this._history.join(\"\\n\")), function () { });\n        if (args[0] === '') {\n            this.prompt();\n            return;\n        }\n        if (this._activeCommand) {\n            this.stderr(\"ERROR: Already running a command!\\n\");\n            return;\n        }\n        var command = this._commands[args[0]];\n        if (!command) {\n            this.stderr(\"Unknown command \" + args[0] + \". Type \\\"help\\\" for a list of commands.\\n\");\n            this.prompt();\n        }\n        else {\n            this._expandArguments(args.slice(1), function (expArgs, err) {\n                if (err) {\n                    _this.stderr(command.getCommand() + \": \" + err + \"\\n\");\n                    _this.prompt();\n                }\n                else {\n                    _this._activeCommand = command;\n                    command.run(_this, expArgs, function () {\n                        _this.exitProgram();\n                    });\n                }\n            });\n        }\n    };\n    Shell.prototype.killProgram = function () {\n        if (this._activeCommand) {\n            this._activeCommand.kill();\n            this.exitProgram();\n        }\n    };\n    Shell.prototype.exitProgram = function () {\n        if (this._activeCommand) {\n            this._activeCommand = null;\n            if (this._cursorX() !== 0) {\n                this.stdout(\"\\n\");\n            }\n            this.prompt();\n        }\n    };\n    Shell.prototype.focus = function () {\n        this._terminal.focus();\n    };\n    Shell.prototype._ps = function () {\n        return process.cwd() + \" $\";\n    };\n    Shell.prototype.getAvailableCommands = function () {\n        return _.clone(this._commands);\n    };\n    /**\n     * After xterm.js updates the cursor, this function ensures that\n     * it is in a shell-legal position.\n     */\n    Shell.prototype._boundCursor = function () {\n        var term = this._terminal;\n        var cursorX = this._cursorX();\n        var cursorY = this._cursorY();\n        var psX = this._psX;\n        var psY = this._psY;\n        var endX = this._endX;\n        var endY = this._endY;\n        var cols = this._terminal.cols;\n        var cursorOffset = cursorY * cols + cursorX;\n        var psOffset = psY * cols + psX;\n        var endOffset = endY * cols + endX;\n        if (cursorOffset < psOffset) {\n            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, psX, psY));\n        }\n        else if (cursorOffset > endOffset) {\n            this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, endX, endY));\n        }\n    };\n    Shell.prototype._expandArguments = function (args, cb) {\n        var expandedArgs = [];\n        async.each(args, function (arg, cb) {\n            if (arg.indexOf('*') == -1) {\n                expandedArgs.push(arg);\n                cb();\n            }\n            else {\n                util_1.processGlob(arg, function (expansionTerms) {\n                    if (expansionTerms.length > 0) {\n                        expandedArgs = expandedArgs.concat(expansionTerms);\n                        cb();\n                    }\n                    else {\n                        cb(arg + \": No such file or directory\");\n                    }\n                });\n            }\n        }, function (e) {\n            cb(expandedArgs, e);\n        });\n    };\n    Shell.prototype.getCompletions = function (args, cb) {\n        if (args.length == 1) {\n            cb(util_1.filterSubstring(args[0], Object.keys(this.getAvailableCommands())));\n        }\n        else if (args[0] === 'time') {\n            this.getCompletions(args.slice(1), cb);\n        }\n        else {\n            var cmd = this.getAvailableCommands()[args[0]], filter = function () { return true; };\n            if (cmd != null) {\n                filter = cmd.getAutocompleteFilter();\n            }\n            util_1.fileNameCompletions(args[0], args, filter, cb);\n        }\n    };\n    Shell.prototype.backspace = function (length) {\n        var backspaceStr = '';\n        for (var i = 0; i < length; i++) {\n            // \\b doesn't clear the current character.\n            // Back up one character, replace with one space, back up one more time.\n            backspaceStr += \"\\b \\b\";\n        }\n        this._terminal.write(backspaceStr);\n    };\n    /**\n     * Enables the shell (if disabled), and prompts for user input.\n     */\n    Shell.prototype.prompt = function () {\n        process.stdin.setRawMode(false);\n        this._shellEnabled = true;\n        this._terminal.write(this._ps() + \" \");\n        this._psX = this._endX = this._cursorX();\n        this._psY = this._endY = this._cursorY();\n        this.stdout(ControlCodes.SHOW_CURSOR);\n    };\n    /**\n     * After the user has entered text, update the prompt text\n     * to the *right* of the cursor.\n     */\n    Shell.prototype._updatePrompt = function () {\n        // Save cursor position.\n        // Insert text.\n        // Restore cursor position.\n        this._boundCursor();\n    };\n    /**\n     * Given an updated _commandBuffer, redraw the existing prompt\n     * with the cursor at the end of the prompt.\n     */\n    Shell.prototype._redrawPrompt = function (command) {\n        this._shellEnabled = true;\n        var oldCommand = this._getEnteredText();\n        this.stdout(ControlCodes.CURSOR_POSITION(this._terminal, this._endX, this._endY));\n        for (var i = 0; i < oldCommand.length; i++) {\n            this.stdin('\\b');\n        }\n        this._terminal.write(command);\n        this._updateEndLocation(command.length);\n    };\n    Shell.prototype._tabComplete = function (raw, args, cb) {\n        var _this = this;\n        // The argument we are completing.\n        var term = this._terminal;\n        var lastArg = _.last(args);\n        this.getCompletions(args, function (completions) {\n            if (completions.length == 1) {\n                var completion = completions[0];\n                args[args.length - 1] = completion;\n                var command = args.join(\" \") + ((completion[completion.length - 1] !== '/') ? ' ' : '');\n                _this._redrawPrompt(command);\n            }\n            else if (completions.length > 0) {\n                var prefix = util_1.longestCommmonPrefix(completions);\n                if (prefix === '' || prefix === lastArg) {\n                    // We've no more sure completions to give, so show all options.\n                    var commonLen_1 = lastArg.lastIndexOf('/') + 1;\n                    var options = completions.map(function (c) { return c.slice(commonLen_1); });\n                    options.sort();\n                    _this.stdout(\"\\n\" + util_1.columnize(options, term.cols) + \"\\n\");\n                    // Create a new prompt with same command.\n                    _this.prompt();\n                    _this._redrawPrompt(raw);\n                }\n                else {\n                    args[args.length - 1] = prefix;\n                    _this._redrawPrompt(args.join(\" \"));\n                    ;\n                }\n            }\n            cb();\n        });\n    };\n    return Shell;\n}());\nexports.__esModule = true;\nexports[\"default\"] = Shell;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hlbGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzaGVsbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBTyxLQUFLLFdBQVcsT0FBTyxDQUFDLENBQUM7QUFDaEMscUJBQWlHLFFBQVEsQ0FBQyxDQUFBO0FBQzFHLElBQU8sQ0FBQyxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBQ2pDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3hDLElBQU8sUUFBUSxXQUFXLE9BQU8sQ0FBQyxDQUFDO0FBQ25DLElBQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDaEQsSUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDckQsSUFBTSxFQUFFLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUUvQixNQUFPLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztBQXVDakM7SUFBQTtJQVVBLENBQUM7SUFIUSw0QkFBZSxHQUF0QixVQUF1QixJQUFjLEVBQUUsR0FBVyxFQUFFLEdBQVc7UUFDN0QsTUFBTSxDQUFDLGFBQVEsR0FBRyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxXQUFJLEdBQUcsR0FBQyxDQUFDLE9BQUcsQ0FBQztJQUNoRCxDQUFDO0lBUk0sd0JBQVcsR0FBRyxPQUFPLENBQUM7SUFDdEIsMkJBQWMsR0FBRyxPQUFPLENBQUM7SUFDekIscUJBQVEsR0FBRyxRQUFRLENBQUM7SUFDcEIsd0JBQVcsR0FBRyxRQUFRLENBQUM7SUFDdkIsdUJBQVUsR0FBRyxRQUFRLENBQUM7SUFDdEIsd0JBQVcsR0FBRyxXQUFXLENBQUM7SUFJbkMsbUJBQUM7QUFBRCxDQUFDLEFBVkQsSUFVQztBQUVEOztHQUVHO0FBQ0g7SUFpQkUsZUFBWSxZQUF5QixFQUFFLFFBQXdCLEVBQUUsV0FBbUIsRUFBRSxn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Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFzeW5jID0gcmVxdWlyZSgnYXN5bmMnKTtcbmltcG9ydCB7cHJvY2Vzc0dsb2IsIGxvbmdlc3RDb21tbW9uUHJlZml4LCBmaWxlTmFtZUNvbXBsZXRpb25zLCBmaWx0ZXJTdWJzdHJpbmcsIGNvbHVtbml6ZX0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuaW1wb3J0IEJyb3dzZXJGUyA9IHJlcXVpcmUoJ2Jyb3dzZXJmcycpO1xuaW1wb3J0IFRlcm1pbmFsID0gcmVxdWlyZSgneHRlcm0nKTtcbmNvbnN0IHByb2Nlc3MgPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgncHJvY2VzcycpO1xuY29uc3QgQnVmZmVyID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjtcbmNvbnN0IGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyk7XG5kZWNsYXJlIHZhciBnbG9iYWxUZXJtOiBUZXJtaW5hbDtcbig8YW55PiBnbG9iYWwpLmdsb2JhbFRlcm0gPSBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoZWxsQ29tbWFuZCB7XG4gIGdldENvbW1hbmQoKTogc3RyaW5nO1xuICBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKTogKGZuYW1lOiBzdHJpbmcsIGlzRGlyOiBib29sZWFuKSA9PiBib29sZWFuO1xuICB0cmFuc2xhdGVGaWxlVG9BcmcoZm5hbWU6IHN0cmluZyk6IHN0cmluZztcbiAgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZDtcbiAga2lsbCgpOiB2b2lkO1xufVxuXG4vKipcbiAqIEVudW0gY29udGFpbmluZyBrZXljb2RlcyB0aGF0IHdlIHNwZWNpYWxseSBoYW5kbGUuXG4gKi9cbmNvbnN0IGVudW0gS2V5Q29kZXMge1xuICBMRUZUID0gMzcsXG4gIFJJR0hUID0gMzksXG4gIFVQID0gMzgsXG4gIERPV04gPSA0MCxcbiAgQkFDS1NQQUNFID0gOCxcbiAgVEFCID0gOSxcbiAgREVMRVRFID0gNDYsXG4gIEVORCA9IDM1LFxuICBIT01FID0gMzYsXG4gIEVOVEVSID0gMTMsXG4gIEFMVCA9IDE4LFxuICBJTlNFUlQgPSA0NSxcbiAgQSA9IDY1LFxuICBDID0gNjcsXG4gIEQgPSA2OCxcbiAgRSA9IDY5LFxuICBOID0gNzgsXG4gIFAgPSA4MCxcbiAgQiA9IDY2LFxuICBGID0gNzAsXG4gIEsgPSA3NSxcbiAgdiA9IDExOCxcbiAgViA9IDg2XG59XG5cbmNsYXNzIENvbnRyb2xDb2RlcyB7XG4gIHN0YXRpYyBTQVZFX0NVUlNPUiA9IFwiXFx4MWI3XCI7XG4gIHN0YXRpYyBSRVNUT1JFX0NVUlNPUiA9IFwiXFx4MWI4XCI7XG4gIHN0YXRpYyBVUF9BUlJPVyA9IFwiXFx4MWJbQVwiO1xuICBzdGF0aWMgUklHSFRfQVJST1cgPSBcIlxceDFiW0NcIjtcbiAgc3RhdGljIExFRlRfQVJST1cgPSBcIlxceDFiW0RcIjtcbiAgc3RhdGljIFNIT1dfQ1VSU09SID0gXCJcXHgxYls/MjVoXCI7XG4gIHN0YXRpYyBDVVJTT1JfUE9TSVRJT04odGVybTogVGVybWluYWwsIGNvbDogbnVtYmVyLCByb3c6IG51bWJlcikge1xuICAgIHJldHVybiBgXFx4MWJbJHtyb3crMSAtIHRlcm0ueWJhc2V9OyR7Y29sKzF9SGA7XG4gIH1cbn1cblxuLyoqXG4gKiBSdW5zIGEgc2hlbGwgb24gYW4geHRlcm0uanMgdGVybWluYWwuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoZWxsIHtcbiAgcHJpdmF0ZSBfdGVybWluYWw6IFRlcm1pbmFsID0gbnVsbDtcbiAgcHJpdmF0ZSBfY29tbWFuZHM6IHsgW2NvbW1hbmQ6IHN0cmluZ106IFNoZWxsQ29tbWFuZCB9ID0ge307XG4gIHByaXZhdGUgX2FjdGl2ZUNvbW1hbmQ6IFNoZWxsQ29tbWFuZCA9IG51bGw7XG4gIC8vIElzIHRoZSBzaGVsbCBlbmFibGVkLCBvciBpcyBhIHByb2dyYW0gcnVubmluZz9cbiAgcHJpdmF0ZSBfc2hlbGxFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3BzWDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfcHNZOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9lbmRYOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9lbmRZOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9oaXN0b3J5OiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIF9oaXN0b3J5T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9kaXNhYmxlSW5wdXQgPSB0cnVlO1xuICBwcml2YXRlIF9zYXZlZENvbW1hbmQgPSBcIlwiO1xuICBwcml2YXRlIF9zaGVsbEhpc3RvcnlGaWxlOiBzdHJpbmc7XG4gIHByaXZhdGUgX2J1ZmZlcmVkSW5wdXQ6IHN0cmluZyA9IFwiXCI7XG5cbiAgY29uc3RydWN0b3Ioc2hlbGxFbGVtZW50OiBIVE1MRWxlbWVudCwgY29tbWFuZHM6IFNoZWxsQ29tbWFuZFtdLCBsb2FkaW5nVGV4dDogc3RyaW5nLCBzaGVsbEhpc3RvcnlGaWxlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zaGVsbEhpc3RvcnlGaWxlID0gc2hlbGxIaXN0b3J5RmlsZTtcbiAgICBjb21tYW5kcy5mb3JFYWNoKChjOiBTaGVsbENvbW1hbmQpID0+IHtcbiAgICAgIHRoaXMuX2NvbW1hbmRzW2MuZ2V0Q29tbWFuZCgpXSA9IGM7XG4gICAgfSk7XG5cbiAgICBjb25zdCByb3dzID0gMjU7XG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsID0gZ2xvYmFsVGVybSA9IG5ldyBUZXJtaW5hbCh7XG4gICAgICBjb2xzOiA4MCxcbiAgICAgIHJvd3M6IHJvd3MsXG4gICAgICBjYW5jZWxFdmVudHM6IHRydWVcbiAgICB9KTtcbiAgICB0ZXJtLm9wZW4oc2hlbGxFbGVtZW50KTtcbiAgICB0ZXJtLmN1cnNvckhpZGRlbiA9IHRydWU7XG5cbiAgICB0ZXJtLm9uKCdrZXknLCAoa2V5LCBlKSA9PiB7XG4gICAgICBpZiAodGhpcy5fZGlzYWJsZUlucHV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgICBsZXQga2V5UHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuQTpcbiAgICAgICAgICAgIC8vIG1vdmUgY3Vyc29yIHRvIHN0YXJ0XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX21vdmVUb1N0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkM6XG4gICAgICAgICAgICAvLyBTcGVjaWFsOiBLaWxsIGFueSBhY3RpdmUgcHJvZ3JhbXMuIE90aGVyd2lzZSwgaWdub3JlLlxuICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMua2lsbFByb2dyYW0oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuRDpcbiAgICAgICAgICAgIC8vIGZvcndhcmQgZGVsZXRlXG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmREZWxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuRTpcbiAgICAgICAgICAgIC8vIG1vdmUgdG8gZW5kXG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX21vdmVUb0VuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5OOlxuICAgICAgICAgICAgLy8gbmV4dCBoaXN0b3J5XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX25leHRIaXN0b3J5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLlA6XG4gICAgICAgICAgICAvLyBwcmV2IGhpc3RvcnlcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5fcHJldkhpc3RvcnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuQjpcbiAgICAgICAgICAgIC8vIGJhY2tcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5fY3Vyc29yTGVmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5GOlxuICAgICAgICAgICAgLy8gZm9yd2FyZFxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLl9jdXJzb3JSaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5LOlxuICAgICAgICAgICAgLy8gZGVsZXRlIHVudGlsIGVuZFxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBjb25zdCB0b0RlbGV0ZSA9IHRoaXMuX2dldEVudGVyZWRUZXh0KCkubGVuZ3RoIC0gdGhpcy5fZ2V0Q3Vyc29yT2Zmc2V0KCk7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9EZWxldGU7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmREZWxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHtcbiAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5GOlxuICAgICAgICAgICAgLy8gbW92ZSB0byBuZXh0IHdvcmRcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuQjpcbiAgICAgICAgICAgIC8vIG1vdmUgdG8gcHJldiB3b3JkXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkQ6XG4gICAgICAgICAgICAvLyBkZWxldGUgbmV4dCB3b3JkXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5VUDpcbiAgICAgICAgICAgIC8vIHByZXYgaGlzdG9yeVxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLl9wcmV2SGlzdG9yeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBLZXlDb2Rlcy5ET1dOOlxuICAgICAgICAgICAgLy8gbmV4dCBoaXN0b3J5XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX25leHRIaXN0b3J5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkxFRlQ6XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2N1cnNvckxlZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuUklHSFQ6XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2N1cnNvclJpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkJBQ0tTUEFDRTpcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0ZGluKCdcXGInKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuVEFCOlxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICBrZXlQcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlSW5wdXQgPSB0cnVlO1xuICAgICAgICAgICAgICBjb25zdCBjbWQgPSB0aGlzLl9nZXRFbnRlcmVkVGV4dCgpO1xuICAgICAgICAgICAgICB0aGlzLl90YWJDb21wbGV0ZShjbWQsIHRoaXMuX2dldEFyZ3MoY21kKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVJbnB1dCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuREVMRVRFOlxuICAgICAgICAgICAgLy8gZm9yd2FyZCBkZWxldGVcbiAgICAgICAgICAgIC8vIE5PVEU6IElzIGFsc28gJy4nIG9uIG15IE1hYy4uLlxuICAgICAgICAgICAgaWYgKHRoaXMuX3NoZWxsRW5hYmxlZCAmJiBlLnR5cGUgPT09IFwia2V5ZG93blwiKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmREZWxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgS2V5Q29kZXMuRU5EOlxuICAgICAgICAgICAgLy8gbW92ZSB0byBlbmRcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAga2V5UHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5fbW92ZVRvRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkhPTUU6XG4gICAgICAgICAgICAvLyBNb3ZlIHRvIHN0YXJ0XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX21vdmVUb1N0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEtleUNvZGVzLkVOVEVSOlxuICAgICAgICAgICAgLy8gcnVuIGNvbW1hbmQuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2hlbGxFbmFibGVkKSB7XG4gICAgICAgICAgICAgIGtleVByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNvbnN0IGNtZCA9IHRoaXMuX2dldEVudGVyZWRUZXh0KCk7XG4gICAgICAgICAgICAgIHRoaXMuc3Rkb3V0KGAke0NvbnRyb2xDb2Rlcy5DVVJTT1JfUE9TSVRJT04odGhpcy5fdGVybWluYWwsIHRoaXMuX2VuZFgsIHRoaXMuX2VuZFkpfVxcbmApO1xuICAgICAgICAgICAgICB0aGlzLl9ydW5Db21tYW5kKGNtZCwgdGhpcy5fZ2V0QXJncyhjbWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXlQcm9jZXNzZWQpIHtcbiAgICAgICAgICB0aGlzLnN0ZGluKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3Rlcm1pbmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgd2lkdGggb2YgdGhlIHRlcm1pbmFsIGluIGNoYXJhY3RlcnMuXG4gICAqL1xuICBwdWJsaWMgY29scygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICB9XG5cbiAgcHJpdmF0ZSBfY3Vyc29yWCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbC54O1xuICB9XG5cbiAgcHJpdmF0ZSBfY3Vyc29yWSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbC55YmFzZSArIHRoaXMuX3Rlcm1pbmFsLnk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgdGhlIGxvYWRpbmcgcGhhc2UgaGFzIGNvbXBsZXRlZC5cbiAgICovXG4gIHB1YmxpYyBsb2FkaW5nQ29tcGxldGVkKGdyZWV0aW5nOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBmcy5yZWFkRmlsZSh0aGlzLl9zaGVsbEhpc3RvcnlGaWxlLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoIWVycikge1xuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gZGF0YS50b1N0cmluZygpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdGhpcy5faGlzdG9yeU9mZnNldCA9IHRoaXMuX2hpc3RvcnkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGdyZWV0aW5nW2dyZWV0aW5nLmxlbmd0aCAtIDFdICE9PSAnXFxuJykge1xuICAgICAgICBncmVldGluZyArPSAnXFxuJztcbiAgICAgIH1cbiAgICAgIHRoaXMuX2Rpc2FibGVJbnB1dCA9IGZhbHNlO1xuICAgICAgdGhpcy5iYWNrc3BhY2UodGhpcy5jb2xzKCkpO1xuICAgICAgdGhpcy5zdGRvdXQoZ3JlZXRpbmcpO1xuICAgICAgdGhpcy5wcm9tcHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2N1cnNvckxlZnQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2N1cnNvclgoKSA9PT0gMCAmJiB0aGlzLl9jdXJzb3JZKCkgPiAwKSB7XG4gICAgICAvLyBNb3ZlIHVwIG9uZSwgdG8gZW5kIG9mIGxpbmUuXG4gICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuQ1VSU09SX1BPU0lUSU9OKHRoaXMuX3Rlcm1pbmFsLCB0aGlzLl90ZXJtaW5hbC5jb2xzIC0gMSwgdGhpcy5fY3Vyc29yWSgpIC0gMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuTEVGVF9BUlJPVyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfY3Vyc29yUmlnaHQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2N1cnNvclgoKSA9PT0gdGhpcy5fdGVybWluYWwuY29scyAtIDEgJiYgdGhpcy5fZW5kWSA+IHRoaXMuX2N1cnNvclkoKSkge1xuICAgICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgMCwgdGhpcy5fY3Vyc29yWSgpICsgMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuUklHSFRfQVJST1cpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZIaXN0b3J5KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9oaXN0b3J5Lmxlbmd0aCA+IDAgJiYgdGhpcy5faGlzdG9yeU9mZnNldCA+IDApIHtcbiAgICAgIGlmICh0aGlzLl9oaXN0b3J5T2Zmc2V0ID09PSB0aGlzLl9oaXN0b3J5Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9zYXZlZENvbW1hbmQgPSB0aGlzLl9nZXRFbnRlcmVkVGV4dCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5faGlzdG9yeU9mZnNldC0tO1xuICAgICAgdGhpcy5fcmVkcmF3UHJvbXB0KHRoaXMuX2hpc3RvcnlbdGhpcy5faGlzdG9yeU9mZnNldF0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX25leHRIaXN0b3J5KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9oaXN0b3J5Lmxlbmd0aCA+IDAgJiYgdGhpcy5faGlzdG9yeU9mZnNldCA8IHRoaXMuX2hpc3RvcnkubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9oaXN0b3J5T2Zmc2V0Kys7XG4gICAgICBpZiAodGhpcy5faGlzdG9yeU9mZnNldCA9PT0gdGhpcy5faGlzdG9yeS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fcmVkcmF3UHJvbXB0KHRoaXMuX3NhdmVkQ29tbWFuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZWRyYXdQcm9tcHQodGhpcy5faGlzdG9yeVt0aGlzLl9oaXN0b3J5T2Zmc2V0XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbW92ZVRvU3RhcnQoKTogdm9pZCB7XG4gICAgdGhpcy5zdGRpbihDb250cm9sQ29kZXMuQ1VSU09SX1BPU0lUSU9OKHRoaXMuX3Rlcm1pbmFsLCB0aGlzLl9wc1gsIHRoaXMuX3BzWSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfbW92ZVRvRW5kKCk6IHZvaWQge1xuICAgIHRoaXMuc3RkaW4oQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgdGhpcy5fZW5kWCwgdGhpcy5fZW5kWSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZm9yd2FyZERlbGV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9jdXJzb3JSaWdodCgpO1xuICAgIHRoaXMuc3RkaW4oJ1xcYicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3Vyc29yIG9mZnNldCBpbnRvIHRoZSBjdXJyZW50bHkgdHlwZWQgY29tbWFuZC5cbiAgICovXG4gIHByaXZhdGUgX2dldEN1cnNvck9mZnNldCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHRlcm0gPSB0aGlzLl90ZXJtaW5hbDtcbiAgICBjb25zdCBwcm9tcHRYID0gdGhpcy5fcHNYO1xuICAgIGNvbnN0IHByb21wdFkgPSB0aGlzLl9wc1k7XG4gICAgY29uc3QgdGVybVdpZHRoID0gdGVybS5jb2xzO1xuICAgIGNvbnN0IHByb21wdE9mZnNldCA9IHByb21wdFkgKiB0ZXJtV2lkdGggKyBwcm9tcHRYO1xuICAgIGNvbnN0IGN1cnNvclggPSB0aGlzLl9jdXJzb3JYKCk7XG4gICAgY29uc3QgY3Vyc29yWSA9IHRoaXMuX2N1cnNvclkoKTtcbiAgICBjb25zdCBjdXJzb3JPZmZzZXQgPSBjdXJzb3JZICogdGVybVdpZHRoICsgY3Vyc29yWDtcbiAgICByZXR1cm4gY3Vyc29yT2Zmc2V0IC0gcHJvbXB0T2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudGx5IGVudGVyZWQgdGV4dCBhZnRlciB0aGUgcHJvbXB0LlxuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0RW50ZXJlZFRleHQoKTogc3RyaW5nIHtcbiAgICBsZXQgdGV4dCA9IFwiXCI7XG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsO1xuICAgIGNvbnN0IGNvbHMgPSB0ZXJtLmNvbHM7XG4gICAgY29uc3QgbGluZXMgPSB0ZXJtLmxpbmVzO1xuICAgIGNvbnN0IHBzWSA9IHRoaXMuX3BzWTtcbiAgICBjb25zdCBlbmRZID0gdGhpcy5fZW5kWTtcbiAgICBjb25zdCBlbmRYID0gdGhpcy5fZW5kWDtcbiAgICBmb3IgKGxldCB5ID0gcHNZOyB5IDw9IGVuZFk7IHkrKykge1xuICAgICAgY29uc3Qgcm93ID0gbGluZXNbeV07XG4gICAgICBmb3IgKGxldCB4ID0gKHkgPT09IHBzWSA/IHRoaXMuX3BzWCA6IDApOyB4IDwgKHkgPT09IGVuZFkgPyBlbmRYIDogcm93Lmxlbmd0aCk7IHgrKykge1xuICAgICAgICB0ZXh0ICs9IHJvd1t4XVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVFbmRMb2NhdGlvbihkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgY29scyA9IHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgdGhpcy5fZW5kWCArPSBkZWx0YTtcbiAgICBpZiAodGhpcy5fZW5kWCA+IGNvbHMpIHtcbiAgICAgIGNvbnN0IHJvd3MgPSBNYXRoLmZsb29yKHRoaXMuX2VuZFggLyBjb2xzKTtcbiAgICAgIHRoaXMuX2VuZFggLT0gKGNvbHMgKiByb3dzKTtcbiAgICAgIHRoaXMuX2VuZFkgKz0gcm93cztcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2VuZFggPCAwKSB7XG4gICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKE1hdGguYWJzKHRoaXMuX2VuZFgpIC8gY29scyk7XG4gICAgICB0aGlzLl9lbmRZIC09IHJvd3M7XG4gICAgICB0aGlzLl9lbmRYICs9IChjb2xzICogcm93cyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZXItcHJvdmlkZWQgaW5wdXQgdG8gdGhlIHByb2dyYW0sIHRyYW5zbGF0ZWQgaW50byB0ZXJtaW5hbCB0ZXh0LlxuICAgKiBAcGFyYW0gaXNQcmludGFibGUgSXMgdGhpcyBhIFwicHJpbnRhYmxlXCIgY2hhcmFjdGVyP1xuICAgKi9cbiAgcHJpdmF0ZSBzdGRpbihrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zaGVsbEVuYWJsZWQpIHtcbiAgICAgIC8vIHh0ZXJtLmpzIGlzIGFsd2F5cyBpbiBpbnNlcnQgbW9kZS4gVGhhdCdzIG5vdCB3aGF0IHVzZXJzIGV4cGVjdC5cbiAgICAgIGlmIChrZXkgPT09ICdcXGInKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsbHkuXG4gICAgICAgIGxldCBjb21tYW5kID0gdGhpcy5fZ2V0RW50ZXJlZFRleHQoKSxcbiAgICAgICAgICBjdXJzb3JPZmZzZXQgPSB0aGlzLl9nZXRDdXJzb3JPZmZzZXQoKTtcbiAgICAgICAgaWYgKGN1cnNvck9mZnNldCA+IDApIHtcbiAgICAgICAgICB0aGlzLl9jdXJzb3JMZWZ0KCk7XG4gICAgICAgICAgLy8gRXh0cmEgc3BhY2Ugb3ZlcndyaXRlcyBlbmQgY2hhcmFjdGVyLlxuICAgICAgICAgIHRoaXMuc3Rkb3V0KGAke0NvbnRyb2xDb2Rlcy5TQVZFX0NVUlNPUn0ke2NvbW1hbmQuc2xpY2UoY3Vyc29yT2Zmc2V0KX0gJHtDb250cm9sQ29kZXMuUkVTVE9SRV9DVVJTT1J9YCk7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlRW5kTG9jYXRpb24oLTEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc3VmZml4OiBzdHJpbmcgPSBudWxsO1xuICAgICAgICAvLyBJbXBhY3Qgb24gdGhlIGVuZCBvZiB0aGUgbGluZT9cbiAgICAgICAgc3dpdGNoIChrZXlbMF0pIHtcbiAgICAgICAgICAvLyBJZ25vcmUgY29udHJvbCBjb2Rlcy5cbiAgICAgICAgICBjYXNlICdcXHgwNyc6IC8vIGJlbGxcbiAgICAgICAgICBjYXNlICdcXHgxYic6IC8vIFxcZTogZXNjYXBlZCBjb250cm9sIGNvZGVzLlxuICAgICAgICAgIGNhc2UgJ1xceDBlJzogLy8gc2hpZnQgb3V0XG4gICAgICAgICAgY2FzZSAnXFx4MGYnOiAvLyBzaGlmdCBpblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN1ZmZpeCA9IGAke0NvbnRyb2xDb2Rlcy5TQVZFX0NVUlNPUn0ke3RoaXMuX2dldEVudGVyZWRUZXh0KCkuc2xpY2UodGhpcy5fZ2V0Q3Vyc29yT2Zmc2V0KCkpfSR7Q29udHJvbENvZGVzLlJFU1RPUkVfQ1VSU09SfWA7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFbmRMb2NhdGlvbigxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhdmUgdGVybWluYWwgcHJvY2VzcyB0ZXh0LlxuICAgICAgICB0aGlzLnN0ZG91dChrZXkpO1xuICAgICAgICBpZiAodGhpcy5fdGVybWluYWwueCA9PT0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgICAgIC8vIFhYWDogSGFja2ZpeCBmb3IgeHRlcm0gYnVnIC0tIG9mZiBieSBvbmUuXG4gICAgICAgICAgdGhpcy5fdGVybWluYWwueC0tO1xuICAgICAgICAgIHRoaXMuX2N1cnNvclJpZ2h0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeUJlZm9yZSA9IHRoaXMuX2N1cnNvclkoKTtcbiAgICAgICAgaWYgKHN1ZmZpeCkge1xuICAgICAgICAgIHRoaXMuc3Rkb3V0KHN1ZmZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeUFmdGVyID0gdGhpcy5fY3Vyc29yWSgpO1xuICAgICAgICBpZiAoeUFmdGVyICE9PSB5QmVmb3JlKSB7XG4gICAgICAgICAgLy8gWFhYOiBIYWNrZml4IGZvciBlbmQgb2YgbGluZS5cbiAgICAgICAgICB0aGlzLnN0ZG91dChDb250cm9sQ29kZXMuVVBfQVJST1cpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvbXB0LlxuICAgICAgICB0aGlzLl91cGRhdGVQcm9tcHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRWNobyB0aGUgdGV4dC4gU3RyaXAgY29udHJvbCBjaGFyYWN0ZXJzIG91dC4gQnVmZmVyIGlucHV0LlxuICAgICAgaWYgKGtleSA9PT0gJ1xcYicpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcmVkSW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuX2N1cnNvckxlZnQoKTtcbiAgICAgICAgICB0aGlzLnN0ZG91dChgIGApO1xuICAgICAgICAgIHRoaXMuX2N1cnNvckxlZnQoKTtcbiAgICAgICAgICB0aGlzLl9idWZmZXJlZElucHV0ID0gdGhpcy5fYnVmZmVyZWRJbnB1dC5zbGljZSgwLCB0aGlzLl9idWZmZXJlZElucHV0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ1xccicpIHtcbiAgICAgICAgdGhpcy5zdGRvdXQoJ1xcclxcbicpO1xuICAgICAgICB0aGlzLl9idWZmZXJlZElucHV0ICs9ICdcXG4nO1xuICAgICAgICAvLyBQYXNzIHRvIHByb2dyYW0uXG4gICAgICAgICg8Tm9kZUpTLlJlYWRXcml0ZVN0cmVhbT4gcHJvY2Vzcy5zdGRpbikud3JpdGUodGhpcy5fYnVmZmVyZWRJbnB1dCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkSW5wdXQgPSBcIlwiO1xuICAgICAgfSBlbHNlIGlmIChrZXlbMF0gIT09ICdcXHgxYicpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRJbnB1dCArPSBrZXk7XG4gICAgICAgIHRoaXMuc3Rkb3V0KGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0ZG91dCh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCB0ZXJtID0gdGhpcy5fdGVybWluYWw7XG4gICAgdGVybS53cml0ZSh0ZXh0LnJlcGxhY2UoL1xcbi9nLCAnXFxyXFxuJykpO1xuICB9XG5cbiAgcHVibGljIHN0ZGVycih0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBQcm9ncmFtcyB1c2Ugc3RkZXJyIGZvciB3ZWlyZCB0aGluZ3MuIFJlZCB0ZXh0IGxvb2tzIG91dCBvZiBwbGFjZS5cbiAgICAvLyBjb25zdCB0ZXJtID0gdGhpcy5fdGVybWluYWw7XG4gICAgLy8gUHJpbnQgcmVkLCB0aGVuIHN3aXRjaCBiYWNrIHRvIHRoZSBkZWZhdWx0IGNvbG9yLlxuICAgIC8vIHRlcm0ud3JpdGUoYFxceDFiWzMxbSR7dGV4dC5yZXBsYWNlKC9cXG4vZywgJ1xcclxcbicpfVxceDFiWzBtYCk7XG4gICAgdGhpcy5zdGRvdXQodGV4dCk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRBcmdzKGNvbW1hbmQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RW50ZXJlZFRleHQoKS50cmltKCkuc3BsaXQoL1xccysvZyk7XG4gIH1cblxuICBwcml2YXRlIF9ydW5Db21tYW5kKHJhdzogc3RyaW5nLCBhcmdzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX2J1ZmZlcmVkSW5wdXQgPSBcIlwiO1xuICAgIHRoaXMuX3NoZWxsRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2hpc3RvcnlPZmZzZXQgPSB0aGlzLl9oaXN0b3J5LnB1c2gocmF3KTtcbiAgICBmcy53cml0ZUZpbGUodGhpcy5fc2hlbGxIaXN0b3J5RmlsZSwgbmV3IEJ1ZmZlcih0aGlzLl9oaXN0b3J5LmpvaW4oXCJcXG5cIikpLCAoKSA9PiB7fSk7XG4gICAgaWYgKGFyZ3NbMF0gPT09ICcnKSB7XG4gICAgICB0aGlzLnByb21wdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYWN0aXZlQ29tbWFuZCkge1xuICAgICAgdGhpcy5zdGRlcnIoYEVSUk9SOiBBbHJlYWR5IHJ1bm5pbmcgYSBjb21tYW5kIVxcbmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbW1hbmQgPSB0aGlzLl9jb21tYW5kc1thcmdzWzBdXTtcbiAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgIHRoaXMuc3RkZXJyKGBVbmtub3duIGNvbW1hbmQgJHthcmdzWzBdfS4gVHlwZSBcImhlbHBcIiBmb3IgYSBsaXN0IG9mIGNvbW1hbmRzLlxcbmApO1xuICAgICAgdGhpcy5wcm9tcHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZXhwYW5kQXJndW1lbnRzKGFyZ3Muc2xpY2UoMSksIChleHBBcmdzLCBlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHRoaXMuc3RkZXJyKGAke2NvbW1hbmQuZ2V0Q29tbWFuZCgpfTogJHtlcnJ9XFxuYCk7XG4gICAgICAgICAgdGhpcy5wcm9tcHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9hY3RpdmVDb21tYW5kID0gY29tbWFuZDtcbiAgICAgICAgICBjb21tYW5kLnJ1bih0aGlzLCBleHBBcmdzLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmV4aXRQcm9ncmFtKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBwdWJsaWMga2lsbFByb2dyYW0oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUNvbW1hbmQpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUNvbW1hbmQua2lsbCgpO1xuICAgICAgdGhpcy5leGl0UHJvZ3JhbSgpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZXhpdFByb2dyYW0oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUNvbW1hbmQpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUNvbW1hbmQgPSBudWxsO1xuICAgICAgaWYgKHRoaXMuX2N1cnNvclgoKSAhPT0gMCkge1xuICAgICAgICB0aGlzLnN0ZG91dChcIlxcblwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvbXB0KCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBmb2N1cygpOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5mb2N1cygpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcHMoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7cHJvY2Vzcy5jd2QoKX0gJGA7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXZhaWxhYmxlQ29tbWFuZHMoKTogeyBbY29tbWFuZE5hbWU6IHN0cmluZ106IFNoZWxsQ29tbWFuZCB9IHtcbiAgICByZXR1cm4gXy5jbG9uZSh0aGlzLl9jb21tYW5kcyk7XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgeHRlcm0uanMgdXBkYXRlcyB0aGUgY3Vyc29yLCB0aGlzIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdFxuICAgKiBpdCBpcyBpbiBhIHNoZWxsLWxlZ2FsIHBvc2l0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBfYm91bmRDdXJzb3IoKTogdm9pZCB7XG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsO1xuICAgIGNvbnN0IGN1cnNvclggPSB0aGlzLl9jdXJzb3JYKCk7XG4gICAgY29uc3QgY3Vyc29yWSA9IHRoaXMuX2N1cnNvclkoKTtcbiAgICBjb25zdCBwc1ggPSB0aGlzLl9wc1g7XG4gICAgY29uc3QgcHNZID0gdGhpcy5fcHNZO1xuICAgIGNvbnN0IGVuZFggPSB0aGlzLl9lbmRYO1xuICAgIGNvbnN0IGVuZFkgPSB0aGlzLl9lbmRZO1xuICAgIGNvbnN0IGNvbHMgPSB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgIGNvbnN0IGN1cnNvck9mZnNldCA9IGN1cnNvclkqY29scyArIGN1cnNvclg7XG4gICAgY29uc3QgcHNPZmZzZXQgPSBwc1kqY29scyArIHBzWDtcbiAgICBjb25zdCBlbmRPZmZzZXQgPSBlbmRZKmNvbHMgKyBlbmRYO1xuICAgIGlmIChjdXJzb3JPZmZzZXQgPCBwc09mZnNldCkge1xuICAgICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgcHNYLCBwc1kpKTtcbiAgICB9IGVsc2UgaWYgKGN1cnNvck9mZnNldCA+IGVuZE9mZnNldCkge1xuICAgICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgZW5kWCwgZW5kWSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2V4cGFuZEFyZ3VtZW50cyhhcmdzOiBzdHJpbmdbXSwgY2I6IChleHBhbmRlZEFyZ3M6IHN0cmluZ1tdLCBlcnI6IGFueSkgPT4gdm9pZCkge1xuICAgIHZhciBleHBhbmRlZEFyZ3M6IHN0cmluZ1tdID0gW107XG4gICAgYXN5bmMuZWFjaChhcmdzLChhcmc6IHN0cmluZywgY2I6IChlPzogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICBpZiAoYXJnLmluZGV4T2YoJyonKSA9PSAtMSkge1xuICAgICAgICBleHBhbmRlZEFyZ3MucHVzaChhcmcpO1xuICAgICAgICBjYigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc0dsb2IoYXJnLCAoZXhwYW5zaW9uVGVybXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgaWYgKGV4cGFuc2lvblRlcm1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGV4cGFuZGVkQXJncyA9IGV4cGFuZGVkQXJncy5jb25jYXQoZXhwYW5zaW9uVGVybXMpO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2IoYCR7YXJnfTogTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwoZT86IGFueSkgPT4ge1xuICAgICAgY2IoZXhwYW5kZWRBcmdzLCBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb21wbGV0aW9ucyhhcmdzOiBzdHJpbmdbXSwgY2I6IChjOiBzdHJpbmdbXSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICBjYihmaWx0ZXJTdWJzdHJpbmcoYXJnc1swXSwgT2JqZWN0LmtleXModGhpcy5nZXRBdmFpbGFibGVDb21tYW5kcygpKSkpO1xuICAgIH0gZWxzZSBpZiAoYXJnc1swXSA9PT0gJ3RpbWUnKSB7XG4gICAgICB0aGlzLmdldENvbXBsZXRpb25zKGFyZ3Muc2xpY2UoMSksIGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNtZCA9IHRoaXMuZ2V0QXZhaWxhYmxlQ29tbWFuZHMoKVthcmdzWzBdXSxcbiAgICAgICAgICBmaWx0ZXI6IChmbmFtZTogc3RyaW5nLCBpc0RpcjogYm9vbGVhbikgPT4gYm9vbGVhbiA9ICgpID0+IHRydWU7XG4gICAgICBpZiAoY21kICE9IG51bGwpIHtcbiAgICAgICAgZmlsdGVyID0gY21kLmdldEF1dG9jb21wbGV0ZUZpbHRlcigpO1xuICAgICAgfVxuICAgICAgZmlsZU5hbWVDb21wbGV0aW9ucyhhcmdzWzBdLCBhcmdzLCBmaWx0ZXIsIGNiKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYmFja3NwYWNlKGxlbmd0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgbGV0IGJhY2tzcGFjZVN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIFxcYiBkb2Vzbid0IGNsZWFyIHRoZSBjdXJyZW50IGNoYXJhY3Rlci5cbiAgICAgIC8vIEJhY2sgdXAgb25lIGNoYXJhY3RlciwgcmVwbGFjZSB3aXRoIG9uZSBzcGFjZSwgYmFjayB1cCBvbmUgbW9yZSB0aW1lLlxuICAgICAgYmFja3NwYWNlU3RyICs9IFwiXFxiIFxcYlwiO1xuICAgIH1cbiAgICB0aGlzLl90ZXJtaW5hbC53cml0ZShiYWNrc3BhY2VTdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIHNoZWxsIChpZiBkaXNhYmxlZCksIGFuZCBwcm9tcHRzIGZvciB1c2VyIGlucHV0LlxuICAgKi9cbiAgcHVibGljIHByb21wdCgpOiB2b2lkIHtcbiAgICAoPGFueT4gcHJvY2Vzcy5zdGRpbikuc2V0UmF3TW9kZShmYWxzZSk7XG4gICAgdGhpcy5fc2hlbGxFbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl90ZXJtaW5hbC53cml0ZShgJHt0aGlzLl9wcygpfSBgKTtcbiAgICB0aGlzLl9wc1ggPSB0aGlzLl9lbmRYID0gdGhpcy5fY3Vyc29yWCgpO1xuICAgIHRoaXMuX3BzWSA9IHRoaXMuX2VuZFkgPSB0aGlzLl9jdXJzb3JZKCk7XG4gICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLlNIT1dfQ1VSU09SKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZnRlciB0aGUgdXNlciBoYXMgZW50ZXJlZCB0ZXh0LCB1cGRhdGUgdGhlIHByb21wdCB0ZXh0XG4gICAqIHRvIHRoZSAqcmlnaHQqIG9mIHRoZSBjdXJzb3IuXG4gICAqL1xuICBwcml2YXRlIF91cGRhdGVQcm9tcHQoKTogdm9pZCB7XG4gICAgLy8gU2F2ZSBjdXJzb3IgcG9zaXRpb24uXG4gICAgLy8gSW5zZXJ0IHRleHQuXG4gICAgLy8gUmVzdG9yZSBjdXJzb3IgcG9zaXRpb24uXG4gICAgdGhpcy5fYm91bmRDdXJzb3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhbiB1cGRhdGVkIF9jb21tYW5kQnVmZmVyLCByZWRyYXcgdGhlIGV4aXN0aW5nIHByb21wdFxuICAgKiB3aXRoIHRoZSBjdXJzb3IgYXQgdGhlIGVuZCBvZiB0aGUgcHJvbXB0LlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVkcmF3UHJvbXB0KGNvbW1hbmQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuX3NoZWxsRW5hYmxlZCA9IHRydWU7XG4gICAgY29uc3Qgb2xkQ29tbWFuZCA9IHRoaXMuX2dldEVudGVyZWRUZXh0KCk7XG4gICAgdGhpcy5zdGRvdXQoQ29udHJvbENvZGVzLkNVUlNPUl9QT1NJVElPTih0aGlzLl90ZXJtaW5hbCwgdGhpcy5fZW5kWCwgdGhpcy5fZW5kWSkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQ29tbWFuZC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGRpbignXFxiJyk7XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLndyaXRlKGNvbW1hbmQpO1xuICAgIHRoaXMuX3VwZGF0ZUVuZExvY2F0aW9uKGNvbW1hbmQubGVuZ3RoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3RhYkNvbXBsZXRlKHJhdzogc3RyaW5nLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAvLyBUaGUgYXJndW1lbnQgd2UgYXJlIGNvbXBsZXRpbmcuXG4gICAgY29uc3QgdGVybSA9IHRoaXMuX3Rlcm1pbmFsO1xuICAgIGNvbnN0IGxhc3RBcmcgPSBfLmxhc3QoYXJncyk7XG4gICAgdGhpcy5nZXRDb21wbGV0aW9ucyhhcmdzLCAoY29tcGxldGlvbnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICBpZiAoY29tcGxldGlvbnMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IGNvbXBsZXRpb25zWzBdO1xuICAgICAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBjb21wbGV0aW9uO1xuICAgICAgICBjb25zdCBjb21tYW5kID0gYXJncy5qb2luKFwiIFwiKSArICgoY29tcGxldGlvbltjb21wbGV0aW9uLmxlbmd0aCAtIDFdICE9PSAnLycpID8gJyAnIDogJycpO1xuICAgICAgICB0aGlzLl9yZWRyYXdQcm9tcHQoY29tbWFuZCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbXBsZXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IHByZWZpeCA9IGxvbmdlc3RDb21tbW9uUHJlZml4KGNvbXBsZXRpb25zKTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJycgfHwgcHJlZml4ID09PSBsYXN0QXJnKSB7XG4gICAgICAgICAgLy8gV2UndmUgbm8gbW9yZSBzdXJlIGNvbXBsZXRpb25zIHRvIGdpdmUsIHNvIHNob3cgYWxsIG9wdGlvbnMuXG4gICAgICAgICAgbGV0IGNvbW1vbkxlbiA9IGxhc3RBcmcubGFzdEluZGV4T2YoJy8nKSArIDE7XG4gICAgICAgICAgbGV0IG9wdGlvbnMgPSBjb21wbGV0aW9ucy5tYXAoKGMpID0+IGMuc2xpY2UoY29tbW9uTGVuKSk7XG4gICAgICAgICAgb3B0aW9ucy5zb3J0KCk7XG4gICAgICAgICAgdGhpcy5zdGRvdXQoYFxcbiR7Y29sdW1uaXplKG9wdGlvbnMsIHRlcm0uY29scyl9XFxuYCk7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHByb21wdCB3aXRoIHNhbWUgY29tbWFuZC5cbiAgICAgICAgICB0aGlzLnByb21wdCgpO1xuICAgICAgICAgIHRoaXMuX3JlZHJhd1Byb21wdChyYXcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9IHByZWZpeDtcbiAgICAgICAgICB0aGlzLl9yZWRyYXdQcm9tcHQoYXJncy5qb2luKFwiIFwiKSk7O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYigpO1xuICAgIH0pO1xuICB9XG59XG4iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/shell.ts\n ** module id = 5\n ** module chunks = 0\n **/","/**\n * xterm.js: xterm, in the browser\n * Copyright (c) 2014, sourceLair Limited (www.sourcelair.com (MIT License)\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author's permission):\n *   Fabrice Bellard's javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n\n(function (xterm) {\n    if (typeof exports === 'object' && typeof module === 'object') {\n        /*\n         * npm/nodejs project\n         */\n        module.exports = xterm.call(this);\n    } else if (typeof define == 'function') {\n        /*\n         * Require.js is available\n         */\n        define([], xterm.bind(window));\n    } else {\n        /*\n         * Plain browser environment\n         */\n        this.Xterm = xterm.call(this);\n        this.Terminal = this.Xterm; /* Backwards compatibility with term.js */\n    }\n})(function() {\n    /**\n     * Terminal Emulation References:\n     *   http://vt100.net/\n     *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.txt\n     *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n     *   http://invisible-island.net/vttest/\n     *   http://www.inwap.com/pdp10/ansicode.txt\n     *   http://linux.die.net/man/4/console_codes\n     *   http://linux.die.net/man/7/urxvt\n     */\n\n    'use strict';\n\n    /**\n     * Shared\n     */\n\n    var window = this, document = this.document;\n\n    /**\n     * EventEmitter\n     */\n\n    function EventEmitter() {\n      this._events = this._events || {};\n    }\n\n    EventEmitter.prototype.addListener = function(type, listener) {\n      this._events[type] = this._events[type] || [];\n      this._events[type].push(listener);\n    };\n\n    EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n    EventEmitter.prototype.removeListener = function(type, listener) {\n      if (!this._events[type]) return;\n\n      var obj = this._events[type]\n        , i = obj.length;\n\n      while (i--) {\n        if (obj[i] === listener || obj[i].listener === listener) {\n          obj.splice(i, 1);\n          return;\n        }\n      }\n    };\n\n    EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\n    EventEmitter.prototype.removeAllListeners = function(type) {\n      if (this._events[type]) delete this._events[type];\n    };\n\n    EventEmitter.prototype.once = function(type, listener) {\n      function on() {\n        var args = Array.prototype.slice.call(arguments);\n        this.removeListener(type, on);\n        return listener.apply(this, args);\n      }\n      on.listener = listener;\n      return this.on(type, on);\n    };\n\n    EventEmitter.prototype.emit = function(type) {\n      if (!this._events[type]) return;\n\n      var args = Array.prototype.slice.call(arguments, 1)\n        , obj = this._events[type]\n        , l = obj.length\n        , i = 0;\n\n      for (; i < l; i++) {\n        obj[i].apply(this, args);\n      }\n    };\n\n    EventEmitter.prototype.listeners = function(type) {\n      return this._events[type] = this._events[type] || [];\n    };\n\n\n    /**\n     * States\n     */\n    var normal = 0, escaped = 1, csi = 2, osc = 3, charset = 4, dcs = 5, ignore = 6;\n\n    /**\n     * Terminal\n     */\n\n    function Terminal(options) {\n      var self = this;\n\n      if (!(this instanceof Terminal)) {\n        return new Terminal(arguments[0], arguments[1], arguments[2]);\n      }\n\n      self.cancel = Terminal.cancel;\n\n      EventEmitter.call(this);\n\n      if (typeof options === 'number') {\n        options = {\n          cols: arguments[0],\n          rows: arguments[1],\n          handler: arguments[2]\n        };\n      }\n\n      options = options || {};\n\n\n      Object.keys(Terminal.defaults).forEach(function(key) {\n        if (options[key] == null) {\n          options[key] = Terminal.options[key];\n\n          if (Terminal[key] !== Terminal.defaults[key]) {\n            options[key] = Terminal[key];\n          }\n        }\n        self[key] = options[key];\n      });\n\n      if (options.colors.length === 8) {\n        options.colors = options.colors.concat(Terminal._colors.slice(8));\n      } else if (options.colors.length === 16) {\n        options.colors = options.colors.concat(Terminal._colors.slice(16));\n      } else if (options.colors.length === 10) {\n        options.colors = options.colors.slice(0, -2).concat(\n          Terminal._colors.slice(8, -2), options.colors.slice(-2));\n      } else if (options.colors.length === 18) {\n        options.colors = options.colors.concat(\n          Terminal._colors.slice(16, -2), options.colors.slice(-2));\n      }\n      this.colors = options.colors;\n\n      this.options = options;\n\n      // this.context = options.context || window;\n      // this.document = options.document || document;\n      this.parent = options.body || options.parent\n        || (document ? document.getElementsByTagName('body')[0] : null);\n\n      this.cols = options.cols || options.geometry[0];\n      this.rows = options.rows || options.geometry[1];\n\n      if (options.handler) {\n        this.on('data', options.handler);\n      }\n\n      this.ybase = 0;\n      this.ydisp = 0;\n      this.x = 0;\n      this.y = 0;\n      this.cursorState = 0;\n      this.cursorHidden = false;\n      this.convertEol;\n      this.state = 0;\n      this.queue = '';\n      this.scrollTop = 0;\n      this.scrollBottom = this.rows - 1;\n\n      // modes\n      this.applicationKeypad = false;\n      this.applicationCursor = false;\n      this.originMode = false;\n      this.insertMode = false;\n      this.wraparoundMode = false;\n      this.normal = null;\n\n      // charset\n      this.charset = null;\n      this.gcharset = null;\n      this.glevel = 0;\n      this.charsets = [null];\n\n      // mouse properties\n      this.decLocator;\n      this.x10Mouse;\n      this.vt200Mouse;\n      this.vt300Mouse;\n      this.normalMouse;\n      this.mouseEvents;\n      this.sendFocus;\n      this.utfMouse;\n      this.sgrMouse;\n      this.urxvtMouse;\n\n      // misc\n      this.element;\n      this.children;\n      this.refreshStart;\n      this.refreshEnd;\n      this.savedX;\n      this.savedY;\n      this.savedCols;\n\n      // stream\n      this.readable = true;\n      this.writable = true;\n\n      this.defAttr = (0 << 18) | (257 << 9) | (256 << 0);\n      this.curAttr = this.defAttr;\n\n      this.params = [];\n      this.currentParam = 0;\n      this.prefix = '';\n      this.postfix = '';\n\n      this.lines = [];\n      var i = this.rows;\n      while (i--) {\n        this.lines.push(this.blankLine());\n      }\n\n      this.tabs;\n      this.setupStops();\n    }\n\n    inherits(Terminal, EventEmitter);\n\n    // back_color_erase feature for xterm.\n    Terminal.prototype.eraseAttr = function() {\n      // if (this.is('screen')) return this.defAttr;\n      return (this.defAttr & ~0x1ff) | (this.curAttr & 0x1ff);\n    };\n\n    /**\n     * Colors\n     */\n\n    // Colors 0-15\n    Terminal.tangoColors = [\n      // dark:\n      '#2e3436',\n      '#cc0000',\n      '#4e9a06',\n      '#c4a000',\n      '#3465a4',\n      '#75507b',\n      '#06989a',\n      '#d3d7cf',\n      // bright:\n      '#555753',\n      '#ef2929',\n      '#8ae234',\n      '#fce94f',\n      '#729fcf',\n      '#ad7fa8',\n      '#34e2e2',\n      '#eeeeec'\n    ];\n\n    // Colors 0-15 + 16-255\n    // Much thanks to TooTallNate for writing this.\n    Terminal.colors = (function() {\n      var colors = Terminal.tangoColors.slice()\n        , r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff]\n        , i;\n\n      // 16-231\n      i = 0;\n      for (; i < 216; i++) {\n        out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);\n      }\n\n      // 232-255 (grey)\n      i = 0;\n      for (; i < 24; i++) {\n        r = 8 + i * 10;\n        out(r, r, r);\n      }\n\n      function out(r, g, b) {\n        colors.push('#' + hex(r) + hex(g) + hex(b));\n      }\n\n      function hex(c) {\n        c = c.toString(16);\n        return c.length < 2 ? '0' + c : c;\n      }\n\n      return colors;\n    })();\n\n    Terminal._colors = Terminal.colors.slice();\n\n    Terminal.vcolors = (function() {\n      var out = []\n        , colors = Terminal.colors\n        , i = 0\n        , color;\n\n      for (; i < 256; i++) {\n        color = parseInt(colors[i].substring(1), 16);\n        out.push([\n          (color >> 16) & 0xff,\n          (color >> 8) & 0xff,\n          color & 0xff\n        ]);\n      }\n\n      return out;\n    })();\n\n    /**\n     * Options\n     */\n\n    Terminal.defaults = {\n      colors: Terminal.colors,\n      theme: 'default',\n      convertEol: false,\n      termName: 'xterm',\n      geometry: [80, 24],\n      cursorBlink: false,\n      visualBell: false,\n      popOnBell: false,\n      scrollback: 1000,\n      screenKeys: false,\n      debug: false,\n      cancelEvents: false\n      // programFeatures: false,\n      // focusKeys: false,\n    };\n\n    Terminal.options = {};\n\n    Terminal.focus = null;\n\n    each(keys(Terminal.defaults), function(key) {\n      Terminal[key] = Terminal.defaults[key];\n      Terminal.options[key] = Terminal.defaults[key];\n    });\n\n    /**\n     * Focused Terminal\n     */\n    Terminal.prototype.focus = function() {\n      if (document.activeElement === this.textarea) {\n        return;\n      }\n\n      if (this.sendFocus) {\n        this.send('\\x1b[I');\n      }\n\n      this.showCursor();\n      this.textarea.focus();\n      Terminal.focus = this;\n    };\n\n    Terminal.prototype.blur = function() {\n      if (Terminal.focus !== this) {\n        return;\n      }\n\n      this.cursorState = 0;\n      this.refresh(this.y, this.y);\n      this.textarea.blur();\n\n      if (this.sendFocus) {\n        this.send('\\x1b[O');\n      }\n      Terminal.focus = null;\n    };\n\n    /**\n     * Initialize default behavior\n     */\n\n    Terminal.prototype.initGlobal = function() {\n      Terminal.bindPaste(this);\n      Terminal.bindKeys(this);\n      Terminal.bindCopy(this);\n    };\n\n    /**\n     * Bind to paste event\n     */\n    Terminal.bindPaste = function(term) {\n      on([term.textarea, term.element], 'paste', function(ev) {\n        ev.stopPropagation();\n        if (ev.clipboardData) {\n          var text = ev.clipboardData.getData('text/plain');\n          term.handler(text);\n        }\n        term.textarea.value = '';\n        return term.cancel(ev);\n      });\n    };\n\n\n    /*\n     * Apply key handling to the terminal\n     */\n    Terminal.bindKeys = function(term) {\n      on(term.element, 'keydown', function(ev) {\n        if (document.activeElement != this) {\n          return;\n        }\n        term.keyDown(ev);\n      }, true);\n\n      on(term.element, 'keypress', function(ev) {\n        if (document.activeElement != this) {\n          return;\n        }\n        term.keyPress(ev);\n      }, true);\n\n      on(term.element, 'keyup', term.focus.bind(term));\n\n      on(term.textarea, 'keydown', function(ev) {\n        term.keyDown(ev);\n      }, true);\n\n      on(term.textarea, 'keypress', function(ev) {\n        term.keyPress(ev);\n\n        /*\n        * Truncate the textarea's value, since it is not needed\n        */\n        this.value = '';\n      }, true);\n    };\n\n\n    /*\n     * Bind copy event\n     */\n    Terminal.bindCopy = function(term) {\n      on(term.element, 'copy', function(ev) {\n        return; //temporary\n      });\n    };\n\n\n    /*\n     * Insert the given row to the terminal or produce a new one\n     * if no row argument is passed. Return the inserted row.\n     */\n    Terminal.prototype.insertRow = function (row) {\n      if (typeof row != 'object') {\n        row = document.createElement('div');\n      }\n\n      this.rowContainer.appendChild(row);\n      this.children.push(row);\n\n      return row;\n    }\n\n\n    /*\n     * Open Terminal in the DOM\n     */\n    Terminal.prototype.open = function(parent) {\n      var self=this, i=0, div;\n\n      this.parent = parent || this.parent;\n\n      if (!this.parent) {\n        throw new Error('Terminal requires a parent element.');\n      }\n\n      /*\n      * Grab global elements\n      */\n      this.context = this.parent.ownerDocument.defaultView;\n      this.document = this.parent.ownerDocument;\n      this.body = this.document.getElementsByTagName('body')[0];\n\n      /*\n      * Parse User-Agent\n      */\n      if (this.context.navigator && this.context.navigator.userAgent) {\n        this.isMac = !!~this.context.navigator.userAgent.indexOf('Mac');\n        this.isIpad = !!~this.context.navigator.userAgent.indexOf('iPad');\n        this.isIphone = !!~this.context.navigator.userAgent.indexOf('iPhone');\n        this.isMSIE = !!~this.context.navigator.userAgent.indexOf('MSIE');\n      }\n\n      /*\n      * Create main element container\n      */\n      this.element = this.document.createElement('div');\n      this.element.classList.add('terminal');\n      this.element.classList.add('xterm');\n      this.element.classList.add('xterm-theme-' + this.theme);\n      this.element.setAttribute('tabindex', 0);\n\n      /*\n      * Create the container that will hold the lines of the terminal and then\n      * produce the lines the lines.\n      */\n      this.rowContainer = document.createElement('div');\n      this.rowContainer.classList.add('xterm-rows');\n      this.element.appendChild(this.rowContainer);\n      this.children = [];\n\n      /*\n      * Create the container that will hold helpers like the textarea for\n      * capturing DOM Events. Then produce the helpers.\n      */\n      this.helperContainer = document.createElement('div');\n      this.helperContainer.classList.add('xterm-helpers');\n      this.element.appendChild(this.helperContainer);\n      this.textarea = document.createElement('textarea');\n      this.textarea.classList.add('xterm-helper-textarea');\n      this.textarea.setAttribute('autocorrect', 'off');\n      this.textarea.setAttribute('autocapitalize', 'off');\n      this.textarea.setAttribute('spellcheck', 'false');\n      this.textarea.tabIndex = 0;\n      this.textarea.onfocus = function() {\n        self.emit('focus', {terminal: self});\n      }\n      this.textarea.onblur = function() {\n        self.emit('blur', {terminal: self});\n      }\n      this.helperContainer.appendChild(this.textarea);\n\n      for (; i < this.rows; i++) {\n        this.insertRow();\n      }\n      this.parent.appendChild(this.element);\n\n      // Draw the screen.\n      this.refresh(0, this.rows - 1);\n\n      // Initialize global actions that\n      // need to be taken on the document.\n      this.initGlobal();\n\n      // Ensure there is a Terminal.focus.\n      this.focus();\n\n      // Start blinking the cursor.\n      this.startBlink();\n\n      on(this.element, 'mouseup', function() {\n        var selection = document.getSelection(),\n            collapsed = selection.isCollapsed,\n            isRange = typeof collapsed == 'boolean' ? !collapsed : selection.type == 'Range';\n        if (!isRange) {\n          self.focus();\n        }\n      });\n\n      // Listen for mouse events and translate\n      // them into terminal mouse protocols.\n      this.bindMouse();\n\n      // Figure out whether boldness affects\n      // the character width of monospace fonts.\n      if (Terminal.brokenBold == null) {\n        Terminal.brokenBold = isBoldBroken(this.document);\n      }\n\n      this.emit('open');\n    };\n\n    // XTerm mouse events\n    // http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\n    // To better understand these\n    // the xterm code is very helpful:\n    // Relevant files:\n    //   button.c, charproc.c, misc.c\n    // Relevant functions in xterm/button.c:\n    //   BtnCode, EmitButtonCode, EditorButton, SendMousePosition\n    Terminal.prototype.bindMouse = function() {\n      var el = this.element\n        , self = this\n        , pressed = 32;\n\n      var wheelEvent = 'onmousewheel' in this.context\n        ? 'mousewheel'\n        : 'DOMMouseScroll';\n\n      // mouseup, mousedown, mousewheel\n      // left click: ^[[M 3<^[[M#3<\n      // mousewheel up: ^[[M`3>\n      function sendButton(ev) {\n        var button\n          , pos;\n\n        // get the xterm-style button\n        button = getButton(ev);\n\n        // get mouse coordinates\n        pos = getCoords(ev);\n        if (!pos) return;\n\n        sendEvent(button, pos);\n\n        switch (ev.type) {\n          case 'mousedown':\n            pressed = button;\n            break;\n          case 'mouseup':\n            // keep it at the left\n            // button, just in case.\n            pressed = 32;\n            break;\n          case wheelEvent:\n            // nothing. don't\n            // interfere with\n            // `pressed`.\n            break;\n        }\n      }\n\n      // motion example of a left click:\n      // ^[[M 3<^[[M@4<^[[M@5<^[[M@6<^[[M@7<^[[M#7<\n      function sendMove(ev) {\n        var button = pressed\n          , pos;\n\n        pos = getCoords(ev);\n        if (!pos) return;\n\n        // buttons marked as motions\n        // are incremented by 32\n        button += 32;\n\n        sendEvent(button, pos);\n      }\n\n      // encode button and\n      // position to characters\n      function encode(data, ch) {\n        if (!self.utfMouse) {\n          if (ch === 255) return data.push(0);\n          if (ch > 127) ch = 127;\n          data.push(ch);\n        } else {\n          if (ch === 2047) return data.push(0);\n          if (ch < 127) {\n            data.push(ch);\n          } else {\n            if (ch > 2047) ch = 2047;\n            data.push(0xC0 | (ch >> 6));\n            data.push(0x80 | (ch & 0x3F));\n          }\n        }\n      }\n\n      // send a mouse event:\n      // regular/utf8: ^[[M Cb Cx Cy\n      // urxvt: ^[[ Cb ; Cx ; Cy M\n      // sgr: ^[[ Cb ; Cx ; Cy M/m\n      // vt300: ^[[ 24(1/3/5)~ [ Cx , Cy ] \\r\n      // locator: CSI P e ; P b ; P r ; P c ; P p & w\n      function sendEvent(button, pos) {\n        // self.emit('mouse', {\n        //   x: pos.x - 32,\n        //   y: pos.x - 32,\n        //   button: button\n        // });\n\n        if (self.vt300Mouse) {\n          // NOTE: Unstable.\n          // http://www.vt100.net/docs/vt3xx-gp/chapter15.html\n          button &= 3;\n          pos.x -= 32;\n          pos.y -= 32;\n          var data = '\\x1b[24';\n          if (button === 0) data += '1';\n          else if (button === 1) data += '3';\n          else if (button === 2) data += '5';\n          else if (button === 3) return;\n          else data += '0';\n          data += '~[' + pos.x + ',' + pos.y + ']\\r';\n          self.send(data);\n          return;\n        }\n\n        if (self.decLocator) {\n          // NOTE: Unstable.\n          button &= 3;\n          pos.x -= 32;\n          pos.y -= 32;\n          if (button === 0) button = 2;\n          else if (button === 1) button = 4;\n          else if (button === 2) button = 6;\n          else if (button === 3) button = 3;\n          self.send('\\x1b['\n            + button\n            + ';'\n            + (button === 3 ? 4 : 0)\n            + ';'\n            + pos.y\n            + ';'\n            + pos.x\n            + ';'\n            + (pos.page || 0)\n            + '&w');\n          return;\n        }\n\n        if (self.urxvtMouse) {\n          pos.x -= 32;\n          pos.y -= 32;\n          pos.x++;\n          pos.y++;\n          self.send('\\x1b[' + button + ';' + pos.x + ';' + pos.y + 'M');\n          return;\n        }\n\n        if (self.sgrMouse) {\n          pos.x -= 32;\n          pos.y -= 32;\n          self.send('\\x1b[<'\n            + ((button & 3) === 3 ? button & ~3 : button)\n            + ';'\n            + pos.x\n            + ';'\n            + pos.y\n            + ((button & 3) === 3 ? 'm' : 'M'));\n          return;\n        }\n\n        var data = [];\n\n        encode(data, button);\n        encode(data, pos.x);\n        encode(data, pos.y);\n\n        self.send('\\x1b[M' + String.fromCharCode.apply(String, data));\n      }\n\n      function getButton(ev) {\n        var button\n          , shift\n          , meta\n          , ctrl\n          , mod;\n\n        // two low bits:\n        // 0 = left\n        // 1 = middle\n        // 2 = right\n        // 3 = release\n        // wheel up/down:\n        // 1, and 2 - with 64 added\n        switch (ev.type) {\n          case 'mousedown':\n            button = ev.button != null\n              ? +ev.button\n              : ev.which != null\n                ? ev.which - 1\n                : null;\n\n            if (self.isMSIE) {\n              button = button === 1 ? 0 : button === 4 ? 1 : button;\n            }\n            break;\n          case 'mouseup':\n            button = 3;\n            break;\n          case 'DOMMouseScroll':\n            button = ev.detail < 0\n              ? 64\n              : 65;\n            break;\n          case 'mousewheel':\n            button = ev.wheelDeltaY > 0\n              ? 64\n              : 65;\n            break;\n        }\n\n        // next three bits are the modifiers:\n        // 4 = shift, 8 = meta, 16 = control\n        shift = ev.shiftKey ? 4 : 0;\n        meta = ev.metaKey ? 8 : 0;\n        ctrl = ev.ctrlKey ? 16 : 0;\n        mod = shift | meta | ctrl;\n\n        // no mods\n        if (self.vt200Mouse) {\n          // ctrl only\n          mod &= ctrl;\n        } else if (!self.normalMouse) {\n          mod = 0;\n        }\n\n        // increment to SP\n        button = (32 + (mod << 2)) + button;\n\n        return button;\n      }\n\n      // mouse coordinates measured in cols/rows\n      function getCoords(ev) {\n        var x, y, w, h, el;\n\n        // ignore browsers without pageX for now\n        if (ev.pageX == null) return;\n\n        x = ev.pageX;\n        y = ev.pageY;\n        el = self.element;\n\n        // should probably check offsetParent\n        // but this is more portable\n        while (el && el !== self.document.documentElement) {\n          x -= el.offsetLeft;\n          y -= el.offsetTop;\n          el = 'offsetParent' in el\n            ? el.offsetParent\n            : el.parentNode;\n        }\n\n        // convert to cols/rows\n        w = self.element.clientWidth;\n        h = self.element.clientHeight;\n        x = Math.round((x / w) * self.cols);\n        y = Math.round((y / h) * self.rows);\n\n        // be sure to avoid sending\n        // bad positions to the program\n        if (x < 0) x = 0;\n        if (x > self.cols) x = self.cols;\n        if (y < 0) y = 0;\n        if (y > self.rows) y = self.rows;\n\n        // xterm sends raw bytes and\n        // starts at 32 (SP) for each.\n        x += 32;\n        y += 32;\n\n        return {\n          x: x,\n          y: y,\n          type: ev.type === wheelEvent\n            ? 'mousewheel'\n            : ev.type\n        };\n      }\n\n      on(el, 'mousedown', function(ev) {\n        if (!self.mouseEvents) return;\n\n        // send the button\n        sendButton(ev);\n\n        // ensure focus\n        self.focus();\n\n        // fix for odd bug\n        //if (self.vt200Mouse && !self.normalMouse) {\n        if (self.vt200Mouse) {\n          sendButton({ __proto__: ev, type: 'mouseup' });\n          return self.cancel(ev);\n        }\n\n        // bind events\n        if (self.normalMouse) on(self.document, 'mousemove', sendMove);\n\n        // x10 compatibility mode can't send button releases\n        if (!self.x10Mouse) {\n          on(self.document, 'mouseup', function up(ev) {\n            sendButton(ev);\n            if (self.normalMouse) off(self.document, 'mousemove', sendMove);\n            off(self.document, 'mouseup', up);\n            return self.cancel(ev);\n          });\n        }\n\n        return self.cancel(ev);\n      });\n\n      //if (self.normalMouse) {\n      //  on(self.document, 'mousemove', sendMove);\n      //}\n\n      on(el, wheelEvent, function(ev) {\n        if (!self.mouseEvents) return;\n        if (self.x10Mouse\n            || self.vt300Mouse\n            || self.decLocator) return;\n        sendButton(ev);\n        return self.cancel(ev);\n      });\n\n      // allow mousewheel scrolling in\n      // the shell for example\n      on(el, wheelEvent, function(ev) {\n        if (self.mouseEvents) return;\n        if (self.applicationKeypad) return;\n        if (ev.type === 'DOMMouseScroll') {\n          self.scrollDisp(ev.detail < 0 ? -1 : 1);\n        } else {\n          self.scrollDisp(ev.wheelDeltaY > 0 ? -1 : 1);\n        }\n        return self.cancel(ev);\n      });\n    };\n\n    /**\n     * Destroy Terminal\n     */\n\n    Terminal.prototype.destroy = function() {\n      this.readable = false;\n      this.writable = false;\n      this._events = {};\n      this.handler = function() {};\n      this.write = function() {};\n      if (this.element.parentNode) {\n        this.element.parentNode.removeChild(this.element);\n      }\n      //this.emit('close');\n    };\n\n\n    /*\n     * Rendering Engine\n     *\n     * In the screen buffer, each character\n     * is stored as a an array with a character\n     * and a 32-bit integer.\n     * First value: a utf-16 character.\n     * Second value:\n     * Next 9 bits: background color (0-511).\n     * Next 9 bits: foreground color (0-511).\n     * Next 14 bits: a mask for misc. flags:\n     *   1=bold, 2=underline, 4=blink, 8=inverse, 16=invisible\n    */\n    Terminal.prototype.refresh = function(start, end) {\n      var x, y, i, line, out, ch, width, data, attr, bg, fg, flags, row, parent, focused = document.activeElement;\n\n      if (end - start >= this.rows / 2) {\n        parent = this.element.parentNode;\n        if (parent) parent.removeChild(this.element);\n      }\n\n      width = this.cols;\n      y = start;\n\n      if (end >= this.lines.length) {\n        this.log('`end` is too large. Most likely a bad CSR.');\n        end = this.lines.length - 1;\n      }\n\n      for (; y <= end; y++) {\n        row = y + this.ydisp;\n\n        line = this.lines[row];\n        out = '';\n\n        if (y === this.y\n            && this.cursorState\n            && (this.ydisp === this.ybase)\n            && !this.cursorHidden) {\n          x = this.x;\n        } else {\n          x = -1;\n        }\n\n        attr = this.defAttr;\n        i = 0;\n\n        for (; i < width; i++) {\n          data = line[i][0];\n          ch = line[i][1];\n\n          if (i === x) data = -1;\n\n          if (data !== attr) {\n            if (attr !== this.defAttr) {\n              out += '</span>';\n            }\n            if (data !== this.defAttr) {\n              if (data === -1) {\n                out += '<span class=\"reverse-video terminal-cursor\">';\n              } else {\n                out += '<span class=\"';\n\n                bg = data & 0x1ff;\n                fg = (data >> 9) & 0x1ff;\n                flags = data >> 18;\n\n                // bold\n                if (flags & 1) {\n                  if (!Terminal.brokenBold) {\n                    out += ' xterm-bold ';\n                  }\n                  // See: XTerm*boldColors\n                  if (fg < 8) fg += 8;\n                }\n\n                // underline\n                if (flags & 2) {\n                  out += ' xterm-underline ';\n                }\n\n                // blink\n                if (flags & 4) {\n                    out += ' xterm-blink ';\n                }\n\n                // inverse\n                if (flags & 8) {\n                  bg = (data >> 9) & 0x1ff;\n                  fg = data & 0x1ff;\n                  // Should inverse just be before the\n                  // above boldColors effect instead?\n                  if ((flags & 1) && fg < 8) fg += 8;\n                }\n\n                // invisible\n                if (flags & 16) {\n                  out += ' xterm-hidden ';\n                }\n\n                if (bg !== 256) {\n                  out += ' xterm-bg-color-' + bg + ' ';\n                }\n\n                if (fg !== 257) {\n                  out += ' xterm-color-' + fg + ' ';\n                }\n\n                out += '\">';\n              }\n            }\n          }\n\n          switch (ch) {\n            case '&':\n              out += '&amp;';\n              break;\n            case '<':\n              out += '&lt;';\n              break;\n            case '>':\n              out += '&gt;';\n              break;\n            default:\n              if (ch <= ' ') {\n                out += '&nbsp;';\n              } else {\n                if (isWide(ch)) i++;\n                out += ch;\n              }\n              break;\n          }\n\n          attr = data;\n        }\n\n        if (attr !== this.defAttr) {\n          out += '</span>';\n        }\n\n        this.children[y].innerHTML = out;\n      }\n\n      if (parent) {\n        parent.appendChild(this.element);\n      }\n\n      /*\n      *  Return focus to previously focused element\n      */\n      focused.focus();\n      this.emit('refresh', {element: this.element, start: start, end: end});\n    };\n\n    Terminal.prototype._cursorBlink = function() {\n      if (Terminal.focus !== this) return;\n      this.cursorState ^= 1;\n      this.refresh(this.y, this.y);\n    };\n\n    Terminal.prototype.showCursor = function() {\n      if (!this.cursorState) {\n        this.cursorState = 1;\n        this.refresh(this.y, this.y);\n      } else {\n        // Temporarily disabled:\n        // this.refreshBlink();\n      }\n    };\n\n    Terminal.prototype.startBlink = function() {\n      if (!this.cursorBlink) return;\n      var self = this;\n      this._blinker = function() {\n        self._cursorBlink();\n      };\n      this._blink = setInterval(this._blinker, 500);\n    };\n\n    Terminal.prototype.refreshBlink = function() {\n      if (!this.cursorBlink) return;\n      clearInterval(this._blink);\n      this._blink = setInterval(this._blinker, 500);\n    };\n\n    Terminal.prototype.scroll = function() {\n      var row;\n\n      if (++this.ybase === this.scrollback) {\n        this.ybase = this.ybase / 2 | 0;\n        this.lines = this.lines.slice(-(this.ybase + this.rows) + 1);\n      }\n\n      this.ydisp = this.ybase;\n\n      // last line\n      row = this.ybase + this.rows - 1;\n\n      // subtract the bottom scroll region\n      row -= this.rows - 1 - this.scrollBottom;\n\n      if (row === this.lines.length) {\n        // potential optimization:\n        // pushing is faster than splicing\n        // when they amount to the same\n        // behavior.\n        this.lines.push(this.blankLine());\n      } else {\n        // add our new line\n        this.lines.splice(row, 0, this.blankLine());\n      }\n\n      if (this.scrollTop !== 0) {\n        if (this.ybase !== 0) {\n          this.ybase--;\n          this.ydisp = this.ybase;\n        }\n        this.lines.splice(this.ybase + this.scrollTop, 1);\n      }\n\n      // this.maxRange();\n      this.updateRange(this.scrollTop);\n      this.updateRange(this.scrollBottom);\n    };\n\n    Terminal.prototype.scrollDisp = function(disp) {\n      this.ydisp += disp;\n\n      if (this.ydisp > this.ybase) {\n        this.ydisp = this.ybase;\n      } else if (this.ydisp < 0) {\n        this.ydisp = 0;\n      }\n\n      this.refresh(0, this.rows - 1);\n    };\n\n    Terminal.prototype.write = function(data) {\n      var l = data.length, i = 0, j, cs, ch;\n\n      this.refreshStart = this.y;\n      this.refreshEnd = this.y;\n\n      if (this.ybase !== this.ydisp) {\n        this.ydisp = this.ybase;\n        this.maxRange();\n      }\n\n      for (; i < l; i++) {\n        ch = data[i];\n        switch (this.state) {\n          case normal:\n            switch (ch) {\n              case '\\x07':\n                this.bell();\n                break;\n\n              // '\\n', '\\v', '\\f'\n              case '\\n':\n              case '\\x0b':\n              case '\\x0c':\n                if (this.convertEol) {\n                  this.x = 0;\n                }\n                this.y++;\n                if (this.y > this.scrollBottom) {\n                  this.y--;\n                  this.scroll();\n                }\n                break;\n\n              // '\\r'\n              case '\\r':\n                this.x = 0;\n                break;\n\n              // '\\b'\n              case '\\x08':\n                if (this.x > 0) {\n                  this.x--;\n                }\n                break;\n\n              // '\\t'\n              case '\\t':\n                this.x = this.nextStop();\n                break;\n\n              // shift out\n              case '\\x0e':\n                this.setgLevel(1);\n                break;\n\n              // shift in\n              case '\\x0f':\n                this.setgLevel(0);\n                break;\n\n              // '\\e'\n              case '\\x1b':\n                this.state = escaped;\n                break;\n\n              default:\n                // ' '\n                if (ch >= ' ') {\n                  if (this.charset && this.charset[ch]) {\n                    ch = this.charset[ch];\n                  }\n\n                  if (this.x >= this.cols) {\n                    this.x = 0;\n                    this.y++;\n                    if (this.y > this.scrollBottom) {\n                      this.y--;\n                      this.scroll();\n                    }\n                  }\n\n                  this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];\n                  this.x++;\n                  this.updateRange(this.y);\n\n                  if (isWide(ch)) {\n                    j = this.y + this.ybase;\n                    if (this.cols < 2 || this.x >= this.cols) {\n                      this.lines[j][this.x - 1] = [this.curAttr, ' '];\n                      break;\n                    }\n                    this.lines[j][this.x] = [this.curAttr, ' '];\n                    this.x++;\n                  }\n                }\n                break;\n            }\n            break;\n          case escaped:\n            switch (ch) {\n              // ESC [ Control Sequence Introducer ( CSI is 0x9b).\n              case '[':\n                this.params = [];\n                this.currentParam = 0;\n                this.state = csi;\n                break;\n\n              // ESC ] Operating System Command ( OSC is 0x9d).\n              case ']':\n                this.params = [];\n                this.currentParam = 0;\n                this.state = osc;\n                break;\n\n              // ESC P Device Control String ( DCS is 0x90).\n              case 'P':\n                this.params = [];\n                this.currentParam = 0;\n                this.state = dcs;\n                break;\n\n              // ESC _ Application Program Command ( APC is 0x9f).\n              case '_':\n                this.state = ignore;\n                break;\n\n              // ESC ^ Privacy Message ( PM is 0x9e).\n              case '^':\n                this.state = ignore;\n                break;\n\n              // ESC c Full Reset (RIS).\n              case 'c':\n                this.reset();\n                break;\n\n              // ESC E Next Line ( NEL is 0x85).\n              // ESC D Index ( IND is 0x84).\n              case 'E':\n                this.x = 0;\n                ;\n              case 'D':\n                this.index();\n                break;\n\n              // ESC M Reverse Index ( RI is 0x8d).\n              case 'M':\n                this.reverseIndex();\n                break;\n\n              // ESC % Select default/utf-8 character set.\n              // @ = default, G = utf-8\n              case '%':\n                //this.charset = null;\n                this.setgLevel(0);\n                this.setgCharset(0, Terminal.charsets.US);\n                this.state = normal;\n                i++;\n                break;\n\n              // ESC (,),*,+,-,. Designate G0-G2 Character Set.\n              case '(': // <-- this seems to get all the attention\n              case ')':\n              case '*':\n              case '+':\n              case '-':\n              case '.':\n                switch (ch) {\n                  case '(':\n                    this.gcharset = 0;\n                    break;\n                  case ')':\n                    this.gcharset = 1;\n                    break;\n                  case '*':\n                    this.gcharset = 2;\n                    break;\n                  case '+':\n                    this.gcharset = 3;\n                    break;\n                  case '-':\n                    this.gcharset = 1;\n                    break;\n                  case '.':\n                    this.gcharset = 2;\n                    break;\n                }\n                this.state = charset;\n                break;\n\n              // Designate G3 Character Set (VT300).\n              // A = ISO Latin-1 Supplemental.\n              // Not implemented.\n              case '/':\n                this.gcharset = 3;\n                this.state = charset;\n                i--;\n                break;\n\n              // ESC N\n              // Single Shift Select of G2 Character Set\n              // ( SS2 is 0x8e). This affects next character only.\n              case 'N':\n                break;\n              // ESC O\n              // Single Shift Select of G3 Character Set\n              // ( SS3 is 0x8f). This affects next character only.\n              case 'O':\n                break;\n              // ESC n\n              // Invoke the G2 Character Set as GL (LS2).\n              case 'n':\n                this.setgLevel(2);\n                break;\n              // ESC o\n              // Invoke the G3 Character Set as GL (LS3).\n              case 'o':\n                this.setgLevel(3);\n                break;\n              // ESC |\n              // Invoke the G3 Character Set as GR (LS3R).\n              case '|':\n                this.setgLevel(3);\n                break;\n              // ESC }\n              // Invoke the G2 Character Set as GR (LS2R).\n              case '}':\n                this.setgLevel(2);\n                break;\n              // ESC ~\n              // Invoke the G1 Character Set as GR (LS1R).\n              case '~':\n                this.setgLevel(1);\n                break;\n\n              // ESC 7 Save Cursor (DECSC).\n              case '7':\n                this.saveCursor();\n                this.state = normal;\n                break;\n\n              // ESC 8 Restore Cursor (DECRC).\n              case '8':\n                this.restoreCursor();\n                this.state = normal;\n                break;\n\n              // ESC # 3 DEC line height/width\n              case '#':\n                this.state = normal;\n                i++;\n                break;\n\n              // ESC H Tab Set (HTS is 0x88).\n              case 'H':\n                this.tabSet();\n                break;\n\n              // ESC = Application Keypad (DECPAM).\n              case '=':\n                this.log('Serial port requested application keypad.');\n                this.applicationKeypad = true;\n                this.state = normal;\n                break;\n\n              // ESC > Normal Keypad (DECPNM).\n              case '>':\n                this.log('Switching back to normal keypad.');\n                this.applicationKeypad = false;\n                this.state = normal;\n                break;\n\n              default:\n                this.state = normal;\n                this.error('Unknown ESC control: %s.', ch);\n                break;\n            }\n            break;\n\n          case charset:\n            switch (ch) {\n              case '0': // DEC Special Character and Line Drawing Set.\n                cs = Terminal.charsets.SCLD;\n                break;\n              case 'A': // UK\n                cs = Terminal.charsets.UK;\n                break;\n              case 'B': // United States (USASCII).\n                cs = Terminal.charsets.US;\n                break;\n              case '4': // Dutch\n                cs = Terminal.charsets.Dutch;\n                break;\n              case 'C': // Finnish\n              case '5':\n                cs = Terminal.charsets.Finnish;\n                break;\n              case 'R': // French\n                cs = Terminal.charsets.French;\n                break;\n              case 'Q': // FrenchCanadian\n                cs = Terminal.charsets.FrenchCanadian;\n                break;\n              case 'K': // German\n                cs = Terminal.charsets.German;\n                break;\n              case 'Y': // Italian\n                cs = Terminal.charsets.Italian;\n                break;\n              case 'E': // NorwegianDanish\n              case '6':\n                cs = Terminal.charsets.NorwegianDanish;\n                break;\n              case 'Z': // Spanish\n                cs = Terminal.charsets.Spanish;\n                break;\n              case 'H': // Swedish\n              case '7':\n                cs = Terminal.charsets.Swedish;\n                break;\n              case '=': // Swiss\n                cs = Terminal.charsets.Swiss;\n                break;\n              case '/': // ISOLatin (actually /A)\n                cs = Terminal.charsets.ISOLatin;\n                i++;\n                break;\n              default: // Default\n                cs = Terminal.charsets.US;\n                break;\n            }\n            this.setgCharset(this.gcharset, cs);\n            this.gcharset = null;\n            this.state = normal;\n            break;\n\n          case osc:\n            // OSC Ps ; Pt ST\n            // OSC Ps ; Pt BEL\n            //   Set Text Parameters.\n            if (ch === '\\x1b' || ch === '\\x07') {\n              if (ch === '\\x1b') i++;\n\n              this.params.push(this.currentParam);\n\n              switch (this.params[0]) {\n                case 0:\n                case 1:\n                case 2:\n                  if (this.params[1]) {\n                    this.title = this.params[1];\n                    this.handleTitle(this.title);\n                  }\n                  break;\n                case 3:\n                  // set X property\n                  break;\n                case 4:\n                case 5:\n                  // change dynamic colors\n                  break;\n                case 10:\n                case 11:\n                case 12:\n                case 13:\n                case 14:\n                case 15:\n                case 16:\n                case 17:\n                case 18:\n                case 19:\n                  // change dynamic ui colors\n                  break;\n                case 46:\n                  // change log file\n                  break;\n                case 50:\n                  // dynamic font\n                  break;\n                case 51:\n                  // emacs shell\n                  break;\n                case 52:\n                  // manipulate selection data\n                  break;\n                case 104:\n                case 105:\n                case 110:\n                case 111:\n                case 112:\n                case 113:\n                case 114:\n                case 115:\n                case 116:\n                case 117:\n                case 118:\n                  // reset colors\n                  break;\n              }\n\n              this.params = [];\n              this.currentParam = 0;\n              this.state = normal;\n            } else {\n              if (!this.params.length) {\n                if (ch >= '0' && ch <= '9') {\n                  this.currentParam =\n                    this.currentParam * 10 + ch.charCodeAt(0) - 48;\n                } else if (ch === ';') {\n                  this.params.push(this.currentParam);\n                  this.currentParam = '';\n                }\n              } else {\n                this.currentParam += ch;\n              }\n            }\n            break;\n\n          case csi:\n            // '?', '>', '!'\n            if (ch === '?' || ch === '>' || ch === '!') {\n              this.prefix = ch;\n              break;\n            }\n\n            // 0 - 9\n            if (ch >= '0' && ch <= '9') {\n              this.currentParam = this.currentParam * 10 + ch.charCodeAt(0) - 48;\n              break;\n            }\n\n            // '$', '\"', ' ', '\\''\n            if (ch === '$' || ch === '\"' || ch === ' ' || ch === '\\'') {\n              this.postfix = ch;\n              break;\n            }\n\n            this.params.push(this.currentParam);\n            this.currentParam = 0;\n\n            // ';'\n            if (ch === ';') break;\n\n            this.state = normal;\n\n            switch (ch) {\n              // CSI Ps A\n              // Cursor Up Ps Times (default = 1) (CUU).\n              case 'A':\n                this.cursorUp(this.params);\n                break;\n\n              // CSI Ps B\n              // Cursor Down Ps Times (default = 1) (CUD).\n              case 'B':\n                this.cursorDown(this.params);\n                break;\n\n              // CSI Ps C\n              // Cursor Forward Ps Times (default = 1) (CUF).\n              case 'C':\n                this.cursorForward(this.params);\n                break;\n\n              // CSI Ps D\n              // Cursor Backward Ps Times (default = 1) (CUB).\n              case 'D':\n                this.cursorBackward(this.params);\n                break;\n\n              // CSI Ps ; Ps H\n              // Cursor Position [row;column] (default = [1,1]) (CUP).\n              case 'H':\n                this.cursorPos(this.params);\n                break;\n\n              // CSI Ps J  Erase in Display (ED).\n              case 'J':\n                this.eraseInDisplay(this.params);\n                break;\n\n              // CSI Ps K  Erase in Line (EL).\n              case 'K':\n                this.eraseInLine(this.params);\n                break;\n\n              // CSI Pm m  Character Attributes (SGR).\n              case 'm':\n                if (!this.prefix) {\n                  this.charAttributes(this.params);\n                }\n                break;\n\n              // CSI Ps n  Device Status Report (DSR).\n              case 'n':\n                if (!this.prefix) {\n                  this.deviceStatus(this.params);\n                }\n                break;\n\n              /**\n               * Additions\n               */\n\n              // CSI Ps @\n              // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n              case '@':\n                this.insertChars(this.params);\n                break;\n\n              // CSI Ps E\n              // Cursor Next Line Ps Times (default = 1) (CNL).\n              case 'E':\n                this.cursorNextLine(this.params);\n                break;\n\n              // CSI Ps F\n              // Cursor Preceding Line Ps Times (default = 1) (CNL).\n              case 'F':\n                this.cursorPrecedingLine(this.params);\n                break;\n\n              // CSI Ps G\n              // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n              case 'G':\n                this.cursorCharAbsolute(this.params);\n                break;\n\n              // CSI Ps L\n              // Insert Ps Line(s) (default = 1) (IL).\n              case 'L':\n                this.insertLines(this.params);\n                break;\n\n              // CSI Ps M\n              // Delete Ps Line(s) (default = 1) (DL).\n              case 'M':\n                this.deleteLines(this.params);\n                break;\n\n              // CSI Ps P\n              // Delete Ps Character(s) (default = 1) (DCH).\n              case 'P':\n                this.deleteChars(this.params);\n                break;\n\n              // CSI Ps X\n              // Erase Ps Character(s) (default = 1) (ECH).\n              case 'X':\n                this.eraseChars(this.params);\n                break;\n\n              // CSI Pm `  Character Position Absolute\n              //   [column] (default = [row,1]) (HPA).\n              case '`':\n                this.charPosAbsolute(this.params);\n                break;\n\n              // 141 61 a * HPR -\n              // Horizontal Position Relative\n              case 'a':\n                this.HPositionRelative(this.params);\n                break;\n\n              // CSI P s c\n              // Send Device Attributes (Primary DA).\n              // CSI > P s c\n              // Send Device Attributes (Secondary DA)\n              case 'c':\n                this.sendDeviceAttributes(this.params);\n                break;\n\n              // CSI Pm d\n              // Line Position Absolute  [row] (default = [1,column]) (VPA).\n              case 'd':\n                this.linePosAbsolute(this.params);\n                break;\n\n              // 145 65 e * VPR - Vertical Position Relative\n              case 'e':\n                this.VPositionRelative(this.params);\n                break;\n\n              // CSI Ps ; Ps f\n              //   Horizontal and Vertical Position [row;column] (default =\n              //   [1,1]) (HVP).\n              case 'f':\n                this.HVPosition(this.params);\n                break;\n\n              // CSI Pm h  Set Mode (SM).\n              // CSI ? Pm h - mouse escape codes, cursor escape codes\n              case 'h':\n                this.setMode(this.params);\n                break;\n\n              // CSI Pm l  Reset Mode (RM).\n              // CSI ? Pm l\n              case 'l':\n                this.resetMode(this.params);\n                break;\n\n              // CSI Ps ; Ps r\n              //   Set Scrolling Region [top;bottom] (default = full size of win-\n              //   dow) (DECSTBM).\n              // CSI ? Pm r\n              case 'r':\n                this.setScrollRegion(this.params);\n                break;\n\n              // CSI s\n              //   Save cursor (ANSI.SYS).\n              case 's':\n                this.saveCursor(this.params);\n                break;\n\n              // CSI u\n              //   Restore cursor (ANSI.SYS).\n              case 'u':\n                this.restoreCursor(this.params);\n                break;\n\n              /**\n               * Lesser Used\n               */\n\n              // CSI Ps I\n              // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n              case 'I':\n                this.cursorForwardTab(this.params);\n                break;\n\n              // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n              case 'S':\n                this.scrollUp(this.params);\n                break;\n\n              // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n              // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n              // CSI > Ps; Ps T\n              case 'T':\n                // if (this.prefix === '>') {\n                //   this.resetTitleModes(this.params);\n                //   break;\n                // }\n                // if (this.params.length > 2) {\n                //   this.initMouseTracking(this.params);\n                //   break;\n                // }\n                if (this.params.length < 2 && !this.prefix) {\n                  this.scrollDown(this.params);\n                }\n                break;\n\n              // CSI Ps Z\n              // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n              case 'Z':\n                this.cursorBackwardTab(this.params);\n                break;\n\n              // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n              case 'b':\n                this.repeatPrecedingCharacter(this.params);\n                break;\n\n              // CSI Ps g  Tab Clear (TBC).\n              case 'g':\n                this.tabClear(this.params);\n                break;\n\n              // CSI Pm i  Media Copy (MC).\n              // CSI ? Pm i\n              // case 'i':\n              //   this.mediaCopy(this.params);\n              //   break;\n\n              // CSI Pm m  Character Attributes (SGR).\n              // CSI > Ps; Ps m\n              // case 'm': // duplicate\n              //   if (this.prefix === '>') {\n              //     this.setResources(this.params);\n              //   } else {\n              //     this.charAttributes(this.params);\n              //   }\n              //   break;\n\n              // CSI Ps n  Device Status Report (DSR).\n              // CSI > Ps n\n              // case 'n': // duplicate\n              //   if (this.prefix === '>') {\n              //     this.disableModifiers(this.params);\n              //   } else {\n              //     this.deviceStatus(this.params);\n              //   }\n              //   break;\n\n              // CSI > Ps p  Set pointer mode.\n              // CSI ! p   Soft terminal reset (DECSTR).\n              // CSI Ps$ p\n              //   Request ANSI mode (DECRQM).\n              // CSI ? Ps$ p\n              //   Request DEC private mode (DECRQM).\n              // CSI Ps ; Ps \" p\n              case 'p':\n                switch (this.prefix) {\n                  // case '>':\n                  //   this.setPointerMode(this.params);\n                  //   break;\n                  case '!':\n                    this.softReset(this.params);\n                    break;\n                  // case '?':\n                  //   if (this.postfix === '$') {\n                  //     this.requestPrivateMode(this.params);\n                  //   }\n                  //   break;\n                  // default:\n                  //   if (this.postfix === '\"') {\n                  //     this.setConformanceLevel(this.params);\n                  //   } else if (this.postfix === '$') {\n                  //     this.requestAnsiMode(this.params);\n                  //   }\n                  //   break;\n                }\n                break;\n\n              // CSI Ps q  Load LEDs (DECLL).\n              // CSI Ps SP q\n              // CSI Ps \" q\n              // case 'q':\n              //   if (this.postfix === ' ') {\n              //     this.setCursorStyle(this.params);\n              //     break;\n              //   }\n              //   if (this.postfix === '\"') {\n              //     this.setCharProtectionAttr(this.params);\n              //     break;\n              //   }\n              //   this.loadLEDs(this.params);\n              //   break;\n\n              // CSI Ps ; Ps r\n              //   Set Scrolling Region [top;bottom] (default = full size of win-\n              //   dow) (DECSTBM).\n              // CSI ? Pm r\n              // CSI Pt; Pl; Pb; Pr; Ps$ r\n              // case 'r': // duplicate\n              //   if (this.prefix === '?') {\n              //     this.restorePrivateValues(this.params);\n              //   } else if (this.postfix === '$') {\n              //     this.setAttrInRectangle(this.params);\n              //   } else {\n              //     this.setScrollRegion(this.params);\n              //   }\n              //   break;\n\n              // CSI s     Save cursor (ANSI.SYS).\n              // CSI ? Pm s\n              // case 's': // duplicate\n              //   if (this.prefix === '?') {\n              //     this.savePrivateValues(this.params);\n              //   } else {\n              //     this.saveCursor(this.params);\n              //   }\n              //   break;\n\n              // CSI Ps ; Ps ; Ps t\n              // CSI Pt; Pl; Pb; Pr; Ps$ t\n              // CSI > Ps; Ps t\n              // CSI Ps SP t\n              // case 't':\n              //   if (this.postfix === '$') {\n              //     this.reverseAttrInRectangle(this.params);\n              //   } else if (this.postfix === ' ') {\n              //     this.setWarningBellVolume(this.params);\n              //   } else {\n              //     if (this.prefix === '>') {\n              //       this.setTitleModeFeature(this.params);\n              //     } else {\n              //       this.manipulateWindow(this.params);\n              //     }\n              //   }\n              //   break;\n\n              // CSI u     Restore cursor (ANSI.SYS).\n              // CSI Ps SP u\n              // case 'u': // duplicate\n              //   if (this.postfix === ' ') {\n              //     this.setMarginBellVolume(this.params);\n              //   } else {\n              //     this.restoreCursor(this.params);\n              //   }\n              //   break;\n\n              // CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n              // case 'v':\n              //   if (this.postfix === '$') {\n              //     this.copyRectagle(this.params);\n              //   }\n              //   break;\n\n              // CSI Pt ; Pl ; Pb ; Pr ' w\n              // case 'w':\n              //   if (this.postfix === '\\'') {\n              //     this.enableFilterRectangle(this.params);\n              //   }\n              //   break;\n\n              // CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n              // CSI Ps x  Select Attribute Change Extent (DECSACE).\n              // CSI Pc; Pt; Pl; Pb; Pr$ x\n              // case 'x':\n              //   if (this.postfix === '$') {\n              //     this.fillRectangle(this.params);\n              //   } else {\n              //     this.requestParameters(this.params);\n              //     //this.__(this.params);\n              //   }\n              //   break;\n\n              // CSI Ps ; Pu ' z\n              // CSI Pt; Pl; Pb; Pr$ z\n              // case 'z':\n              //   if (this.postfix === '\\'') {\n              //     this.enableLocatorReporting(this.params);\n              //   } else if (this.postfix === '$') {\n              //     this.eraseRectangle(this.params);\n              //   }\n              //   break;\n\n              // CSI Pm ' {\n              // CSI Pt; Pl; Pb; Pr$ {\n              // case '{':\n              //   if (this.postfix === '\\'') {\n              //     this.setLocatorEvents(this.params);\n              //   } else if (this.postfix === '$') {\n              //     this.selectiveEraseRectangle(this.params);\n              //   }\n              //   break;\n\n              // CSI Ps ' |\n              // case '|':\n              //   if (this.postfix === '\\'') {\n              //     this.requestLocatorPosition(this.params);\n              //   }\n              //   break;\n\n              // CSI P m SP }\n              // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n              // case '}':\n              //   if (this.postfix === ' ') {\n              //     this.insertColumns(this.params);\n              //   }\n              //   break;\n\n              // CSI P m SP ~\n              // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n              // case '~':\n              //   if (this.postfix === ' ') {\n              //     this.deleteColumns(this.params);\n              //   }\n              //   break;\n\n              default:\n                this.error('Unknown CSI code: %s.', ch);\n                break;\n            }\n\n            this.prefix = '';\n            this.postfix = '';\n            break;\n\n          case dcs:\n            if (ch === '\\x1b' || ch === '\\x07') {\n              if (ch === '\\x1b') i++;\n\n              switch (this.prefix) {\n                // User-Defined Keys (DECUDK).\n                case '':\n                  break;\n\n                // Request Status String (DECRQSS).\n                // test: echo -e '\\eP$q\"p\\e\\\\'\n                case '$q':\n                  var pt = this.currentParam\n                    , valid = false;\n\n                  switch (pt) {\n                    // DECSCA\n                    case '\"q':\n                      pt = '0\"q';\n                      break;\n\n                    // DECSCL\n                    case '\"p':\n                      pt = '61\"p';\n                      break;\n\n                    // DECSTBM\n                    case 'r':\n                      pt = ''\n                        + (this.scrollTop + 1)\n                        + ';'\n                        + (this.scrollBottom + 1)\n                        + 'r';\n                      break;\n\n                    // SGR\n                    case 'm':\n                      pt = '0m';\n                      break;\n\n                    default:\n                      this.error('Unknown DCS Pt: %s.', pt);\n                      pt = '';\n                      break;\n                  }\n\n                  this.send('\\x1bP' + +valid + '$r' + pt + '\\x1b\\\\');\n                  break;\n\n                // Set Termcap/Terminfo Data (xterm, experimental).\n                case '+p':\n                  break;\n\n                // Request Termcap/Terminfo String (xterm, experimental)\n                // Regular xterm does not even respond to this sequence.\n                // This can cause a small glitch in vim.\n                // test: echo -ne '\\eP+q6b64\\e\\\\'\n                case '+q':\n                  var pt = this.currentParam\n                    , valid = false;\n\n                  this.send('\\x1bP' + +valid + '+r' + pt + '\\x1b\\\\');\n                  break;\n\n                default:\n                  this.error('Unknown DCS prefix: %s.', this.prefix);\n                  break;\n              }\n\n              this.currentParam = 0;\n              this.prefix = '';\n              this.state = normal;\n            } else if (!this.currentParam) {\n              if (!this.prefix && ch !== '$' && ch !== '+') {\n                this.currentParam = ch;\n              } else if (this.prefix.length === 2) {\n                this.currentParam = ch;\n              } else {\n                this.prefix += ch;\n              }\n            } else {\n              this.currentParam += ch;\n            }\n            break;\n\n          case ignore:\n            // For PM and APC.\n            if (ch === '\\x1b' || ch === '\\x07') {\n              if (ch === '\\x1b') i++;\n              this.state = normal;\n            }\n            break;\n        }\n      }\n\n      this.updateRange(this.y);\n      this.refresh(this.refreshStart, this.refreshEnd);\n    };\n\n    Terminal.prototype.writeln = function(data) {\n      this.write(data + '\\r\\n');\n    };\n\n    // Key Resources:\n    // https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent\n    Terminal.prototype.keyDown = function(ev) {\n      var self = this, key;\n\n      switch (ev.keyCode) {\n        // backspace\n        case 8:\n          if (ev.shiftKey) {\n            key = '\\x08'; // ^H\n            break;\n          }\n          key = '\\x7f'; // ^?\n          break;\n        // tab\n        case 9:\n          if (ev.shiftKey) {\n            key = '\\x1b[Z';\n            break;\n          }\n          key = '\\t';\n          this.cancel(ev, true);\n          break;\n        // return/enter\n        case 13:\n          key = '\\r';\n          this.cancel(ev, true);\n          break;\n        // escape\n        case 27:\n          key = '\\x1b';\n          this.cancel(ev, true);\n          break;\n        // left-arrow\n        case 37:\n          if (ev.altKey) {\n            this.cancel(ev, true);\n            key = '\\x1bb' // Jump a word back\n            break;\n          } else if (this.applicationCursor) {\n            key = '\\x1bOD'; // SS3 as ^[O for 7-bit\n            break;\n          }\n          key = '\\x1b[D';\n          break;\n        // right-arrow\n        case 39:\n          if (ev.altKey) {\n            this.cancel(ev, true);\n            key = '\\x1bf' // Jump a word forward\n            break;\n          } else if (this.applicationCursor) {\n            key = '\\x1bOC';\n            break;\n          }\n          key = '\\x1b[C';\n          break;\n        // up-arrow\n        case 38:\n          if (this.applicationCursor) {\n            key = '\\x1bOA';\n            break;\n          }\n          if (ev.ctrlKey) {\n            this.scrollDisp(-1);\n            return this.cancel(ev);\n          } else {\n            key = '\\x1b[A';\n          }\n          break;\n        // down-arrow\n        case 40:\n          if (this.applicationCursor) {\n            key = '\\x1bOB';\n            break;\n          }\n          if (ev.ctrlKey) {\n            this.scrollDisp(1);\n            return this.cancel(ev);\n          } else {\n            key = '\\x1b[B';\n          }\n          break;\n        // delete\n        case 46:\n          key = '\\x1b[3~';\n          break;\n        // insert\n        case 45:\n          key = '\\x1b[2~';\n          break;\n        // home\n        case 36:\n          if (this.applicationKeypad) {\n            key = '\\x1bOH';\n            break;\n          }\n          key = '\\x1bOH';\n          break;\n        // end\n        case 35:\n          if (this.applicationKeypad) {\n            key = '\\x1bOF';\n            break;\n          }\n          key = '\\x1bOF';\n          break;\n        // page up\n        case 33:\n          if (ev.shiftKey) {\n            this.scrollDisp(-(this.rows - 1));\n            return this.cancel(ev);\n          } else {\n            key = '\\x1b[5~';\n          }\n          break;\n        // page down\n        case 34:\n          if (ev.shiftKey) {\n            this.scrollDisp(this.rows - 1);\n            return this.cancel(ev);\n          } else {\n            key = '\\x1b[6~';\n          }\n          break;\n        // F1\n        case 112:\n          key = '\\x1bOP';\n          break;\n        // F2\n        case 113:\n          key = '\\x1bOQ';\n          break;\n        // F3\n        case 114:\n          key = '\\x1bOR';\n          break;\n        // F4\n        case 115:\n          key = '\\x1bOS';\n          break;\n        // F5\n        case 116:\n          key = '\\x1b[15~';\n          break;\n        // F6\n        case 117:\n          key = '\\x1b[17~';\n          break;\n        // F7\n        case 118:\n          key = '\\x1b[18~';\n          break;\n        // F8\n        case 119:\n          key = '\\x1b[19~';\n          break;\n        // F9\n        case 120:\n          key = '\\x1b[20~';\n          break;\n        // F10\n        case 121:\n          key = '\\x1b[21~';\n          break;\n        // F11\n        case 122:\n          key = '\\x1b[23~';\n          break;\n        // F12\n        case 123:\n          key = '\\x1b[24~';\n          break;\n        default:\n          // a-z and space\n          if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n            if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n              key = String.fromCharCode(ev.keyCode - 64);\n            } else if (ev.keyCode === 32) {\n              // NUL\n              key = String.fromCharCode(0);\n            } else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n              // escape, file sep, group sep, record sep, unit sep\n              key = String.fromCharCode(ev.keyCode - 51 + 27);\n            } else if (ev.keyCode === 56) {\n              // delete\n              key = String.fromCharCode(127);\n            } else if (ev.keyCode === 219) {\n              // ^[ - escape\n              key = String.fromCharCode(27);\n            } else if (ev.keyCode === 221) {\n              // ^] - group sep\n              key = String.fromCharCode(29);\n            }\n          } else if ((!this.isMac && ev.altKey) || (this.isMac && ev.metaKey)) {\n            if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n              key = '\\x1b' + String.fromCharCode(ev.keyCode + 32);\n            } else if (ev.keyCode === 192) {\n              key = '\\x1b`';\n            } else if (ev.keyCode >= 48 && ev.keyCode <= 57) {\n              key = '\\x1b' + (ev.keyCode - 48);\n            }\n          }\n          break;\n      }\n\n      if (!key || (this.isMac && ev.metaKey)) {\n        return true;\n      }\n\n      this.emit('keydown', ev);\n      this.emit('key', key, ev);\n      this.showCursor();\n      this.handler(key);\n\n      return this.cancel(ev);\n    };\n\n    Terminal.prototype.setgLevel = function(g) {\n      this.glevel = g;\n      this.charset = this.charsets[g];\n    };\n\n    Terminal.prototype.setgCharset = function(g, charset) {\n      this.charsets[g] = charset;\n      if (this.glevel === g) {\n        this.charset = charset;\n      }\n    };\n\n    Terminal.prototype.keyPress = function(ev) {\n      var key;\n\n      this.cancel(ev);\n\n      if (ev.charCode) {\n        key = ev.charCode;\n      } else if (ev.which == null) {\n        key = ev.keyCode;\n      } else if (ev.which !== 0 && ev.charCode !== 0) {\n        key = ev.which;\n      } else {\n        return false;\n      }\n\n      if (!key || ev.ctrlKey || ev.altKey || ev.metaKey) {\n        return false;\n      }\n\n      key = String.fromCharCode(key);\n\n      this.emit('keypress', key, ev);\n      this.emit('key', key, ev);\n      this.showCursor();\n      this.handler(key);\n\n      return false;\n    };\n\n    Terminal.prototype.send = function(data) {\n      var self = this;\n\n      if (!this.queue) {\n        setTimeout(function() {\n          self.handler(self.queue);\n          self.queue = '';\n        }, 1);\n      }\n\n      this.queue += data;\n    };\n\n    Terminal.prototype.bell = function() {\n      if (!this.visualBell) return;\n      var self = this;\n      this.element.style.borderColor = 'white';\n      setTimeout(function() {\n        self.element.style.borderColor = '';\n      }, 10);\n      if (this.popOnBell) this.focus();\n    };\n\n    Terminal.prototype.log = function() {\n      if (!this.debug) return;\n      if (!this.context.console || !this.context.console.log) return;\n      var args = Array.prototype.slice.call(arguments);\n      this.context.console.log.apply(this.context.console, args);\n    };\n\n    Terminal.prototype.error = function() {\n      if (!this.debug) return;\n      if (!this.context.console || !this.context.console.error) return;\n      var args = Array.prototype.slice.call(arguments);\n      this.context.console.error.apply(this.context.console, args);\n    };\n\n    Terminal.prototype.resize = function(x, y) {\n      var line\n        , el\n        , i\n        , j\n        , ch;\n\n      if (x < 1) x = 1;\n      if (y < 1) y = 1;\n\n      // resize cols\n      j = this.cols;\n      if (j < x) {\n        ch = [this.defAttr, ' ']; // does xterm use the default attr?\n        i = this.lines.length;\n        while (i--) {\n          while (this.lines[i].length < x) {\n            this.lines[i].push(ch);\n          }\n        }\n      } else if (j > x) {\n        i = this.lines.length;\n        while (i--) {\n          while (this.lines[i].length > x) {\n            this.lines[i].pop();\n          }\n        }\n      }\n      this.setupStops(j);\n      this.cols = x;\n\n      // resize rows\n      j = this.rows;\n      if (j < y) {\n        el = this.element;\n        while (j++ < y) {\n          if (this.lines.length < y + this.ybase) {\n            this.lines.push(this.blankLine());\n          }\n          if (this.children.length < y) {\n            this.insertRow();\n          }\n        }\n      } else if (j > y) {\n        while (j-- > y) {\n          if (this.lines.length > y + this.ybase) {\n            this.lines.shift();\n          }\n          if (this.children.length > y) {\n            el = this.children.shift();\n            if (!el) continue;\n            el.parentNode.removeChild(el);\n          }\n        }\n      }\n      this.rows = y;\n\n      /*\n      *  Make sure that the cursor stays on screen\n      */\n      if (this.y >= y) {\n        this.y = y - 1;\n      }\n\n      if (this.x >= x) {\n        this.x = x - 1;\n      }\n\n      this.scrollTop = 0;\n      this.scrollBottom = y - 1;\n\n      this.refresh(0, this.rows - 1);\n\n      this.normal = null;\n\n      this.emit('resize', {terminal: this, cols: x, rows: y});\n    };\n\n    Terminal.prototype.updateRange = function(y) {\n      if (y < this.refreshStart) this.refreshStart = y;\n      if (y > this.refreshEnd) this.refreshEnd = y;\n      // if (y > this.refreshEnd) {\n      //   this.refreshEnd = y;\n      //   if (y > this.rows - 1) {\n      //     this.refreshEnd = this.rows - 1;\n      //   }\n      // }\n    };\n\n    Terminal.prototype.maxRange = function() {\n      this.refreshStart = 0;\n      this.refreshEnd = this.rows - 1;\n    };\n\n    Terminal.prototype.setupStops = function(i) {\n      if (i != null) {\n        if (!this.tabs[i]) {\n          i = this.prevStop(i);\n        }\n      } else {\n        this.tabs = {};\n        i = 0;\n      }\n\n      for (; i < this.cols; i += 8) {\n        this.tabs[i] = true;\n      }\n    };\n\n    Terminal.prototype.prevStop = function(x) {\n      if (x == null) x = this.x;\n      while (!this.tabs[--x] && x > 0);\n      return x >= this.cols\n        ? this.cols - 1\n        : x < 0 ? 0 : x;\n    };\n\n    Terminal.prototype.nextStop = function(x) {\n      if (x == null) x = this.x;\n      while (!this.tabs[++x] && x < this.cols);\n      return x >= this.cols\n        ? this.cols - 1\n        : x < 0 ? 0 : x;\n    };\n\n    Terminal.prototype.eraseRight = function(x, y) {\n      var line = this.lines[this.ybase + y]\n        , ch = [this.eraseAttr(), ' ']; // xterm\n\n\n      for (; x < this.cols; x++) {\n        line[x] = ch;\n      }\n\n      this.updateRange(y);\n    };\n\n    Terminal.prototype.eraseLeft = function(x, y) {\n      var line = this.lines[this.ybase + y]\n        , ch = [this.eraseAttr(), ' ']; // xterm\n\n      x++;\n      while (x--) line[x] = ch;\n\n      this.updateRange(y);\n    };\n\n    Terminal.prototype.eraseLine = function(y) {\n      this.eraseRight(0, y);\n    };\n\n    Terminal.prototype.blankLine = function(cur) {\n      var attr = cur\n        ? this.eraseAttr()\n        : this.defAttr;\n\n      var ch = [attr, ' ']\n        , line = []\n        , i = 0;\n\n      for (; i < this.cols; i++) {\n        line[i] = ch;\n      }\n\n      return line;\n    };\n\n    Terminal.prototype.ch = function(cur) {\n      return cur\n        ? [this.eraseAttr(), ' ']\n        : [this.defAttr, ' '];\n    };\n\n    Terminal.prototype.is = function(term) {\n      var name = this.termName;\n      return (name + '').indexOf(term) === 0;\n    };\n\n    Terminal.prototype.handler = function(data) {\n      this.emit('data', data);\n    };\n\n    Terminal.prototype.handleTitle = function(title) {\n      this.emit('title', title);\n    };\n\n    /**\n     * ESC\n     */\n\n    // ESC D Index (IND is 0x84).\n    Terminal.prototype.index = function() {\n      this.y++;\n      if (this.y > this.scrollBottom) {\n        this.y--;\n        this.scroll();\n      }\n      this.state = normal;\n    };\n\n    // ESC M Reverse Index (RI is 0x8d).\n    Terminal.prototype.reverseIndex = function() {\n      var j;\n      this.y--;\n      if (this.y < this.scrollTop) {\n        this.y++;\n        // possibly move the code below to term.reverseScroll();\n        // test: echo -ne '\\e[1;1H\\e[44m\\eM\\e[0m'\n        // blankLine(true) is xterm/linux behavior\n        this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));\n        j = this.rows - 1 - this.scrollBottom;\n        this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);\n        // this.maxRange();\n        this.updateRange(this.scrollTop);\n        this.updateRange(this.scrollBottom);\n      }\n      this.state = normal;\n    };\n\n    // ESC c Full Reset (RIS).\n    Terminal.prototype.reset = function() {\n      this.options.rows = this.rows;\n      this.options.cols = this.cols;\n      Terminal.call(this, this.options);\n      this.refresh(0, this.rows - 1);\n    };\n\n    // ESC H Tab Set (HTS is 0x88).\n    Terminal.prototype.tabSet = function() {\n      this.tabs[this.x] = true;\n      this.state = normal;\n    };\n\n    /**\n     * CSI\n     */\n\n    // CSI Ps A\n    // Cursor Up Ps Times (default = 1) (CUU).\n    Terminal.prototype.cursorUp = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.y -= param;\n      if (this.y < 0) this.y = 0;\n    };\n\n    // CSI Ps B\n    // Cursor Down Ps Times (default = 1) (CUD).\n    Terminal.prototype.cursorDown = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.y += param;\n      if (this.y >= this.rows) {\n        this.y = this.rows - 1;\n      }\n    };\n\n    // CSI Ps C\n    // Cursor Forward Ps Times (default = 1) (CUF).\n    Terminal.prototype.cursorForward = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.x += param;\n      if (this.x >= this.cols) {\n        this.x = this.cols - 1;\n      }\n    };\n\n    // CSI Ps D\n    // Cursor Backward Ps Times (default = 1) (CUB).\n    Terminal.prototype.cursorBackward = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.x -= param;\n      if (this.x < 0) this.x = 0;\n    };\n\n    // CSI Ps ; Ps H\n    // Cursor Position [row;column] (default = [1,1]) (CUP).\n    Terminal.prototype.cursorPos = function(params) {\n      var row, col;\n\n      row = params[0] - 1;\n\n      if (params.length >= 2) {\n        col = params[1] - 1;\n      } else {\n        col = 0;\n      }\n\n      if (row < 0) {\n        row = 0;\n      } else if (row >= this.rows) {\n        row = this.rows - 1;\n      }\n\n      if (col < 0) {\n        col = 0;\n      } else if (col >= this.cols) {\n        col = this.cols - 1;\n      }\n\n      this.x = col;\n      this.y = row;\n    };\n\n    // CSI Ps J  Erase in Display (ED).\n    //     Ps = 0  -> Erase Below (default).\n    //     Ps = 1  -> Erase Above.\n    //     Ps = 2  -> Erase All.\n    //     Ps = 3  -> Erase Saved Lines (xterm).\n    // CSI ? Ps J\n    //   Erase in Display (DECSED).\n    //     Ps = 0  -> Selective Erase Below (default).\n    //     Ps = 1  -> Selective Erase Above.\n    //     Ps = 2  -> Selective Erase All.\n    Terminal.prototype.eraseInDisplay = function(params) {\n      var j;\n      switch (params[0]) {\n        case 0:\n          this.eraseRight(this.x, this.y);\n          j = this.y + 1;\n          for (; j < this.rows; j++) {\n            this.eraseLine(j);\n          }\n          break;\n        case 1:\n          this.eraseLeft(this.x, this.y);\n          j = this.y;\n          while (j--) {\n            this.eraseLine(j);\n          }\n          break;\n        case 2:\n          j = this.rows;\n          while (j--) this.eraseLine(j);\n          break;\n        case 3:\n          ; // no saved lines\n          break;\n      }\n    };\n\n    // CSI Ps K  Erase in Line (EL).\n    //     Ps = 0  -> Erase to Right (default).\n    //     Ps = 1  -> Erase to Left.\n    //     Ps = 2  -> Erase All.\n    // CSI ? Ps K\n    //   Erase in Line (DECSEL).\n    //     Ps = 0  -> Selective Erase to Right (default).\n    //     Ps = 1  -> Selective Erase to Left.\n    //     Ps = 2  -> Selective Erase All.\n    Terminal.prototype.eraseInLine = function(params) {\n      switch (params[0]) {\n        case 0:\n          this.eraseRight(this.x, this.y);\n          break;\n        case 1:\n          this.eraseLeft(this.x, this.y);\n          break;\n        case 2:\n          this.eraseLine(this.y);\n          break;\n      }\n    };\n\n    // CSI Pm m  Character Attributes (SGR).\n    //     Ps = 0  -> Normal (default).\n    //     Ps = 1  -> Bold.\n    //     Ps = 4  -> Underlined.\n    //     Ps = 5  -> Blink (appears as Bold).\n    //     Ps = 7  -> Inverse.\n    //     Ps = 8  -> Invisible, i.e., hidden (VT300).\n    //     Ps = 2 2  -> Normal (neither bold nor faint).\n    //     Ps = 2 4  -> Not underlined.\n    //     Ps = 2 5  -> Steady (not blinking).\n    //     Ps = 2 7  -> Positive (not inverse).\n    //     Ps = 2 8  -> Visible, i.e., not hidden (VT300).\n    //     Ps = 3 0  -> Set foreground color to Black.\n    //     Ps = 3 1  -> Set foreground color to Red.\n    //     Ps = 3 2  -> Set foreground color to Green.\n    //     Ps = 3 3  -> Set foreground color to Yellow.\n    //     Ps = 3 4  -> Set foreground color to Blue.\n    //     Ps = 3 5  -> Set foreground color to Magenta.\n    //     Ps = 3 6  -> Set foreground color to Cyan.\n    //     Ps = 3 7  -> Set foreground color to White.\n    //     Ps = 3 9  -> Set foreground color to default (original).\n    //     Ps = 4 0  -> Set background color to Black.\n    //     Ps = 4 1  -> Set background color to Red.\n    //     Ps = 4 2  -> Set background color to Green.\n    //     Ps = 4 3  -> Set background color to Yellow.\n    //     Ps = 4 4  -> Set background color to Blue.\n    //     Ps = 4 5  -> Set background color to Magenta.\n    //     Ps = 4 6  -> Set background color to Cyan.\n    //     Ps = 4 7  -> Set background color to White.\n    //     Ps = 4 9  -> Set background color to default (original).\n\n    //   If 16-color support is compiled, the following apply.  Assume\n    //   that xterm's resources are set so that the ISO color codes are\n    //   the first 8 of a set of 16.  Then the aixterm colors are the\n    //   bright versions of the ISO colors:\n    //     Ps = 9 0  -> Set foreground color to Black.\n    //     Ps = 9 1  -> Set foreground color to Red.\n    //     Ps = 9 2  -> Set foreground color to Green.\n    //     Ps = 9 3  -> Set foreground color to Yellow.\n    //     Ps = 9 4  -> Set foreground color to Blue.\n    //     Ps = 9 5  -> Set foreground color to Magenta.\n    //     Ps = 9 6  -> Set foreground color to Cyan.\n    //     Ps = 9 7  -> Set foreground color to White.\n    //     Ps = 1 0 0  -> Set background color to Black.\n    //     Ps = 1 0 1  -> Set background color to Red.\n    //     Ps = 1 0 2  -> Set background color to Green.\n    //     Ps = 1 0 3  -> Set background color to Yellow.\n    //     Ps = 1 0 4  -> Set background color to Blue.\n    //     Ps = 1 0 5  -> Set background color to Magenta.\n    //     Ps = 1 0 6  -> Set background color to Cyan.\n    //     Ps = 1 0 7  -> Set background color to White.\n\n    //   If xterm is compiled with the 16-color support disabled, it\n    //   supports the following, from rxvt:\n    //     Ps = 1 0 0  -> Set foreground and background color to\n    //     default.\n\n    //   If 88- or 256-color support is compiled, the following apply.\n    //     Ps = 3 8  ; 5  ; Ps -> Set foreground color to the second\n    //     Ps.\n    //     Ps = 4 8  ; 5  ; Ps -> Set background color to the second\n    //     Ps.\n    Terminal.prototype.charAttributes = function(params) {\n      // Optimize a single SGR0.\n      if (params.length === 1 && params[0] === 0) {\n        this.curAttr = this.defAttr;\n        return;\n      }\n\n      var l = params.length\n        , i = 0\n        , flags = this.curAttr >> 18\n        , fg = (this.curAttr >> 9) & 0x1ff\n        , bg = this.curAttr & 0x1ff\n        , p;\n\n      for (; i < l; i++) {\n        p = params[i];\n        if (p >= 30 && p <= 37) {\n          // fg color 8\n          fg = p - 30;\n        } else if (p >= 40 && p <= 47) {\n          // bg color 8\n          bg = p - 40;\n        } else if (p >= 90 && p <= 97) {\n          // fg color 16\n          p += 8;\n          fg = p - 90;\n        } else if (p >= 100 && p <= 107) {\n          // bg color 16\n          p += 8;\n          bg = p - 100;\n        } else if (p === 0) {\n          // default\n          flags = this.defAttr >> 18;\n          fg = (this.defAttr >> 9) & 0x1ff;\n          bg = this.defAttr & 0x1ff;\n          // flags = 0;\n          // fg = 0x1ff;\n          // bg = 0x1ff;\n        } else if (p === 1) {\n          // bold text\n          flags |= 1;\n        } else if (p === 4) {\n          // underlined text\n          flags |= 2;\n        } else if (p === 5) {\n          // blink\n          flags |= 4;\n        } else if (p === 7) {\n          // inverse and positive\n          // test with: echo -e '\\e[31m\\e[42mhello\\e[7mworld\\e[27mhi\\e[m'\n          flags |= 8;\n        } else if (p === 8) {\n          // invisible\n          flags |= 16;\n        } else if (p === 22) {\n          // not bold\n          flags &= ~1;\n        } else if (p === 24) {\n          // not underlined\n          flags &= ~2;\n        } else if (p === 25) {\n          // not blink\n          flags &= ~4;\n        } else if (p === 27) {\n          // not inverse\n          flags &= ~8;\n        } else if (p === 28) {\n          // not invisible\n          flags &= ~16;\n        } else if (p === 39) {\n          // reset fg\n          fg = (this.defAttr >> 9) & 0x1ff;\n        } else if (p === 49) {\n          // reset bg\n          bg = this.defAttr & 0x1ff;\n        } else if (p === 38) {\n          // fg color 256\n          if (params[i + 1] === 2) {\n            i += 2;\n            fg = matchColor(\n              params[i] & 0xff,\n              params[i + 1] & 0xff,\n              params[i + 2] & 0xff);\n            if (fg === -1) fg = 0x1ff;\n            i += 2;\n          } else if (params[i + 1] === 5) {\n            i += 2;\n            p = params[i] & 0xff;\n            fg = p;\n          }\n        } else if (p === 48) {\n          // bg color 256\n          if (params[i + 1] === 2) {\n            i += 2;\n            bg = matchColor(\n              params[i] & 0xff,\n              params[i + 1] & 0xff,\n              params[i + 2] & 0xff);\n            if (bg === -1) bg = 0x1ff;\n            i += 2;\n          } else if (params[i + 1] === 5) {\n            i += 2;\n            p = params[i] & 0xff;\n            bg = p;\n          }\n        } else if (p === 100) {\n          // reset fg/bg\n          fg = (this.defAttr >> 9) & 0x1ff;\n          bg = this.defAttr & 0x1ff;\n        } else {\n          this.error('Unknown SGR attribute: %d.', p);\n        }\n      }\n\n      this.curAttr = (flags << 18) | (fg << 9) | bg;\n    };\n\n    // CSI Ps n  Device Status Report (DSR).\n    //     Ps = 5  -> Status Report.  Result (``OK'') is\n    //   CSI 0 n\n    //     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n    //   Result is\n    //   CSI r ; c R\n    // CSI ? Ps n\n    //   Device Status Report (DSR, DEC-specific).\n    //     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n    //     ? r ; c R (assumes page is zero).\n    //     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n    //     or CSI ? 1 1  n  (not ready).\n    //     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n    //     or CSI ? 2 1  n  (locked).\n    //     Ps = 2 6  -> Report Keyboard status as\n    //   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n    //   The last two parameters apply to VT400 & up, and denote key-\n    //   board ready and LK01 respectively.\n    //     Ps = 5 3  -> Report Locator status as\n    //   CSI ? 5 3  n  Locator available, if compiled-in, or\n    //   CSI ? 5 0  n  No Locator, if not.\n    Terminal.prototype.deviceStatus = function(params) {\n      if (!this.prefix) {\n        switch (params[0]) {\n          case 5:\n            // status report\n            this.send('\\x1b[0n');\n            break;\n          case 6:\n            // cursor position\n            this.send('\\x1b['\n              + (this.y + 1)\n              + ';'\n              + (this.x + 1)\n              + 'R');\n            break;\n        }\n      } else if (this.prefix === '?') {\n        // modern xterm doesnt seem to\n        // respond to any of these except ?6, 6, and 5\n        switch (params[0]) {\n          case 6:\n            // cursor position\n            this.send('\\x1b[?'\n              + (this.y + 1)\n              + ';'\n              + (this.x + 1)\n              + 'R');\n            break;\n          case 15:\n            // no printer\n            // this.send('\\x1b[?11n');\n            break;\n          case 25:\n            // dont support user defined keys\n            // this.send('\\x1b[?21n');\n            break;\n          case 26:\n            // north american keyboard\n            // this.send('\\x1b[?27;1;0;0n');\n            break;\n          case 53:\n            // no dec locator/mouse\n            // this.send('\\x1b[?50n');\n            break;\n        }\n      }\n    };\n\n    /**\n     * Additions\n     */\n\n    // CSI Ps @\n    // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n    Terminal.prototype.insertChars = function(params) {\n      var param, row, j, ch;\n\n      param = params[0];\n      if (param < 1) param = 1;\n\n      row = this.y + this.ybase;\n      j = this.x;\n      ch = [this.eraseAttr(), ' ']; // xterm\n\n      while (param-- && j < this.cols) {\n        this.lines[row].splice(j++, 0, ch);\n        this.lines[row].pop();\n      }\n    };\n\n    // CSI Ps E\n    // Cursor Next Line Ps Times (default = 1) (CNL).\n    // same as CSI Ps B ?\n    Terminal.prototype.cursorNextLine = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.y += param;\n      if (this.y >= this.rows) {\n        this.y = this.rows - 1;\n      }\n      this.x = 0;\n    };\n\n    // CSI Ps F\n    // Cursor Preceding Line Ps Times (default = 1) (CNL).\n    // reuse CSI Ps A ?\n    Terminal.prototype.cursorPrecedingLine = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.y -= param;\n      if (this.y < 0) this.y = 0;\n      this.x = 0;\n    };\n\n    // CSI Ps G\n    // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n    Terminal.prototype.cursorCharAbsolute = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.x = param - 1;\n    };\n\n    // CSI Ps L\n    // Insert Ps Line(s) (default = 1) (IL).\n    Terminal.prototype.insertLines = function(params) {\n      var param, row, j;\n\n      param = params[0];\n      if (param < 1) param = 1;\n      row = this.y + this.ybase;\n\n      j = this.rows - 1 - this.scrollBottom;\n      j = this.rows - 1 + this.ybase - j + 1;\n\n      while (param--) {\n        // test: echo -e '\\e[44m\\e[1L\\e[0m'\n        // blankLine(true) - xterm/linux behavior\n        this.lines.splice(row, 0, this.blankLine(true));\n        this.lines.splice(j, 1);\n      }\n\n      // this.maxRange();\n      this.updateRange(this.y);\n      this.updateRange(this.scrollBottom);\n    };\n\n    // CSI Ps M\n    // Delete Ps Line(s) (default = 1) (DL).\n    Terminal.prototype.deleteLines = function(params) {\n      var param, row, j;\n\n      param = params[0];\n      if (param < 1) param = 1;\n      row = this.y + this.ybase;\n\n      j = this.rows - 1 - this.scrollBottom;\n      j = this.rows - 1 + this.ybase - j;\n\n      while (param--) {\n        // test: echo -e '\\e[44m\\e[1M\\e[0m'\n        // blankLine(true) - xterm/linux behavior\n        this.lines.splice(j + 1, 0, this.blankLine(true));\n        this.lines.splice(row, 1);\n      }\n\n      // this.maxRange();\n      this.updateRange(this.y);\n      this.updateRange(this.scrollBottom);\n    };\n\n    // CSI Ps P\n    // Delete Ps Character(s) (default = 1) (DCH).\n    Terminal.prototype.deleteChars = function(params) {\n      var param, row, ch;\n\n      param = params[0];\n      if (param < 1) param = 1;\n\n      row = this.y + this.ybase;\n      ch = [this.eraseAttr(), ' ']; // xterm\n\n      while (param--) {\n        this.lines[row].splice(this.x, 1);\n        this.lines[row].push(ch);\n      }\n    };\n\n    // CSI Ps X\n    // Erase Ps Character(s) (default = 1) (ECH).\n    Terminal.prototype.eraseChars = function(params) {\n      var param, row, j, ch;\n\n      param = params[0];\n      if (param < 1) param = 1;\n\n      row = this.y + this.ybase;\n      j = this.x;\n      ch = [this.eraseAttr(), ' ']; // xterm\n\n      while (param-- && j < this.cols) {\n        this.lines[row][j++] = ch;\n      }\n    };\n\n    // CSI Pm `  Character Position Absolute\n    //   [column] (default = [row,1]) (HPA).\n    Terminal.prototype.charPosAbsolute = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.x = param - 1;\n      if (this.x >= this.cols) {\n        this.x = this.cols - 1;\n      }\n    };\n\n    // 141 61 a * HPR -\n    // Horizontal Position Relative\n    // reuse CSI Ps C ?\n    Terminal.prototype.HPositionRelative = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.x += param;\n      if (this.x >= this.cols) {\n        this.x = this.cols - 1;\n      }\n    };\n\n    // CSI Ps c  Send Device Attributes (Primary DA).\n    //     Ps = 0  or omitted -> request attributes from terminal.  The\n    //     response depends on the decTerminalID resource setting.\n    //     -> CSI ? 1 ; 2 c  (``VT100 with Advanced Video Option'')\n    //     -> CSI ? 1 ; 0 c  (``VT101 with No Options'')\n    //     -> CSI ? 6 c  (``VT102'')\n    //     -> CSI ? 6 0 ; 1 ; 2 ; 6 ; 8 ; 9 ; 1 5 ; c  (``VT220'')\n    //   The VT100-style response parameters do not mean anything by\n    //   themselves.  VT220 parameters do, telling the host what fea-\n    //   tures the terminal supports:\n    //     Ps = 1  -> 132-columns.\n    //     Ps = 2  -> Printer.\n    //     Ps = 6  -> Selective erase.\n    //     Ps = 8  -> User-defined keys.\n    //     Ps = 9  -> National replacement character sets.\n    //     Ps = 1 5  -> Technical characters.\n    //     Ps = 2 2  -> ANSI color, e.g., VT525.\n    //     Ps = 2 9  -> ANSI text locator (i.e., DEC Locator mode).\n    // CSI > Ps c\n    //   Send Device Attributes (Secondary DA).\n    //     Ps = 0  or omitted -> request the terminal's identification\n    //     code.  The response depends on the decTerminalID resource set-\n    //     ting.  It should apply only to VT220 and up, but xterm extends\n    //     this to VT100.\n    //     -> CSI  > Pp ; Pv ; Pc c\n    //   where Pp denotes the terminal type\n    //     Pp = 0  -> ``VT100''.\n    //     Pp = 1  -> ``VT220''.\n    //   and Pv is the firmware version (for xterm, this was originally\n    //   the XFree86 patch number, starting with 95).  In a DEC termi-\n    //   nal, Pc indicates the ROM cartridge registration number and is\n    //   always zero.\n    // More information:\n    //   xterm/charproc.c - line 2012, for more information.\n    //   vim responds with ^[[?0c or ^[[?1c after the terminal's response (?)\n    Terminal.prototype.sendDeviceAttributes = function(params) {\n      if (params[0] > 0) return;\n\n      if (!this.prefix) {\n        if (this.is('xterm')\n            || this.is('rxvt-unicode')\n            || this.is('screen')) {\n          this.send('\\x1b[?1;2c');\n        } else if (this.is('linux')) {\n          this.send('\\x1b[?6c');\n        }\n      } else if (this.prefix === '>') {\n        // xterm and urxvt\n        // seem to spit this\n        // out around ~370 times (?).\n        if (this.is('xterm')) {\n          this.send('\\x1b[>0;276;0c');\n        } else if (this.is('rxvt-unicode')) {\n          this.send('\\x1b[>85;95;0c');\n        } else if (this.is('linux')) {\n          // not supported by linux console.\n          // linux console echoes parameters.\n          this.send(params[0] + 'c');\n        } else if (this.is('screen')) {\n          this.send('\\x1b[>83;40003;0c');\n        }\n      }\n    };\n\n    // CSI Pm d\n    // Line Position Absolute  [row] (default = [1,column]) (VPA).\n    Terminal.prototype.linePosAbsolute = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.y = param - 1;\n      if (this.y >= this.rows) {\n        this.y = this.rows - 1;\n      }\n    };\n\n    // 145 65 e * VPR - Vertical Position Relative\n    // reuse CSI Ps B ?\n    Terminal.prototype.VPositionRelative = function(params) {\n      var param = params[0];\n      if (param < 1) param = 1;\n      this.y += param;\n      if (this.y >= this.rows) {\n        this.y = this.rows - 1;\n      }\n    };\n\n    // CSI Ps ; Ps f\n    //   Horizontal and Vertical Position [row;column] (default =\n    //   [1,1]) (HVP).\n    Terminal.prototype.HVPosition = function(params) {\n      if (params[0] < 1) params[0] = 1;\n      if (params[1] < 1) params[1] = 1;\n\n      this.y = params[0] - 1;\n      if (this.y >= this.rows) {\n        this.y = this.rows - 1;\n      }\n\n      this.x = params[1] - 1;\n      if (this.x >= this.cols) {\n        this.x = this.cols - 1;\n      }\n    };\n\n    // CSI Pm h  Set Mode (SM).\n    //     Ps = 2  -> Keyboard Action Mode (AM).\n    //     Ps = 4  -> Insert Mode (IRM).\n    //     Ps = 1 2  -> Send/receive (SRM).\n    //     Ps = 2 0  -> Automatic Newline (LNM).\n    // CSI ? Pm h\n    //   DEC Private Mode Set (DECSET).\n    //     Ps = 1  -> Application Cursor Keys (DECCKM).\n    //     Ps = 2  -> Designate USASCII for character sets G0-G3\n    //     (DECANM), and set VT100 mode.\n    //     Ps = 3  -> 132 Column Mode (DECCOLM).\n    //     Ps = 4  -> Smooth (Slow) Scroll (DECSCLM).\n    //     Ps = 5  -> Reverse Video (DECSCNM).\n    //     Ps = 6  -> Origin Mode (DECOM).\n    //     Ps = 7  -> Wraparound Mode (DECAWM).\n    //     Ps = 8  -> Auto-repeat Keys (DECARM).\n    //     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n    //     tion Mouse Tracking.\n    //     Ps = 1 0  -> Show toolbar (rxvt).\n    //     Ps = 1 2  -> Start Blinking Cursor (att610).\n    //     Ps = 1 8  -> Print form feed (DECPFF).\n    //     Ps = 1 9  -> Set print extent to full screen (DECPEX).\n    //     Ps = 2 5  -> Show Cursor (DECTCEM).\n    //     Ps = 3 0  -> Show scrollbar (rxvt).\n    //     Ps = 3 5  -> Enable font-shifting functions (rxvt).\n    //     Ps = 3 8  -> Enter Tektronix Mode (DECTEK).\n    //     Ps = 4 0  -> Allow 80 -> 132 Mode.\n    //     Ps = 4 1  -> more(1) fix (see curses resource).\n    //     Ps = 4 2  -> Enable Nation Replacement Character sets (DECN-\n    //     RCM).\n    //     Ps = 4 4  -> Turn On Margin Bell.\n    //     Ps = 4 5  -> Reverse-wraparound Mode.\n    //     Ps = 4 6  -> Start Logging.  This is normally disabled by a\n    //     compile-time option.\n    //     Ps = 4 7  -> Use Alternate Screen Buffer.  (This may be dis-\n    //     abled by the titeInhibit resource).\n    //     Ps = 6 6  -> Application keypad (DECNKM).\n    //     Ps = 6 7  -> Backarrow key sends backspace (DECBKM).\n    //     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n    //     release.  See the section Mouse Tracking.\n    //     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n    //     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n    //     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n    //     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n    //     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n    //     Ps = 1 0 1 0  -> Scroll to bottom on tty output (rxvt).\n    //     Ps = 1 0 1 1  -> Scroll to bottom on key press (rxvt).\n    //     Ps = 1 0 3 4  -> Interpret \"meta\" key, sets eighth bit.\n    //     (enables the eightBitInput resource).\n    //     Ps = 1 0 3 5  -> Enable special modifiers for Alt and Num-\n    //     Lock keys.  (This enables the numLock resource).\n    //     Ps = 1 0 3 6  -> Send ESC   when Meta modifies a key.  (This\n    //     enables the metaSendsEscape resource).\n    //     Ps = 1 0 3 7  -> Send DEL from the editing-keypad Delete\n    //     key.\n    //     Ps = 1 0 3 9  -> Send ESC  when Alt modifies a key.  (This\n    //     enables the altSendsEscape resource).\n    //     Ps = 1 0 4 0  -> Keep selection even if not highlighted.\n    //     (This enables the keepSelection resource).\n    //     Ps = 1 0 4 1  -> Use the CLIPBOARD selection.  (This enables\n    //     the selectToClipboard resource).\n    //     Ps = 1 0 4 2  -> Enable Urgency window manager hint when\n    //     Control-G is received.  (This enables the bellIsUrgent\n    //     resource).\n    //     Ps = 1 0 4 3  -> Enable raising of the window when Control-G\n    //     is received.  (enables the popOnBell resource).\n    //     Ps = 1 0 4 7  -> Use Alternate Screen Buffer.  (This may be\n    //     disabled by the titeInhibit resource).\n    //     Ps = 1 0 4 8  -> Save cursor as in DECSC.  (This may be dis-\n    //     abled by the titeInhibit resource).\n    //     Ps = 1 0 4 9  -> Save cursor as in DECSC and use Alternate\n    //     Screen Buffer, clearing it first.  (This may be disabled by\n    //     the titeInhibit resource).  This combines the effects of the 1\n    //     0 4 7  and 1 0 4 8  modes.  Use this with terminfo-based\n    //     applications rather than the 4 7  mode.\n    //     Ps = 1 0 5 0  -> Set terminfo/termcap function-key mode.\n    //     Ps = 1 0 5 1  -> Set Sun function-key mode.\n    //     Ps = 1 0 5 2  -> Set HP function-key mode.\n    //     Ps = 1 0 5 3  -> Set SCO function-key mode.\n    //     Ps = 1 0 6 0  -> Set legacy keyboard emulation (X11R6).\n    //     Ps = 1 0 6 1  -> Set VT220 keyboard emulation.\n    //     Ps = 2 0 0 4  -> Set bracketed paste mode.\n    // Modes:\n    //   http://vt100.net/docs/vt220-rm/chapter4.html\n    Terminal.prototype.setMode = function(params) {\n      if (typeof params === 'object') {\n        var l = params.length\n          , i = 0;\n\n        for (; i < l; i++) {\n          this.setMode(params[i]);\n        }\n\n        return;\n      }\n\n      if (!this.prefix) {\n        switch (params) {\n          case 4:\n            this.insertMode = true;\n            break;\n          case 20:\n            //this.convertEol = true;\n            break;\n        }\n      } else if (this.prefix === '?') {\n        switch (params) {\n          case 1:\n            this.applicationCursor = true;\n            break;\n          case 2:\n            this.setgCharset(0, Terminal.charsets.US);\n            this.setgCharset(1, Terminal.charsets.US);\n            this.setgCharset(2, Terminal.charsets.US);\n            this.setgCharset(3, Terminal.charsets.US);\n            // set VT100 mode here\n            break;\n          case 3: // 132 col mode\n            this.savedCols = this.cols;\n            this.resize(132, this.rows);\n            break;\n          case 6:\n            this.originMode = true;\n            break;\n          case 7:\n            this.wraparoundMode = true;\n            break;\n          case 12:\n            // this.cursorBlink = true;\n            break;\n          case 66:\n            this.log('Serial port requested application keypad.');\n            this.applicationKeypad = true;\n            break;\n          case 9: // X10 Mouse\n            // no release, no motion, no wheel, no modifiers.\n          case 1000: // vt200 mouse\n            // no motion.\n            // no modifiers, except control on the wheel.\n          case 1002: // button event mouse\n          case 1003: // any event mouse\n            // any event - sends motion events,\n            // even if there is no button held down.\n            this.x10Mouse = params === 9;\n            this.vt200Mouse = params === 1000;\n            this.normalMouse = params > 1000;\n            this.mouseEvents = true;\n            this.element.style.cursor = 'default';\n            this.log('Binding to mouse events.');\n            break;\n          case 1004: // send focusin/focusout events\n            // focusin: ^[[I\n            // focusout: ^[[O\n            this.sendFocus = true;\n            break;\n          case 1005: // utf8 ext mode mouse\n            this.utfMouse = true;\n            // for wide terminals\n            // simply encodes large values as utf8 characters\n            break;\n          case 1006: // sgr ext mode mouse\n            this.sgrMouse = true;\n            // for wide terminals\n            // does not add 32 to fields\n            // press: ^[[<b;x;yM\n            // release: ^[[<b;x;ym\n            break;\n          case 1015: // urxvt ext mode mouse\n            this.urxvtMouse = true;\n            // for wide terminals\n            // numbers for fields\n            // press: ^[[b;x;yM\n            // motion: ^[[b;x;yT\n            break;\n          case 25: // show cursor\n            this.cursorHidden = false;\n            break;\n          case 1049: // alt screen buffer cursor\n            //this.saveCursor();\n            ; // FALL-THROUGH\n          case 47: // alt screen buffer\n          case 1047: // alt screen buffer\n            if (!this.normal) {\n              var normal = {\n                lines: this.lines,\n                ybase: this.ybase,\n                ydisp: this.ydisp,\n                x: this.x,\n                y: this.y,\n                scrollTop: this.scrollTop,\n                scrollBottom: this.scrollBottom,\n                tabs: this.tabs\n                // XXX save charset(s) here?\n                // charset: this.charset,\n                // glevel: this.glevel,\n                // charsets: this.charsets\n              };\n              this.reset();\n              this.normal = normal;\n              this.showCursor();\n            }\n            break;\n        }\n      }\n    };\n\n    // CSI Pm l  Reset Mode (RM).\n    //     Ps = 2  -> Keyboard Action Mode (AM).\n    //     Ps = 4  -> Replace Mode (IRM).\n    //     Ps = 1 2  -> Send/receive (SRM).\n    //     Ps = 2 0  -> Normal Linefeed (LNM).\n    // CSI ? Pm l\n    //   DEC Private Mode Reset (DECRST).\n    //     Ps = 1  -> Normal Cursor Keys (DECCKM).\n    //     Ps = 2  -> Designate VT52 mode (DECANM).\n    //     Ps = 3  -> 80 Column Mode (DECCOLM).\n    //     Ps = 4  -> Jump (Fast) Scroll (DECSCLM).\n    //     Ps = 5  -> Normal Video (DECSCNM).\n    //     Ps = 6  -> Normal Cursor Mode (DECOM).\n    //     Ps = 7  -> No Wraparound Mode (DECAWM).\n    //     Ps = 8  -> No Auto-repeat Keys (DECARM).\n    //     Ps = 9  -> Don't send Mouse X & Y on button press.\n    //     Ps = 1 0  -> Hide toolbar (rxvt).\n    //     Ps = 1 2  -> Stop Blinking Cursor (att610).\n    //     Ps = 1 8  -> Don't print form feed (DECPFF).\n    //     Ps = 1 9  -> Limit print to scrolling region (DECPEX).\n    //     Ps = 2 5  -> Hide Cursor (DECTCEM).\n    //     Ps = 3 0  -> Don't show scrollbar (rxvt).\n    //     Ps = 3 5  -> Disable font-shifting functions (rxvt).\n    //     Ps = 4 0  -> Disallow 80 -> 132 Mode.\n    //     Ps = 4 1  -> No more(1) fix (see curses resource).\n    //     Ps = 4 2  -> Disable Nation Replacement Character sets (DEC-\n    //     NRCM).\n    //     Ps = 4 4  -> Turn Off Margin Bell.\n    //     Ps = 4 5  -> No Reverse-wraparound Mode.\n    //     Ps = 4 6  -> Stop Logging.  (This is normally disabled by a\n    //     compile-time option).\n    //     Ps = 4 7  -> Use Normal Screen Buffer.\n    //     Ps = 6 6  -> Numeric keypad (DECNKM).\n    //     Ps = 6 7  -> Backarrow key sends delete (DECBKM).\n    //     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n    //     release.  See the section Mouse Tracking.\n    //     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n    //     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n    //     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n    //     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n    //     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n    //     Ps = 1 0 1 0  -> Don't scroll to bottom on tty output\n    //     (rxvt).\n    //     Ps = 1 0 1 1  -> Don't scroll to bottom on key press (rxvt).\n    //     Ps = 1 0 3 4  -> Don't interpret \"meta\" key.  (This disables\n    //     the eightBitInput resource).\n    //     Ps = 1 0 3 5  -> Disable special modifiers for Alt and Num-\n    //     Lock keys.  (This disables the numLock resource).\n    //     Ps = 1 0 3 6  -> Don't send ESC  when Meta modifies a key.\n    //     (This disables the metaSendsEscape resource).\n    //     Ps = 1 0 3 7  -> Send VT220 Remove from the editing-keypad\n    //     Delete key.\n    //     Ps = 1 0 3 9  -> Don't send ESC  when Alt modifies a key.\n    //     (This disables the altSendsEscape resource).\n    //     Ps = 1 0 4 0  -> Do not keep selection when not highlighted.\n    //     (This disables the keepSelection resource).\n    //     Ps = 1 0 4 1  -> Use the PRIMARY selection.  (This disables\n    //     the selectToClipboard resource).\n    //     Ps = 1 0 4 2  -> Disable Urgency window manager hint when\n    //     Control-G is received.  (This disables the bellIsUrgent\n    //     resource).\n    //     Ps = 1 0 4 3  -> Disable raising of the window when Control-\n    //     G is received.  (This disables the popOnBell resource).\n    //     Ps = 1 0 4 7  -> Use Normal Screen Buffer, clearing screen\n    //     first if in the Alternate Screen.  (This may be disabled by\n    //     the titeInhibit resource).\n    //     Ps = 1 0 4 8  -> Restore cursor as in DECRC.  (This may be\n    //     disabled by the titeInhibit resource).\n    //     Ps = 1 0 4 9  -> Use Normal Screen Buffer and restore cursor\n    //     as in DECRC.  (This may be disabled by the titeInhibit\n    //     resource).  This combines the effects of the 1 0 4 7  and 1 0\n    //     4 8  modes.  Use this with terminfo-based applications rather\n    //     than the 4 7  mode.\n    //     Ps = 1 0 5 0  -> Reset terminfo/termcap function-key mode.\n    //     Ps = 1 0 5 1  -> Reset Sun function-key mode.\n    //     Ps = 1 0 5 2  -> Reset HP function-key mode.\n    //     Ps = 1 0 5 3  -> Reset SCO function-key mode.\n    //     Ps = 1 0 6 0  -> Reset legacy keyboard emulation (X11R6).\n    //     Ps = 1 0 6 1  -> Reset keyboard emulation to Sun/PC style.\n    //     Ps = 2 0 0 4  -> Reset bracketed paste mode.\n    Terminal.prototype.resetMode = function(params) {\n      if (typeof params === 'object') {\n        var l = params.length\n          , i = 0;\n\n        for (; i < l; i++) {\n          this.resetMode(params[i]);\n        }\n\n        return;\n      }\n\n      if (!this.prefix) {\n        switch (params) {\n          case 4:\n            this.insertMode = false;\n            break;\n          case 20:\n            //this.convertEol = false;\n            break;\n        }\n      } else if (this.prefix === '?') {\n        switch (params) {\n          case 1:\n            this.applicationCursor = false;\n            break;\n          case 3:\n            if (this.cols === 132 && this.savedCols) {\n              this.resize(this.savedCols, this.rows);\n            }\n            delete this.savedCols;\n            break;\n          case 6:\n            this.originMode = false;\n            break;\n          case 7:\n            this.wraparoundMode = false;\n            break;\n          case 12:\n            // this.cursorBlink = false;\n            break;\n          case 66:\n            this.log('Switching back to normal keypad.');\n            this.applicationKeypad = false;\n            break;\n          case 9: // X10 Mouse\n          case 1000: // vt200 mouse\n          case 1002: // button event mouse\n          case 1003: // any event mouse\n            this.x10Mouse = false;\n            this.vt200Mouse = false;\n            this.normalMouse = false;\n            this.mouseEvents = false;\n            this.element.style.cursor = '';\n            break;\n          case 1004: // send focusin/focusout events\n            this.sendFocus = false;\n            break;\n          case 1005: // utf8 ext mode mouse\n            this.utfMouse = false;\n            break;\n          case 1006: // sgr ext mode mouse\n            this.sgrMouse = false;\n            break;\n          case 1015: // urxvt ext mode mouse\n            this.urxvtMouse = false;\n            break;\n          case 25: // hide cursor\n            this.cursorHidden = true;\n            break;\n          case 1049: // alt screen buffer cursor\n            ; // FALL-THROUGH\n          case 47: // normal screen buffer\n          case 1047: // normal screen buffer - clearing it first\n            if (this.normal) {\n              this.lines = this.normal.lines;\n              this.ybase = this.normal.ybase;\n              this.ydisp = this.normal.ydisp;\n              this.x = this.normal.x;\n              this.y = this.normal.y;\n              this.scrollTop = this.normal.scrollTop;\n              this.scrollBottom = this.normal.scrollBottom;\n              this.tabs = this.normal.tabs;\n              this.normal = null;\n              // if (params === 1049) {\n              //   this.x = this.savedX;\n              //   this.y = this.savedY;\n              // }\n              this.refresh(0, this.rows - 1);\n              this.showCursor();\n            }\n            break;\n        }\n      }\n    };\n\n    // CSI Ps ; Ps r\n    //   Set Scrolling Region [top;bottom] (default = full size of win-\n    //   dow) (DECSTBM).\n    // CSI ? Pm r\n    Terminal.prototype.setScrollRegion = function(params) {\n      if (this.prefix) return;\n      this.scrollTop = (params[0] || 1) - 1;\n      this.scrollBottom = (params[1] || this.rows) - 1;\n      this.x = 0;\n      this.y = 0;\n    };\n\n    // CSI s\n    //   Save cursor (ANSI.SYS).\n    Terminal.prototype.saveCursor = function(params) {\n      this.savedX = this.x;\n      this.savedY = this.y;\n    };\n\n    // CSI u\n    //   Restore cursor (ANSI.SYS).\n    Terminal.prototype.restoreCursor = function(params) {\n      this.x = this.savedX || 0;\n      this.y = this.savedY || 0;\n    };\n\n    /**\n     * Lesser Used\n     */\n\n    // CSI Ps I\n    //   Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n    Terminal.prototype.cursorForwardTab = function(params) {\n      var param = params[0] || 1;\n      while (param--) {\n        this.x = this.nextStop();\n      }\n    };\n\n    // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n    Terminal.prototype.scrollUp = function(params) {\n      var param = params[0] || 1;\n      while (param--) {\n        this.lines.splice(this.ybase + this.scrollTop, 1);\n        this.lines.splice(this.ybase + this.scrollBottom, 0, this.blankLine());\n      }\n      // this.maxRange();\n      this.updateRange(this.scrollTop);\n      this.updateRange(this.scrollBottom);\n    };\n\n    // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n    Terminal.prototype.scrollDown = function(params) {\n      var param = params[0] || 1;\n      while (param--) {\n        this.lines.splice(this.ybase + this.scrollBottom, 1);\n        this.lines.splice(this.ybase + this.scrollTop, 0, this.blankLine());\n      }\n      // this.maxRange();\n      this.updateRange(this.scrollTop);\n      this.updateRange(this.scrollBottom);\n    };\n\n    // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n    //   Initiate highlight mouse tracking.  Parameters are\n    //   [func;startx;starty;firstrow;lastrow].  See the section Mouse\n    //   Tracking.\n    Terminal.prototype.initMouseTracking = function(params) {\n      // Relevant: DECSET 1001\n    };\n\n    // CSI > Ps; Ps T\n    //   Reset one or more features of the title modes to the default\n    //   value.  Normally, \"reset\" disables the feature.  It is possi-\n    //   ble to disable the ability to reset features by compiling a\n    //   different default for the title modes into xterm.\n    //     Ps = 0  -> Do not set window/icon labels using hexadecimal.\n    //     Ps = 1  -> Do not query window/icon labels using hexadeci-\n    //     mal.\n    //     Ps = 2  -> Do not set window/icon labels using UTF-8.\n    //     Ps = 3  -> Do not query window/icon labels using UTF-8.\n    //   (See discussion of \"Title Modes\").\n    Terminal.prototype.resetTitleModes = function(params) {\n      ;\n    };\n\n    // CSI Ps Z  Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n    Terminal.prototype.cursorBackwardTab = function(params) {\n      var param = params[0] || 1;\n      while (param--) {\n        this.x = this.prevStop();\n      }\n    };\n\n    // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n    Terminal.prototype.repeatPrecedingCharacter = function(params) {\n      var param = params[0] || 1\n        , line = this.lines[this.ybase + this.y]\n        , ch = line[this.x - 1] || [this.defAttr, ' '];\n\n      while (param--) line[this.x++] = ch;\n    };\n\n    // CSI Ps g  Tab Clear (TBC).\n    //     Ps = 0  -> Clear Current Column (default).\n    //     Ps = 3  -> Clear All.\n    // Potentially:\n    //   Ps = 2  -> Clear Stops on Line.\n    //   http://vt100.net/annarbor/aaa-ug/section6.html\n    Terminal.prototype.tabClear = function(params) {\n      var param = params[0];\n      if (param <= 0) {\n        delete this.tabs[this.x];\n      } else if (param === 3) {\n        this.tabs = {};\n      }\n    };\n\n    // CSI Pm i  Media Copy (MC).\n    //     Ps = 0  -> Print screen (default).\n    //     Ps = 4  -> Turn off printer controller mode.\n    //     Ps = 5  -> Turn on printer controller mode.\n    // CSI ? Pm i\n    //   Media Copy (MC, DEC-specific).\n    //     Ps = 1  -> Print line containing cursor.\n    //     Ps = 4  -> Turn off autoprint mode.\n    //     Ps = 5  -> Turn on autoprint mode.\n    //     Ps = 1  0  -> Print composed display, ignores DECPEX.\n    //     Ps = 1  1  -> Print all pages.\n    Terminal.prototype.mediaCopy = function(params) {\n      ;\n    };\n\n    // CSI > Ps; Ps m\n    //   Set or reset resource-values used by xterm to decide whether\n    //   to construct escape sequences holding information about the\n    //   modifiers pressed with a given key.  The first parameter iden-\n    //   tifies the resource to set/reset.  The second parameter is the\n    //   value to assign to the resource.  If the second parameter is\n    //   omitted, the resource is reset to its initial value.\n    //     Ps = 1  -> modifyCursorKeys.\n    //     Ps = 2  -> modifyFunctionKeys.\n    //     Ps = 4  -> modifyOtherKeys.\n    //   If no parameters are given, all resources are reset to their\n    //   initial values.\n    Terminal.prototype.setResources = function(params) {\n      ;\n    };\n\n    // CSI > Ps n\n    //   Disable modifiers which may be enabled via the CSI > Ps; Ps m\n    //   sequence.  This corresponds to a resource value of \"-1\", which\n    //   cannot be set with the other sequence.  The parameter identi-\n    //   fies the resource to be disabled:\n    //     Ps = 1  -> modifyCursorKeys.\n    //     Ps = 2  -> modifyFunctionKeys.\n    //     Ps = 4  -> modifyOtherKeys.\n    //   If the parameter is omitted, modifyFunctionKeys is disabled.\n    //   When modifyFunctionKeys is disabled, xterm uses the modifier\n    //   keys to make an extended sequence of functions rather than\n    //   adding a parameter to each function key to denote the modi-\n    //   fiers.\n    Terminal.prototype.disableModifiers = function(params) {\n      ;\n    };\n\n    // CSI > Ps p\n    //   Set resource value pointerMode.  This is used by xterm to\n    //   decide whether to hide the pointer cursor as the user types.\n    //   Valid values for the parameter:\n    //     Ps = 0  -> never hide the pointer.\n    //     Ps = 1  -> hide if the mouse tracking mode is not enabled.\n    //     Ps = 2  -> always hide the pointer.  If no parameter is\n    //     given, xterm uses the default, which is 1 .\n    Terminal.prototype.setPointerMode = function(params) {\n      ;\n    };\n\n    // CSI ! p   Soft terminal reset (DECSTR).\n    // http://vt100.net/docs/vt220-rm/table4-10.html\n    Terminal.prototype.softReset = function(params) {\n      this.cursorHidden = false;\n      this.insertMode = false;\n      this.originMode = false;\n      this.wraparoundMode = false; // autowrap\n      this.applicationKeypad = false; // ?\n      this.applicationCursor = false;\n      this.scrollTop = 0;\n      this.scrollBottom = this.rows - 1;\n      this.curAttr = this.defAttr;\n      this.x = this.y = 0; // ?\n      this.charset = null;\n      this.glevel = 0; // ??\n      this.charsets = [null]; // ??\n    };\n\n    // CSI Ps$ p\n    //   Request ANSI mode (DECRQM).  For VT300 and up, reply is\n    //     CSI Ps; Pm$ y\n    //   where Ps is the mode number as in RM, and Pm is the mode\n    //   value:\n    //     0 - not recognized\n    //     1 - set\n    //     2 - reset\n    //     3 - permanently set\n    //     4 - permanently reset\n    Terminal.prototype.requestAnsiMode = function(params) {\n      ;\n    };\n\n    // CSI ? Ps$ p\n    //   Request DEC private mode (DECRQM).  For VT300 and up, reply is\n    //     CSI ? Ps; Pm$ p\n    //   where Ps is the mode number as in DECSET, Pm is the mode value\n    //   as in the ANSI DECRQM.\n    Terminal.prototype.requestPrivateMode = function(params) {\n      ;\n    };\n\n    // CSI Ps ; Ps \" p\n    //   Set conformance level (DECSCL).  Valid values for the first\n    //   parameter:\n    //     Ps = 6 1  -> VT100.\n    //     Ps = 6 2  -> VT200.\n    //     Ps = 6 3  -> VT300.\n    //   Valid values for the second parameter:\n    //     Ps = 0  -> 8-bit controls.\n    //     Ps = 1  -> 7-bit controls (always set for VT100).\n    //     Ps = 2  -> 8-bit controls.\n    Terminal.prototype.setConformanceLevel = function(params) {\n      ;\n    };\n\n    // CSI Ps q  Load LEDs (DECLL).\n    //     Ps = 0  -> Clear all LEDS (default).\n    //     Ps = 1  -> Light Num Lock.\n    //     Ps = 2  -> Light Caps Lock.\n    //     Ps = 3  -> Light Scroll Lock.\n    //     Ps = 2  1  -> Extinguish Num Lock.\n    //     Ps = 2  2  -> Extinguish Caps Lock.\n    //     Ps = 2  3  -> Extinguish Scroll Lock.\n    Terminal.prototype.loadLEDs = function(params) {\n      ;\n    };\n\n    // CSI Ps SP q\n    //   Set cursor style (DECSCUSR, VT520).\n    //     Ps = 0  -> blinking block.\n    //     Ps = 1  -> blinking block (default).\n    //     Ps = 2  -> steady block.\n    //     Ps = 3  -> blinking underline.\n    //     Ps = 4  -> steady underline.\n    Terminal.prototype.setCursorStyle = function(params) {\n      ;\n    };\n\n    // CSI Ps \" q\n    //   Select character protection attribute (DECSCA).  Valid values\n    //   for the parameter:\n    //     Ps = 0  -> DECSED and DECSEL can erase (default).\n    //     Ps = 1  -> DECSED and DECSEL cannot erase.\n    //     Ps = 2  -> DECSED and DECSEL can erase.\n    Terminal.prototype.setCharProtectionAttr = function(params) {\n      ;\n    };\n\n    // CSI ? Pm r\n    //   Restore DEC Private Mode Values.  The value of Ps previously\n    //   saved is restored.  Ps values are the same as for DECSET.\n    Terminal.prototype.restorePrivateValues = function(params) {\n      ;\n    };\n\n    // CSI Pt; Pl; Pb; Pr; Ps$ r\n    //   Change Attributes in Rectangular Area (DECCARA), VT400 and up.\n    //     Pt; Pl; Pb; Pr denotes the rectangle.\n    //     Ps denotes the SGR attributes to change: 0, 1, 4, 5, 7.\n    // NOTE: xterm doesn't enable this code by default.\n    Terminal.prototype.setAttrInRectangle = function(params) {\n      var t = params[0]\n        , l = params[1]\n        , b = params[2]\n        , r = params[3]\n        , attr = params[4];\n\n      var line\n        , i;\n\n      for (; t < b + 1; t++) {\n        line = this.lines[this.ybase + t];\n        for (i = l; i < r; i++) {\n          line[i] = [attr, line[i][1]];\n        }\n      }\n\n      // this.maxRange();\n      this.updateRange(params[0]);\n      this.updateRange(params[2]);\n    };\n\n\n    // CSI Pc; Pt; Pl; Pb; Pr$ x\n    //   Fill Rectangular Area (DECFRA), VT420 and up.\n    //     Pc is the character to use.\n    //     Pt; Pl; Pb; Pr denotes the rectangle.\n    // NOTE: xterm doesn't enable this code by default.\n    Terminal.prototype.fillRectangle = function(params) {\n      var ch = params[0]\n        , t = params[1]\n        , l = params[2]\n        , b = params[3]\n        , r = params[4];\n\n      var line\n        , i;\n\n      for (; t < b + 1; t++) {\n        line = this.lines[this.ybase + t];\n        for (i = l; i < r; i++) {\n          line[i] = [line[i][0], String.fromCharCode(ch)];\n        }\n      }\n\n      // this.maxRange();\n      this.updateRange(params[1]);\n      this.updateRange(params[3]);\n    };\n\n    // CSI Ps ; Pu ' z\n    //   Enable Locator Reporting (DECELR).\n    //   Valid values for the first parameter:\n    //     Ps = 0  -> Locator disabled (default).\n    //     Ps = 1  -> Locator enabled.\n    //     Ps = 2  -> Locator enabled for one report, then disabled.\n    //   The second parameter specifies the coordinate unit for locator\n    //   reports.\n    //   Valid values for the second parameter:\n    //     Pu = 0  <- or omitted -> default to character cells.\n    //     Pu = 1  <- device physical pixels.\n    //     Pu = 2  <- character cells.\n    Terminal.prototype.enableLocatorReporting = function(params) {\n      var val = params[0] > 0;\n      //this.mouseEvents = val;\n      //this.decLocator = val;\n    };\n\n    // CSI Pt; Pl; Pb; Pr$ z\n    //   Erase Rectangular Area (DECERA), VT400 and up.\n    //     Pt; Pl; Pb; Pr denotes the rectangle.\n    // NOTE: xterm doesn't enable this code by default.\n    Terminal.prototype.eraseRectangle = function(params) {\n      var t = params[0]\n        , l = params[1]\n        , b = params[2]\n        , r = params[3];\n\n      var line\n        , i\n        , ch;\n\n      ch = [this.eraseAttr(), ' ']; // xterm?\n\n      for (; t < b + 1; t++) {\n        line = this.lines[this.ybase + t];\n        for (i = l; i < r; i++) {\n          line[i] = ch;\n        }\n      }\n\n      // this.maxRange();\n      this.updateRange(params[0]);\n      this.updateRange(params[2]);\n    };\n\n\n    // CSI P m SP }\n    // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n    // NOTE: xterm doesn't enable this code by default.\n    Terminal.prototype.insertColumns = function() {\n      var param = params[0]\n        , l = this.ybase + this.rows\n        , ch = [this.eraseAttr(), ' '] // xterm?\n        , i;\n\n      while (param--) {\n        for (i = this.ybase; i < l; i++) {\n          this.lines[i].splice(this.x + 1, 0, ch);\n          this.lines[i].pop();\n        }\n      }\n\n      this.maxRange();\n    };\n\n    // CSI P m SP ~\n    // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n    // NOTE: xterm doesn't enable this code by default.\n    Terminal.prototype.deleteColumns = function() {\n      var param = params[0]\n        , l = this.ybase + this.rows\n        , ch = [this.eraseAttr(), ' '] // xterm?\n        , i;\n\n      while (param--) {\n        for (i = this.ybase; i < l; i++) {\n          this.lines[i].splice(this.x, 1);\n          this.lines[i].push(ch);\n        }\n      }\n\n      this.maxRange();\n    };\n\n\n    Terminal.prototype.copyBuffer = function(lines) {\n      var lines = lines || this.lines\n        , out = [];\n\n      for (var y = 0; y < lines.length; y++) {\n        out[y] = [];\n        for (var x = 0; x < lines[y].length; x++) {\n          out[y][x] = [lines[y][x][0], lines[y][x][1]];\n        }\n      }\n\n      return out;\n    };\n\n    Terminal.prototype.getCopyTextarea = function(text) {\n      var textarea = this._copyTextarea\n        , document = this.document;\n\n      if (!textarea) {\n        textarea = document.createElement('textarea');\n        textarea.style.position = 'absolute';\n        textarea.style.left = '-32000px';\n        textarea.style.top = '-32000px';\n        textarea.style.width = '0px';\n        textarea.style.height = '0px';\n        textarea.style.opacity = '0';\n        textarea.style.backgroundColor = 'transparent';\n        textarea.style.borderStyle = 'none';\n        textarea.style.outlineStyle = 'none';\n\n        document.getElementsByTagName('body')[0].appendChild(textarea);\n\n        this._copyTextarea = textarea;\n      }\n\n      return textarea;\n    };\n\n    // NOTE: Only works for primary selection on X11.\n    // Non-X11 users should use Ctrl-C instead.\n    Terminal.prototype.copyText = function(text) {\n      var self = this\n        , textarea = this.getCopyTextarea();\n\n      this.emit('copy', text);\n\n      textarea.focus();\n      textarea.textContent = text;\n      textarea.value = text;\n      textarea.setSelectionRange(0, text.length);\n\n      setTimeout(function() {\n        self.element.focus();\n        self.focus();\n      }, 1);\n    };\n\n    Terminal.prototype.keyPrefix = function(ev, key) {\n      if (key === 'k' || key === '&') {\n        this.destroy();\n      } else if (key === 'p' || key === ']') {\n        this.emit('request paste');\n      } else if (key === 'c') {\n        this.emit('request create');\n      } else if (key >= '0' && key <= '9') {\n        key = +key - 1;\n        if (!~key) key = 9;\n        this.emit('request term', key);\n      } else if (key === 'n') {\n        this.emit('request term next');\n      } else if (key === 'P') {\n        this.emit('request term previous');\n      } else if (key === ':') {\n        this.emit('request command mode');\n      }\n    };\n\n    Terminal.prototype.keySelect = function(ev, key) {\n      this.showCursor();\n\n      if (key === '\\x04') { // ctrl-d\n        var y = this.ydisp + this.y;\n        if (this.ydisp === this.ybase) {\n          // Mimic vim behavior\n          this.y = Math.min(this.y + (this.rows - 1) / 2 | 0, this.rows - 1);\n          this.refresh(0, this.rows - 1);\n        } else {\n          this.scrollDisp((this.rows - 1) / 2 | 0);\n        }\n        return;\n      }\n\n      if (key === '\\x15') { // ctrl-u\n        var y = this.ydisp + this.y;\n        if (this.ydisp === 0) {\n          // Mimic vim behavior\n          this.y = Math.max(this.y - (this.rows - 1) / 2 | 0, 0);\n          this.refresh(0, this.rows - 1);\n        } else {\n          this.scrollDisp(-(this.rows - 1) / 2 | 0);\n        }\n        return;\n      }\n\n      if (key === '\\x06') { // ctrl-f\n        var y = this.ydisp + this.y;\n        this.scrollDisp(this.rows - 1);\n        return;\n      }\n\n      if (key === '\\x02') { // ctrl-b\n        var y = this.ydisp + this.y;\n        this.scrollDisp(-(this.rows - 1));\n        return;\n      }\n\n      if (key === 'k' || key === '\\x1b[A') {\n        var y = this.ydisp + this.y;\n        this.y--;\n        if (this.y < 0) {\n          this.y = 0;\n          this.scrollDisp(-1);\n        }\n        this.refresh(this.y, this.y + 1);\n        return;\n      }\n\n      if (key === 'j' || key === '\\x1b[B') {\n        var y = this.ydisp + this.y;\n        this.y++;\n        if (this.y >= this.rows) {\n          this.y = this.rows - 1;\n          this.scrollDisp(1);\n        }\n        this.refresh(this.y - 1, this.y);\n        return;\n      }\n\n      if (key === 'h' || key === '\\x1b[D') {\n        var x = this.x;\n        this.x--;\n        if (this.x < 0) {\n          this.x = 0;\n        }\n        this.refresh(this.y, this.y);\n        return;\n      }\n\n      if (key === 'l' || key === '\\x1b[C') {\n        var x = this.x;\n        this.x++;\n        if (this.x >= this.cols) {\n          this.x = this.cols - 1;\n        }\n        this.refresh(this.y, this.y);\n        return;\n      }\n\n      if (key === 'w' || key === 'W') {\n        var ox = this.x;\n        var oy = this.y;\n        var oyd = this.ydisp;\n\n        var x = this.x;\n        var y = this.y;\n        var yb = this.ydisp;\n        var saw_space = false;\n\n        for (;;) {\n          var line = this.lines[yb + y];\n          while (x < this.cols) {\n            if (line[x][1] <= ' ') {\n              saw_space = true;\n            } else if (saw_space) {\n              break;\n            }\n            x++;\n          }\n          if (x >= this.cols) x = this.cols - 1;\n          if (x === this.cols - 1 && line[x][1] <= ' ') {\n            x = 0;\n            if (++y >= this.rows) {\n              y--;\n              if (++yb > this.ybase) {\n                yb = this.ybase;\n                x = this.x;\n                break;\n              }\n            }\n            continue;\n          }\n          break;\n        }\n\n        this.x = x, this.y = y;\n        this.scrollDisp(-this.ydisp + yb);\n\n        return;\n      }\n\n      if (key === 'b' || key === 'B') {\n        var ox = this.x;\n        var oy = this.y;\n        var oyd = this.ydisp;\n\n        var x = this.x;\n        var y = this.y;\n        var yb = this.ydisp;\n\n        for (;;) {\n          var line = this.lines[yb + y];\n          var saw_space = x > 0 && line[x][1] > ' ' && line[x - 1][1] > ' ';\n          while (x >= 0) {\n            if (line[x][1] <= ' ') {\n              if (saw_space && (x + 1 < this.cols && line[x + 1][1] > ' ')) {\n                x++;\n                break;\n              } else {\n                saw_space = true;\n              }\n            }\n            x--;\n          }\n          if (x < 0) x = 0;\n          if (x === 0 && (line[x][1] <= ' ' || !saw_space)) {\n            x = this.cols - 1;\n            if (--y < 0) {\n              y++;\n              if (--yb < 0) {\n                yb++;\n                x = 0;\n                break;\n              }\n            }\n            continue;\n          }\n          break;\n        }\n\n        this.x = x, this.y = y;\n        this.scrollDisp(-this.ydisp + yb);\n\n        return;\n      }\n\n      if (key === 'e' || key === 'E') {\n        var x = this.x + 1;\n        var y = this.y;\n        var yb = this.ydisp;\n        if (x >= this.cols) x--;\n\n        for (;;) {\n          var line = this.lines[yb + y];\n          while (x < this.cols) {\n            if (line[x][1] <= ' ') {\n              x++;\n            } else {\n              break;\n            }\n          }\n          while (x < this.cols) {\n            if (line[x][1] <= ' ') {\n              if (x - 1 >= 0 && line[x - 1][1] > ' ') {\n                x--;\n                break;\n              }\n            }\n            x++;\n          }\n          if (x >= this.cols) x = this.cols - 1;\n          if (x === this.cols - 1 && line[x][1] <= ' ') {\n            x = 0;\n            if (++y >= this.rows) {\n              y--;\n              if (++yb > this.ybase) {\n                yb = this.ybase;\n                break;\n              }\n            }\n            continue;\n          }\n          break;\n        }\n\n        this.x = x, this.y = y;\n        this.scrollDisp(-this.ydisp + yb);\n\n        return;\n      }\n\n      if (key === '^' || key === '0') {\n        var ox = this.x;\n\n        if (key === '0') {\n          this.x = 0;\n        } else if (key === '^') {\n          var line = this.lines[this.ydisp + this.y];\n          var x = 0;\n          while (x < this.cols) {\n            if (line[x][1] > ' ') {\n              break;\n            }\n            x++;\n          }\n          if (x >= this.cols) x = this.cols - 1;\n          this.x = x;\n        }\n\n        this.refresh(this.y, this.y);\n        return;\n      }\n\n      if (key === '$') {\n        var ox = this.x;\n        var line = this.lines[this.ydisp + this.y];\n        var x = this.cols - 1;\n        while (x >= 0) {\n          x--;\n        }\n        if (x < 0) x = 0;\n        this.x = x;\n        this.refresh(this.y, this.y);\n        return;\n      }\n\n      if (key === 'g' || key === 'G') {\n        var ox = this.x;\n        var oy = this.y;\n        var oyd = this.ydisp;\n        if (key === 'g') {\n          this.x = 0, this.y = 0;\n          this.scrollDisp(-this.ydisp);\n        } else if (key === 'G') {\n          this.x = 0, this.y = this.rows - 1;\n          this.scrollDisp(this.ybase);\n        }\n        return;\n      }\n\n      if (key === 'H' || key === 'M' || key === 'L') {\n        var ox = this.x;\n        var oy = this.y;\n        if (key === 'H') {\n          this.x = 0, this.y = 0;\n        } else if (key === 'M') {\n          this.x = 0, this.y = this.rows / 2 | 0;\n        } else if (key === 'L') {\n          this.x = 0, this.y = this.rows - 1;\n        }\n        this.refresh(oy, oy);\n        this.refresh(this.y, this.y);\n        return;\n      }\n\n      if (key === '{' || key === '}') {\n        var ox = this.x;\n        var oy = this.y;\n        var oyd = this.ydisp;\n\n        var line;\n        var saw_full = false;\n        var found = false;\n        var first_is_space = -1;\n        var y = this.y + (key === '{' ? -1 : 1);\n        var yb = this.ydisp;\n        var i;\n\n        if (key === '{') {\n          if (y < 0) {\n            y++;\n            if (yb > 0) yb--;\n          }\n        } else if (key === '}') {\n          if (y >= this.rows) {\n            y--;\n            if (yb < this.ybase) yb++;\n          }\n        }\n\n        for (;;) {\n          line = this.lines[yb + y];\n\n          for (i = 0; i < this.cols; i++) {\n            if (line[i][1] > ' ') {\n              if (first_is_space === -1) {\n                first_is_space = 0;\n              }\n              saw_full = true;\n              break;\n            } else if (i === this.cols - 1) {\n              if (first_is_space === -1) {\n                first_is_space = 1;\n              } else if (first_is_space === 0) {\n                found = true;\n              } else if (first_is_space === 1) {\n                if (saw_full) found = true;\n              }\n              break;\n            }\n          }\n\n          if (found) break;\n\n          if (key === '{') {\n            y--;\n            if (y < 0) {\n              y++;\n              if (yb > 0) yb--;\n              else break;\n            }\n          } else if (key === '}') {\n            y++;\n            if (y >= this.rows) {\n              y--;\n              if (yb < this.ybase) yb++;\n              else break;\n            }\n          }\n        }\n\n        if (!found) {\n          if (key === '{') {\n            y = 0;\n            yb = 0;\n          } else if (key === '}') {\n            y = this.rows - 1;\n            yb = this.ybase;\n          }\n        }\n\n        this.x = 0, this.y = y;\n        this.scrollDisp(-this.ydisp + yb);\n\n        return;\n      }\n\n      return false;\n    };\n\n    /**\n     * Character Sets\n     */\n\n    Terminal.charsets = {};\n\n    // DEC Special Character and Line Drawing Set.\n    // http://vt100.net/docs/vt102-ug/table5-13.html\n    // A lot of curses apps use this if they see TERM=xterm.\n    // testing: echo -e '\\e(0a\\e(B'\n    // The xterm output sometimes seems to conflict with the\n    // reference above. xterm seems in line with the reference\n    // when running vttest however.\n    // The table below now uses xterm's output from vttest.\n    Terminal.charsets.SCLD = { // (0\n      '`': '\\u25c6', // '◆'\n      'a': '\\u2592', // '▒'\n      'b': '\\u0009', // '\\t'\n      'c': '\\u000c', // '\\f'\n      'd': '\\u000d', // '\\r'\n      'e': '\\u000a', // '\\n'\n      'f': '\\u00b0', // '°'\n      'g': '\\u00b1', // '±'\n      'h': '\\u2424', // '\\u2424' (NL)\n      'i': '\\u000b', // '\\v'\n      'j': '\\u2518', // '┘'\n      'k': '\\u2510', // '┐'\n      'l': '\\u250c', // '┌'\n      'm': '\\u2514', // '└'\n      'n': '\\u253c', // '┼'\n      'o': '\\u23ba', // '⎺'\n      'p': '\\u23bb', // '⎻'\n      'q': '\\u2500', // '─'\n      'r': '\\u23bc', // '⎼'\n      's': '\\u23bd', // '⎽'\n      't': '\\u251c', // '├'\n      'u': '\\u2524', // '┤'\n      'v': '\\u2534', // '┴'\n      'w': '\\u252c', // '┬'\n      'x': '\\u2502', // '│'\n      'y': '\\u2264', // '≤'\n      'z': '\\u2265', // '≥'\n      '{': '\\u03c0', // 'π'\n      '|': '\\u2260', // '≠'\n      '}': '\\u00a3', // '£'\n      '~': '\\u00b7'  // '·'\n    };\n\n    Terminal.charsets.UK = null; // (A\n    Terminal.charsets.US = null; // (B (USASCII)\n    Terminal.charsets.Dutch = null; // (4\n    Terminal.charsets.Finnish = null; // (C or (5\n    Terminal.charsets.French = null; // (R\n    Terminal.charsets.FrenchCanadian = null; // (Q\n    Terminal.charsets.German = null; // (K\n    Terminal.charsets.Italian = null; // (Y\n    Terminal.charsets.NorwegianDanish = null; // (E or (6\n    Terminal.charsets.Spanish = null; // (Z\n    Terminal.charsets.Swedish = null; // (H or (7\n    Terminal.charsets.Swiss = null; // (=\n    Terminal.charsets.ISOLatin = null; // /A\n\n    /**\n     * Helpers\n     */\n\n    function on(el, type, handler, capture) {\n      if (!Array.isArray(el)) {\n        el = [el];\n      }\n      el.forEach(function (element) {\n        element.addEventListener(type, handler, capture || false);\n      });\n    }\n\n    function off(el, type, handler, capture) {\n      el.removeEventListener(type, handler, capture || false);\n    }\n\n    function cancel(ev, force) {\n      if (!this.cancelEvents && !force) {\n        return;\n      }\n      ev.preventDefault();\n      ev.stopPropagation();\n      return false;\n    }\n\n    function inherits(child, parent) {\n      function f() {\n        this.constructor = child;\n      }\n      f.prototype = parent.prototype;\n      child.prototype = new f;\n    }\n\n    // if bold is broken, we can't\n    // use it in the terminal.\n    function isBoldBroken(document) {\n      var body = document.getElementsByTagName('body')[0];\n      var el = document.createElement('span');\n      el.innerHTML = 'hello world';\n      body.appendChild(el);\n      var w1 = el.scrollWidth;\n      el.style.fontWeight = 'bold';\n      var w2 = el.scrollWidth;\n      body.removeChild(el);\n      return w1 !== w2;\n    }\n\n    var String = this.String;\n    var setTimeout = this.setTimeout;\n    var setInterval = this.setInterval;\n\n    function indexOf(obj, el) {\n      var i = obj.length;\n      while (i--) {\n        if (obj[i] === el) return i;\n      }\n      return -1;\n    }\n\n    function isWide(ch) {\n      if (ch <= '\\uff00') return false;\n      return (ch >= '\\uff01' && ch <= '\\uffbe')\n          || (ch >= '\\uffc2' && ch <= '\\uffc7')\n          || (ch >= '\\uffca' && ch <= '\\uffcf')\n          || (ch >= '\\uffd2' && ch <= '\\uffd7')\n          || (ch >= '\\uffda' && ch <= '\\uffdc')\n          || (ch >= '\\uffe0' && ch <= '\\uffe6')\n          || (ch >= '\\uffe8' && ch <= '\\uffee');\n    }\n\n    function matchColor(r1, g1, b1) {\n      var hash = (r1 << 16) | (g1 << 8) | b1;\n\n      if (matchColor._cache[hash] != null) {\n        return matchColor._cache[hash];\n      }\n\n      var ldiff = Infinity\n        , li = -1\n        , i = 0\n        , c\n        , r2\n        , g2\n        , b2\n        , diff;\n\n      for (; i < Terminal.vcolors.length; i++) {\n        c = Terminal.vcolors[i];\n        r2 = c[0];\n        g2 = c[1];\n        b2 = c[2];\n\n        diff = matchColor.distance(r1, g1, b1, r2, g2, b2);\n\n        if (diff === 0) {\n          li = i;\n          break;\n        }\n\n        if (diff < ldiff) {\n          ldiff = diff;\n          li = i;\n        }\n      }\n\n      return matchColor._cache[hash] = li;\n    }\n\n    matchColor._cache = {};\n\n    // http://stackoverflow.com/questions/1633828\n    matchColor.distance = function(r1, g1, b1, r2, g2, b2) {\n      return Math.pow(30 * (r1 - r2), 2)\n        + Math.pow(59 * (g1 - g2), 2)\n        + Math.pow(11 * (b1 - b2), 2);\n    };\n\n    function each(obj, iter, con) {\n      if (obj.forEach) return obj.forEach(iter, con);\n      for (var i = 0; i < obj.length; i++) {\n        iter.call(con, obj[i], i, obj);\n      }\n    }\n\n    function keys(obj) {\n      if (Object.keys) return Object.keys(obj);\n      var key, keys = [];\n      for (key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          keys.push(key);\n        }\n      }\n      return keys;\n    }\n\n    /**\n     * Expose\n     */\n\n    Terminal.EventEmitter = EventEmitter;\n    Terminal.inherits = inherits;\n    Terminal.on = on;\n    Terminal.off = off;\n    Terminal.cancel = cancel;\n\n    return Terminal;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xterm/src/xterm.js\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar meta_1 = require('./meta');\nvar BrowserFS = require('browserfs');\nvar Doppio = require('doppiojvm');\nvar _ = require('underscore');\nvar path = BrowserFS.BFSRequire('path');\n/**\n * Construct a JavaOptions object with the default demo fields filled in.\n * Optionally merge it with the custom arguments specified.\n */\nfunction constructJavaOptions(customArgs) {\n    if (customArgs === void 0) { customArgs = {}; }\n    // Strip default classpath. The CLI module will add it back in, and it causes errors\n    // if the -jar argument is specified.\n    return _.extend(customArgs, Doppio.VM.JVM.getDefaultOptions('/home'), { classpath: [] });\n}\nvar JavaCommand = (function (_super) {\n    __extends(JavaCommand, _super);\n    function JavaCommand() {\n        _super.apply(this, arguments);\n        this._jvm = null;\n        this._killed = false;\n    }\n    JavaCommand.prototype.getCommand = function () {\n        return \"java\";\n    };\n    JavaCommand.prototype.getAutocompleteFilter = function () {\n        // complete all directories, and some files\n        return function (fname, isDir) {\n            if (isDir)\n                return true;\n            var dot = fname.lastIndexOf('.');\n            var ext = dot === -1 ? '' : fname.slice(dot + 1);\n            return ext === 'class' || ext === 'jar';\n        };\n    };\n    JavaCommand.prototype.translateFileToArg = function (fname) {\n        var ext = path.extname(fname);\n        if (ext == '.class') {\n            return fname.slice(0, fname.lastIndexOf('.')).replace(/\\//g, '.');\n        }\n        return fname;\n    };\n    JavaCommand.prototype.run = function (shell, args, cb) {\n        var _this = this;\n        Doppio.VM.CLI(args, constructJavaOptions({\n            launcherName: this.getCommand()\n        }), function () {\n            // Reset state.\n            _this._jvm = null;\n            _this._killed = false;\n            cb();\n        }, function (jvm) {\n            _this._jvm = jvm;\n            if (_this._killed) {\n                _this._jvm.halt(0);\n            }\n        });\n    };\n    JavaCommand.prototype.kill = function () {\n        if (!this._killed) {\n            this._killed = true;\n            if (this._jvm) {\n                this._jvm.halt(0);\n            }\n        }\n    };\n    return JavaCommand;\n}(meta_1.AbstractShellCommand));\nexports.JavaCommand = JavaCommand;\nvar JARCommand = (function (_super) {\n    __extends(JARCommand, _super);\n    function JARCommand(cmd, jarPath, extraArgs, validExts) {\n        if (extraArgs === void 0) { extraArgs = []; }\n        if (validExts === void 0) { validExts = []; }\n        _super.call(this);\n        this._cmd = cmd;\n        this._jarPath = jarPath;\n        this._extraArgs = extraArgs;\n        this._validExts = validExts;\n    }\n    JARCommand.prototype.getCommand = function () {\n        return this._cmd;\n    };\n    JARCommand.prototype.getAutocompleteFilter = function () {\n        var _this = this;\n        return function (fname, isDir) {\n            if (isDir)\n                return true;\n            var dot = fname.lastIndexOf('.');\n            var ext = dot === -1 ? '' : fname.slice(dot + 1);\n            for (var i = 0; i < _this._validExts.length; i++) {\n                if (ext === _this._validExts[i])\n                    return true;\n            }\n            return false;\n        };\n    };\n    JARCommand.prototype.run = function (terminal, args, cb) {\n        terminal.stdout(\"Please be patient; this command may need to download resources from the network.\\n\");\n        var allArgs = [\"-jar\", this._jarPath].concat(this._extraArgs, args);\n        _super.prototype.run.call(this, terminal, allArgs, cb);\n    };\n    return JARCommand;\n}(JavaCommand));\nexports.JARCommand = JARCommand;\nvar JavaClassCommand = (function (_super) {\n    __extends(JavaClassCommand, _super);\n    function JavaClassCommand(cmd, classpath, className, extraJvmArgs, extraProgArgs, validExts) {\n        if (extraJvmArgs === void 0) { extraJvmArgs = []; }\n        if (extraProgArgs === void 0) { extraProgArgs = []; }\n        if (validExts === void 0) { validExts = []; }\n        _super.call(this);\n        this._cmd = cmd;\n        this._classpath = classpath;\n        this._className = className;\n        this._extraProgArgs = extraProgArgs;\n        this._extraJvmArgs = extraJvmArgs;\n        this._validExts = validExts;\n    }\n    JavaClassCommand.prototype.getCommand = function () {\n        return this._cmd;\n    };\n    JavaClassCommand.prototype.getAutocompleteFilter = function () {\n        var _this = this;\n        return function (fname, isDir) {\n            if (isDir)\n                return true;\n            var dot = fname.lastIndexOf('.');\n            var ext = dot === -1 ? '' : fname.slice(dot + 1);\n            for (var i = 0; i < _this._validExts.length; i++) {\n                if (ext === _this._validExts[i])\n                    return true;\n            }\n            return false;\n        };\n    };\n    JavaClassCommand.prototype.run = function (terminal, args, cb) {\n        terminal.stdout(\"Please be patient; this command may need to download resources from the network.\\n\");\n        var allArgs = [].concat(this._extraJvmArgs, [\"-cp\", (\".:\" + this._classpath), this._className], this._extraProgArgs, args);\n        _super.prototype.run.call(this, terminal, allArgs, cb);\n    };\n    return JavaClassCommand;\n}(JavaCommand));\nexports.JavaClassCommand = JavaClassCommand;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamF2YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImphdmEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUJBQW1DLFFBQVEsQ0FBQyxDQUFBO0FBRTVDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3hDLElBQU8sTUFBTSxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3JDLElBQU8sQ0FBQyxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBRWpDLElBQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFMUM7OztHQUdHO0FBQ0gsOEJBQThCLFVBQXdDO0lBQXhDLDBCQUF3QyxHQUF4QyxlQUF3QztJQUNwRSxvRkFBb0Y7SUFDcEYscUNBQXFDO0lBQ3JDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzNGLENBQUM7QUFHRDtJQUFpQywrQkFBb0I7SUFBckQ7UUFBaUMsOEJBQW9CO1FBQzNDLFNBQUksR0FBa0IsSUFBSSxDQUFDO1FBQzNCLFlBQU8sR0FBWSxLQUFLLENBQUM7SUE0Q25DLENBQUM7SUExQ1EsZ0NBQVUsR0FBakI7UUFDRSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFDTSwyQ0FBcUIsR0FBNUI7UUFDRSwyQ0FBMkM7UUFDM0MsTUFBTSxDQUFDLFVBQUMsS0FBYSxFQUFFLEtBQWM7WUFDbkMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDdkIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQyxJQUFJLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcs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YSxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQUssSUFBSSxDQUFDLFVBQVUsQ0FBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pILGdCQUFLLENBQUMsR0FBRyxZQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUNILHVCQUFDO0FBQUQsQ0FBQyxBQXBDRCxDQUFzQyxXQUFXLEdBb0NoRDtBQXBDWSx3QkFBZ0IsbUJBb0M1QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBYnN0cmFjdFNoZWxsQ29tbWFuZH0gZnJvbSAnLi9tZXRhJztcbmltcG9ydCBTaGVsbCBmcm9tICcuLi9zaGVsbCc7XG5pbXBvcnQgQnJvd3NlckZTID0gcmVxdWlyZSgnYnJvd3NlcmZzJyk7XG5pbXBvcnQgRG9wcGlvID0gcmVxdWlyZSgnZG9wcGlvanZtJyk7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmltcG9ydCBKVk1DTElPcHRpb25zID0gRG9wcGlvLlZNLkludGVyZmFjZXMuSlZNQ0xJT3B0aW9ucztcbmNvbnN0IHBhdGggPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgncGF0aCcpO1xuXG4vKipcbiAqIENvbnN0cnVjdCBhIEphdmFPcHRpb25zIG9iamVjdCB3aXRoIHRoZSBkZWZhdWx0IGRlbW8gZmllbGRzIGZpbGxlZCBpbi5cbiAqIE9wdGlvbmFsbHkgbWVyZ2UgaXQgd2l0aCB0aGUgY3VzdG9tIGFyZ3VtZW50cyBzcGVjaWZpZWQuXG4gKi9cbmZ1bmN0aW9uIGNvbnN0cnVjdEphdmFPcHRpb25zKGN1c3RvbUFyZ3M6IHsgW3Byb3A6IHN0cmluZ106IGFueSB9ID0ge30pOiBKVk1DTElPcHRpb25zIHtcbiAgLy8gU3RyaXAgZGVmYXVsdCBjbGFzc3BhdGguIFRoZSBDTEkgbW9kdWxlIHdpbGwgYWRkIGl0IGJhY2sgaW4sIGFuZCBpdCBjYXVzZXMgZXJyb3JzXG4gIC8vIGlmIHRoZSAtamFyIGFyZ3VtZW50IGlzIHNwZWNpZmllZC5cbiAgcmV0dXJuIF8uZXh0ZW5kKGN1c3RvbUFyZ3MsIERvcHBpby5WTS5KVk0uZ2V0RGVmYXVsdE9wdGlvbnMoJy9ob21lJyksIHsgY2xhc3NwYXRoOiBbXSB9KTtcbn1cblxuXG5leHBvcnQgY2xhc3MgSmF2YUNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHByaXZhdGUgX2p2bTogRG9wcGlvLlZNLkpWTSA9IG51bGw7XG4gIHByaXZhdGUgX2tpbGxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHB1YmxpYyBnZXRDb21tYW5kKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiamF2YVwiO1xuICB9XG4gIHB1YmxpYyBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKSB7XG4gICAgLy8gY29tcGxldGUgYWxsIGRpcmVjdG9yaWVzLCBhbmQgc29tZSBmaWxlc1xuICAgIHJldHVybiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChpc0RpcikgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgZG90ID0gZm5hbWUubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgIHZhciBleHQgPSBkb3QgPT09IC0xID8gJycgOiBmbmFtZS5zbGljZShkb3QrMSk7XG4gICAgICByZXR1cm4gZXh0ID09PSAnY2xhc3MnIHx8IGV4dCA9PT0gJ2phcic7XG4gICAgfVxuICB9XG4gIHB1YmxpYyB0cmFuc2xhdGVGaWxlVG9BcmcoZm5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZXh0ID0gcGF0aC5leHRuYW1lKGZuYW1lKTtcbiAgICBpZiAoZXh0ID09ICcuY2xhc3MnKSB7XG4gICAgICByZXR1cm4gZm5hbWUuc2xpY2UoMCwgZm5hbWUubGFzdEluZGV4T2YoJy4nKSkucmVwbGFjZSgvXFwvL2csICcuJyk7XG4gICAgfVxuICAgIHJldHVybiBmbmFtZTtcbiAgfVxuICBwdWJsaWMgcnVuKHNoZWxsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgRG9wcGlvLlZNLkNMSShhcmdzLCBjb25zdHJ1Y3RKYXZhT3B0aW9ucyh7XG4gICAgICBsYXVuY2hlck5hbWU6IHRoaXMuZ2V0Q29tbWFuZCgpXG4gICAgfSksICgpID0+IHtcbiAgICAgIC8vIFJlc2V0IHN0YXRlLlxuICAgICAgdGhpcy5fanZtID0gbnVsbDtcbiAgICAgIHRoaXMuX2tpbGxlZCA9IGZhbHNlO1xuICAgICAgY2IoKTtcbiAgICB9LCAoanZtKSA9PiB7XG4gICAgICB0aGlzLl9qdm0gPSBqdm07XG4gICAgICBpZiAodGhpcy5fa2lsbGVkKSB7XG4gICAgICAgIHRoaXMuX2p2bS5oYWx0KDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBraWxsKCkge1xuICAgIGlmICghdGhpcy5fa2lsbGVkKSB7XG4gICAgICB0aGlzLl9raWxsZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuX2p2bSkge1xuICAgICAgICB0aGlzLl9qdm0uaGFsdCgwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEpBUkNvbW1hbmQgZXh0ZW5kcyBKYXZhQ29tbWFuZCB7XG4gIHByaXZhdGUgX2NtZDogc3RyaW5nO1xuICBwcml2YXRlIF9qYXJQYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgX2V4dHJhQXJnczogc3RyaW5nW107XG4gIHByaXZhdGUgX3ZhbGlkRXh0czogc3RyaW5nW107XG4gIGNvbnN0cnVjdG9yKGNtZDogc3RyaW5nLCBqYXJQYXRoOiBzdHJpbmcsIGV4dHJhQXJnczogc3RyaW5nW10gPSBbXSwgdmFsaWRFeHRzOiBzdHJpbmdbXSA9IFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jbWQgPSBjbWQ7XG4gICAgdGhpcy5famFyUGF0aCA9IGphclBhdGg7XG4gICAgdGhpcy5fZXh0cmFBcmdzID0gZXh0cmFBcmdzO1xuICAgIHRoaXMuX3ZhbGlkRXh0cyA9IHZhbGlkRXh0cztcbiAgfVxuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY21kO1xuICB9XG4gIHB1YmxpYyBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKSB7XG4gICAgcmV0dXJuIChmbmFtZTogc3RyaW5nLCBpc0RpcjogYm9vbGVhbikgPT4ge1xuICAgICAgaWYgKGlzRGlyKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHZhciBkb3QgPSBmbmFtZS5sYXN0SW5kZXhPZignLicpO1xuICAgICAgdmFyIGV4dCA9IGRvdCA9PT0gLTEgPyAnJyA6IGZuYW1lLnNsaWNlKGRvdCsxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fdmFsaWRFeHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChleHQgPT09IHRoaXMuX3ZhbGlkRXh0c1tpXSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0ZXJtaW5hbC5zdGRvdXQoYFBsZWFzZSBiZSBwYXRpZW50OyB0aGlzIGNvbW1hbmQgbWF5IG5lZWQgdG8gZG93bmxvYWQgcmVzb3VyY2VzIGZyb20gdGhlIG5ldHdvcmsuXFxuYCk7XG4gICAgdmFyIGFsbEFyZ3MgPSBbXCItamFyXCIsIHRoaXMuX2phclBhdGhdLmNvbmNhdCh0aGlzLl9leHRyYUFyZ3MsIGFyZ3MpO1xuICAgIHN1cGVyLnJ1bih0ZXJtaW5hbCwgYWxsQXJncywgY2IpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKYXZhQ2xhc3NDb21tYW5kIGV4dGVuZHMgSmF2YUNvbW1hbmQge1xuICBwcml2YXRlIF9jbWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfY2xhc3NwYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgX2NsYXNzTmFtZTogc3RyaW5nO1xuICBwcml2YXRlIF9leHRyYVByb2dBcmdzOiBzdHJpbmdbXTtcbiAgcHJpdmF0ZSBfZXh0cmFKdm1BcmdzOiBzdHJpbmdbXTtcbiAgcHJpdmF0ZSBfdmFsaWRFeHRzOiBzdHJpbmdbXTtcbiAgY29uc3RydWN0b3IoY21kOiBzdHJpbmcsIGNsYXNzcGF0aDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZywgZXh0cmFKdm1BcmdzOiBzdHJpbmdbXSA9IFtdLFxuICAgICAgICAgICAgICBleHRyYVByb2dBcmdzOiBzdHJpbmdbXSA9IFtdLCB2YWxpZEV4dHM6IHN0cmluZ1tdID0gW10pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2NtZCA9IGNtZDtcbiAgICB0aGlzLl9jbGFzc3BhdGggPSBjbGFzc3BhdGg7XG4gICAgdGhpcy5fY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHRoaXMuX2V4dHJhUHJvZ0FyZ3MgPSBleHRyYVByb2dBcmdzO1xuICAgIHRoaXMuX2V4dHJhSnZtQXJncyA9IGV4dHJhSnZtQXJncztcbiAgICB0aGlzLl92YWxpZEV4dHMgPSB2YWxpZEV4dHM7XG4gIH1cbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NtZDtcbiAgfVxuICBwdWJsaWMgZ2V0QXV0b2NvbXBsZXRlRmlsdGVyKCkge1xuICAgIHJldHVybiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pOiBib29sZWFuID0+IHtcbiAgICAgIGlmIChpc0RpcikgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgZG90ID0gZm5hbWUubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgIHZhciBleHQgPSBkb3QgPT09IC0xID8gJycgOiBmbmFtZS5zbGljZShkb3QrMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3ZhbGlkRXh0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZXh0ID09PSB0aGlzLl92YWxpZEV4dHNbaV0pIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGVybWluYWwuc3Rkb3V0KGBQbGVhc2UgYmUgcGF0aWVudDsgdGhpcyBjb21tYW5kIG1heSBuZWVkIHRvIGRvd25sb2FkIHJlc291cmNlcyBmcm9tIHRoZSBuZXR3b3JrLlxcbmApO1xuICAgIGxldCBhbGxBcmdzID0gW10uY29uY2F0KHRoaXMuX2V4dHJhSnZtQXJncywgW1wiLWNwXCIsIGAuOiR7dGhpcy5fY2xhc3NwYXRofWAsIHRoaXMuX2NsYXNzTmFtZV0sIHRoaXMuX2V4dHJhUHJvZ0FyZ3MsIGFyZ3MpO1xuICAgIHN1cGVyLnJ1bih0ZXJtaW5hbCwgYWxsQXJncywgY2IpO1xuICB9XG59XG4iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/commands/java.ts\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AbstractShellCommand = (function () {\n    function AbstractShellCommand() {\n    }\n    AbstractShellCommand.prototype.getAutocompleteFilter = function () {\n        return function (fname, isDir) { return true; };\n    };\n    AbstractShellCommand.prototype.translateFileToArg = function (fname) {\n        return fname;\n    };\n    /**\n     * Called when the user hits CTRL+C.\n     */\n    AbstractShellCommand.prototype.kill = function () {\n        // NOP.\n    };\n    return AbstractShellCommand;\n}());\nexports.AbstractShellCommand = AbstractShellCommand;\nvar SimpleCommand = (function (_super) {\n    __extends(SimpleCommand, _super);\n    function SimpleCommand(command, runCommand) {\n        _super.call(this);\n        this._command = command;\n        this._runCommand = runCommand;\n    }\n    SimpleCommand.prototype.getCommand = function () {\n        return this._command;\n    };\n    SimpleCommand.prototype.run = function (terminal, args, cb) {\n        this._runCommand(terminal, args, cb);\n    };\n    return SimpleCommand;\n}(AbstractShellCommand));\nexports.SimpleCommand = SimpleCommand;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1ldGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUE7SUFBQTtJQWVBLENBQUM7SUFiUSxvREFBcUIsR0FBNUI7UUFDRSxNQUFNLENBQUMsVUFBQyxLQUFhLEVBQUUsS0FBYyxJQUFLLE9BQUEsSUFBSSxFQUFKLENBQUksQ0FBQztJQUNqRCxDQUFDO0lBQ00saURBQWtCLEdBQXpCLFVBQTBCLEtBQWE7UUFDckMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7T0FFRztJQUNJLG1DQUFJLEdBQVg7UUFDRSxPQUFPO0lBQ1QsQ0FBQztJQUNILDJCQUFDO0FBQUQsQ0FBQyxBQWZELElBZUM7QUFmcUIsNEJBQW9CLHVCQWV6QyxDQUFBO0FBRUQ7SUFBbUMsaUNBQW9CO0lBR3JELHVCQUFZLE9BQWUsRUFBRSxVQUFxRTtRQUNoRyxpQkFBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7UUFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7SUFDaEMsQ0FBQztJQUNNLGtDQUFVLEdBQWpCO1FBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUNNLDJCQUFHLEdBQVYsVUFBVyxRQUFlLEVBQUUsSUFBYyxFQUFFLEVBQWM7UUFDeEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDSCxvQkFBQztBQUFELENBQUMsQUFkRCxDQUFtQyxvQkFBb0IsR0FjdEQ7QUFkWSxxQkFBYSxnQkFjekIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U2hlbGxDb21tYW5kLCBkZWZhdWx0IGFzIFNoZWxsfSBmcm9tICcuLi9zaGVsbCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCBpbXBsZW1lbnRzIFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBhYnN0cmFjdCBnZXRDb21tYW5kKCk6IHN0cmluZztcbiAgcHVibGljIGdldEF1dG9jb21wbGV0ZUZpbHRlcigpOiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pID0+IGJvb2xlYW4ge1xuICAgIHJldHVybiAoZm5hbWU6IHN0cmluZywgaXNEaXI6IGJvb2xlYW4pID0+IHRydWU7XG4gIH1cbiAgcHVibGljIHRyYW5zbGF0ZUZpbGVUb0FyZyhmbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZm5hbWU7XG4gIH1cbiAgcHVibGljIGFic3RyYWN0IHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBoaXRzIENUUkwrQy5cbiAgICovXG4gIHB1YmxpYyBraWxsKCk6IHZvaWQge1xuICAgIC8vIE5PUC5cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2ltcGxlQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHJpdmF0ZSBfY29tbWFuZDogc3RyaW5nO1xuICBwcml2YXRlIF9ydW5Db21tYW5kOiAodGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG4gIGNvbnN0cnVjdG9yKGNvbW1hbmQ6IHN0cmluZywgcnVuQ29tbWFuZDogKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jb21tYW5kID0gY29tbWFuZDtcbiAgICB0aGlzLl9ydW5Db21tYW5kID0gcnVuQ29tbWFuZDtcbiAgfVxuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tbWFuZDtcbiAgfVxuICBwdWJsaWMgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fcnVuQ29tbWFuZCh0ZXJtaW5hbCwgYXJncywgY2IpO1xuICB9XG59XG4iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/commands/meta.ts\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = Doppio;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Doppio\"\n ** module id = 9\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar meta_1 = require('./meta');\nvar BrowserFS = require('browserfs');\nvar fs = BrowserFS.BFSRequire('fs');\nvar EditCommand = (function (_super) {\n    __extends(EditCommand, _super);\n    function EditCommand(editorElementName, saveButtonElement, closeButtonElement, editorContainer, consoleElement, filenameElement) {\n        _super.call(this);\n        this._isInitialized = false;\n        this._consoleElement = consoleElement;\n        this._filenameElement = filenameElement;\n        this._editorContainer = editorContainer;\n        this._saveButtonElement = saveButtonElement;\n        this._closeButtonElement = closeButtonElement;\n        // Initiaize AceEdit.\n        this._editor = ace.edit(editorElementName);\n        this._editor.setTheme('ace/theme/twilight');\n    }\n    EditCommand.prototype.initialize = function (terminal) {\n        var _this = this;\n        if (!this._isInitialized) {\n            this._isInitialized = true;\n            this._saveButtonElement.click(function (e) {\n                var fname = _this._filenameElement.val();\n                var contents = _this._editor.getSession().getValue();\n                if (contents[contents.length - 1] !== '\\n') {\n                    contents += '\\n';\n                }\n                fs.writeFile(fname, contents, function (err) {\n                    if (err) {\n                        terminal.stderr(\"File could not be saved: \" + err + \"\\n\");\n                    }\n                    else {\n                        terminal.stdout(\"File saved as '\" + fname + \"'.\\n\");\n                    }\n                    if (_this._lastCb != null) {\n                        _this._lastCb();\n                        _this._lastCb = null;\n                    }\n                });\n                _this.closeEditor();\n                e.preventDefault();\n            });\n            this._closeButtonElement.click(function (e) {\n                _this.closeEditor();\n                if (_this._lastCb != null) {\n                    _this._lastCb();\n                    _this._lastCb = null;\n                }\n                e.preventDefault();\n            });\n        }\n    };\n    EditCommand.prototype.closeEditor = function () {\n        var _this = this;\n        this._editorContainer.fadeOut('fast', function () {\n            // click to restore focus\n            _this._consoleElement.fadeIn('fast').click();\n        });\n    };\n    EditCommand.prototype.getCommand = function () {\n        return \"edit\";\n    };\n    EditCommand.prototype.run = function (terminal, args, cb) {\n        var _this = this;\n        this.initialize(terminal);\n        var startEditor = function (data) {\n            var consoleHeight = _this._consoleElement.height();\n            _this._consoleElement.fadeOut('fast', function () {\n                _this._filenameElement.val(args[0]);\n                _this._editorContainer.height(consoleHeight);\n                _this._editorContainer.fadeIn('fast');\n                if (args[0] == null || args[0].split('.')[1] === 'java') {\n                    var JavaMode = ace.require(\"ace/mode/java\").Mode;\n                    _this._editor.getSession().setMode(new JavaMode);\n                }\n                else {\n                    var TextMode = ace.require(\"ace/mode/text\").Mode;\n                    _this._editor.getSession().setMode(new TextMode);\n                }\n                _this._editor.getSession().setValue(data);\n            });\n        };\n        if (args[0] == null) {\n            startEditor(this.defaultFile('Test.java'));\n            this._lastCb = cb;\n        }\n        else {\n            fs.readFile(args[0], 'utf8', function (err, data) {\n                if (err) {\n                    startEditor(_this.defaultFile(args[0]));\n                }\n                else {\n                    startEditor(data);\n                }\n                _this._lastCb = cb;\n            });\n        }\n    };\n    EditCommand.prototype.defaultFile = function (filename) {\n        if (filename.indexOf('.java', filename.length - 5) != -1) {\n            var lastSlash = filename.lastIndexOf('/');\n            return \"class \" + filename.substring(lastSlash + 1, filename.length - 5) + \" {\\n  public static void main(String[] args) {\\n    // enter code here\\n  }\\n}\";\n        }\n        return \"\";\n    };\n    return EditCommand;\n}(meta_1.AbstractShellCommand));\nexports.__esModule = true;\nexports[\"default\"] = EditCommand;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImVkaXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUJBQW1DLFFBQVEsQ0FBQyxDQUFBO0FBRTVDLElBQU8sU0FBUyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBQ3hDLElBQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFdEM7SUFBeUMsK0JBQW9CO0lBUzNELHFCQUFZLGlCQUF5QixFQUFFLGlCQUF5QixFQUFFLGtCQUEwQixFQUFFLGVBQXVCLEVBQUUsY0FBc0IsRUFBRSxlQUF1QjtRQUNwSyxpQkFBTyxDQUFDO1FBSEYsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFJdEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxjQUFjLENBQUM7UUFDdEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGVBQWUsQ0FBQztRQUN4QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZUFBZSxDQUFBO1FBQ3ZDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxpQkFBaUIsQ0FBQztRQUM1QyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7UUFFOUMscUJBQXFCO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVPLGdDQUFVLEdBQWxCLFVBQW1CLFFBQWU7UUFBbEMsaUJBZ0NDO1FBL0JDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDM0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxVQUFDLENBQW9CO2dCQUNqRCxJQUFJLEtBQUssR0FBRyxLQUFJLENBQUMs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LE9BQU8sR0FBRyxFQUFFLENBQUM7WUFDcEIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDO0lBQ0gsQ0FBQztJQUVPLGlDQUFXLEdBQW5CLFVBQW9CLFFBQWdCO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pELElBQUksU0FBUyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUMsTUFBTSxDQUFDLFdBQVMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLG1GQUl0RSxDQUFDO1FBQ0MsQ0FBQztRQUNELE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDWixDQUFDO0lBQ0gsa0JBQUM7QUFBRCxDQUFDLEFBaEhELENBQXlDLDJCQUFvQixHQWdINUQ7QUFoSEQ7Z0NBZ0hDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fic3RyYWN0U2hlbGxDb21tYW5kfSBmcm9tICcuL21ldGEnO1xuaW1wb3J0IFNoZWxsIGZyb20gJy4uL3NoZWxsJztcbmltcG9ydCBCcm93c2VyRlMgPSByZXF1aXJlKCdicm93c2VyZnMnKTtcbmNvbnN0IGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRDb21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwcml2YXRlIF9jb25zb2xlRWxlbWVudDogSlF1ZXJ5O1xuICBwcml2YXRlIF9maWxlbmFtZUVsZW1lbnQ6IEpRdWVyeTtcbiAgcHJpdmF0ZSBfZWRpdG9yQ29udGFpbmVyOiBKUXVlcnk7XG4gIHByaXZhdGUgX3NhdmVCdXR0b25FbGVtZW50OiBKUXVlcnk7XG4gIHByaXZhdGUgX2Nsb3NlQnV0dG9uRWxlbWVudDogSlF1ZXJ5O1xuICBwcml2YXRlIF9lZGl0b3I6IEFjZUFqYXguRWRpdG9yO1xuICBwcml2YXRlIF9pc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2xhc3RDYjogKCkgPT4gdm9pZDtcbiAgY29uc3RydWN0b3IoZWRpdG9yRWxlbWVudE5hbWU6IHN0cmluZywgc2F2ZUJ1dHRvbkVsZW1lbnQ6IEpRdWVyeSwgY2xvc2VCdXR0b25FbGVtZW50OiBKUXVlcnksIGVkaXRvckNvbnRhaW5lcjogSlF1ZXJ5LCBjb25zb2xlRWxlbWVudDogSlF1ZXJ5LCBmaWxlbmFtZUVsZW1lbnQ6IEpRdWVyeSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY29uc29sZUVsZW1lbnQgPSBjb25zb2xlRWxlbWVudDtcbiAgICB0aGlzLl9maWxlbmFtZUVsZW1lbnQgPSBmaWxlbmFtZUVsZW1lbnQ7XG4gICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyID0gZWRpdG9yQ29udGFpbmVyXG4gICAgdGhpcy5fc2F2ZUJ1dHRvbkVsZW1lbnQgPSBzYXZlQnV0dG9uRWxlbWVudDtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbkVsZW1lbnQgPSBjbG9zZUJ1dHRvbkVsZW1lbnQ7XG5cbiAgICAvLyBJbml0aWFpemUgQWNlRWRpdC5cbiAgICB0aGlzLl9lZGl0b3IgPSBhY2UuZWRpdChlZGl0b3JFbGVtZW50TmFtZSk7XG4gICAgdGhpcy5fZWRpdG9yLnNldFRoZW1lKCdhY2UvdGhlbWUvdHdpbGlnaHQnKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZSh0ZXJtaW5hbDogU2hlbGwpIHtcbiAgICBpZiAoIXRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMuX2lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbkVsZW1lbnQuY2xpY2soKGU6IEpRdWVyeUV2ZW50T2JqZWN0KSA9PiB7XG4gICAgICAgIHZhciBmbmFtZSA9IHRoaXMuX2ZpbGVuYW1lRWxlbWVudC52YWwoKTtcbiAgICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoY29udGVudHNbY29udGVudHMubGVuZ3RoIC0gMV0gIT09ICdcXG4nKSB7XG4gICAgICAgICAgY29udGVudHMgKz0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZnMud3JpdGVGaWxlKGZuYW1lLCBjb250ZW50cywoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHRlcm1pbmFsLnN0ZGVycihgRmlsZSBjb3VsZCBub3QgYmUgc2F2ZWQ6ICR7ZXJyfVxcbmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoYEZpbGUgc2F2ZWQgYXMgJyR7Zm5hbWV9Jy5cXG5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX2xhc3RDYiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2IoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDYiA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbG9zZUVkaXRvcigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uRWxlbWVudC5jbGljaygoZTogSlF1ZXJ5RXZlbnRPYmplY3QpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZUVkaXRvcigpO1xuICAgICAgICBpZiAodGhpcy5fbGFzdENiICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl9sYXN0Q2IoKTtcbiAgICAgICAgICB0aGlzLl9sYXN0Q2IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2xvc2VFZGl0b3IoKSB7XG4gICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyLmZhZGVPdXQoJ2Zhc3QnLCAoKSA9PiB7XG4gICAgICAvLyBjbGljayB0byByZXN0b3JlIGZvY3VzXG4gICAgICB0aGlzLl9jb25zb2xlRWxlbWVudC5mYWRlSW4oJ2Zhc3QnKS5jbGljaygpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuIFwiZWRpdFwiO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmluaXRpYWxpemUodGVybWluYWwpO1xuXG4gICAgdmFyIHN0YXJ0RWRpdG9yID0gKGRhdGE6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgY29uc29sZUhlaWdodCA9IHRoaXMuX2NvbnNvbGVFbGVtZW50LmhlaWdodCgpO1xuICAgICAgdGhpcy5fY29uc29sZUVsZW1lbnQuZmFkZU91dCgnZmFzdCcsICgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5fZmlsZW5hbWVFbGVtZW50LnZhbChhcmdzWzBdKTtcbiAgICAgICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyLmhlaWdodChjb25zb2xlSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fZWRpdG9yQ29udGFpbmVyLmZhZGVJbignZmFzdCcpO1xuICAgICAgICBpZiAoYXJnc1swXSA9PSBudWxsIHx8IGFyZ3NbMF0uc3BsaXQoJy4nKVsxXSA9PT0gJ2phdmEnKSB7XG4gICAgICAgICAgdmFyIEphdmFNb2RlID0gYWNlLnJlcXVpcmUoXCJhY2UvbW9kZS9qYXZhXCIpLk1vZGU7XG4gICAgICAgICAgdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKG5ldyBKYXZhTW9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIFRleHRNb2RlID0gYWNlLnJlcXVpcmUoXCJhY2UvbW9kZS90ZXh0XCIpLk1vZGU7XG4gICAgICAgICAgdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKG5ldyBUZXh0TW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWRpdG9yLmdldFNlc3Npb24oKS5zZXRWYWx1ZShkYXRhKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoYXJnc1swXSA9PSBudWxsKSB7XG4gICAgICBzdGFydEVkaXRvcih0aGlzLmRlZmF1bHRGaWxlKCdUZXN0LmphdmEnKSk7XG4gICAgICB0aGlzLl9sYXN0Q2IgPSBjYjtcbiAgICB9IGVsc2Uge1xuICAgICAgZnMucmVhZEZpbGUoYXJnc1swXSwgJ3V0ZjgnLChlcnI6IEVycm9yLCBkYXRhOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHN0YXJ0RWRpdG9yKHRoaXMuZGVmYXVsdEZpbGUoYXJnc1swXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXJ0RWRpdG9yKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xhc3RDYiA9IGNiO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkZWZhdWx0RmlsZShmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoZmlsZW5hbWUuaW5kZXhPZignLmphdmEnLCBmaWxlbmFtZS5sZW5ndGggLSA1KSAhPSAtMSkge1xuICAgICAgdmFyIGxhc3RTbGFzaCA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICByZXR1cm4gYGNsYXNzICR7ZmlsZW5hbWUuc3Vic3RyaW5nKGxhc3RTbGFzaCsxLCBmaWxlbmFtZS5sZW5ndGgtNSl9IHtcbiAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuICAgIC8vIGVudGVyIGNvZGUgaGVyZVxuICB9XG59YDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn1cblxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/commands/edit.ts\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar meta_1 = require('./meta');\nvar async = require('async');\nvar BrowserFS = require('browserfs');\nvar util_1 = require('../util');\nvar path = BrowserFS.BFSRequire('path'), fs = BrowserFS.BFSRequire('fs'), process = BrowserFS.BFSRequire('process');\n// helper function for 'ls'\nfunction readDir(dir, pretty, columns, numCols, cb) {\n    fs.readdir(path.resolve(dir), function (err, contents) {\n        if (err || contents.length == 0) {\n            return cb('');\n        }\n        contents = contents.sort();\n        if (!pretty) {\n            return cb(contents.join('\\n'));\n        }\n        var prettyList = [];\n        async.each(contents, \n        // runs on each element\n        function (c, nextItem) {\n            fs.stat(dir + \"/\" + c, function (err, stat) {\n                if (err == null) {\n                    if (stat.isDirectory()) {\n                        c += '/';\n                    }\n                    prettyList.push(c);\n                }\n                nextItem();\n            });\n        }, \n        // runs at the end of processing\n        function () {\n            if (columns)\n                cb(util_1.columnize(prettyList, numCols));\n            else\n                cb(prettyList.join('\\n'));\n        });\n    });\n}\nvar LSCommand = (function (_super) {\n    __extends(LSCommand, _super);\n    function LSCommand() {\n        _super.apply(this, arguments);\n    }\n    LSCommand.prototype.getCommand = function () {\n        return 'ls';\n    };\n    LSCommand.prototype.run = function (shell, args, cb) {\n        var cols = shell.cols();\n        if (args.length === 0) {\n            readDir('.', true, true, cols, function (listing) {\n                shell.stdout(listing + \"\\n\");\n                cb();\n            });\n        }\n        else if (args.length === 1) {\n            readDir(args[0], true, true, cols, function (listing) {\n                shell.stdout(listing + \"\\n\");\n                cb();\n            });\n        }\n        else {\n            async.each(args, function (dir, next) {\n                readDir(dir, true, true, cols, function (listing) {\n                    shell.stdout(dir + \":\\n\" + listing + \"\\n\\n\");\n                    next();\n                });\n            }, cb);\n        }\n    };\n    return LSCommand;\n}(meta_1.AbstractShellCommand));\nexports.LSCommand = LSCommand;\nvar CatCommand = (function (_super) {\n    __extends(CatCommand, _super);\n    function CatCommand() {\n        _super.apply(this, arguments);\n    }\n    CatCommand.prototype.getCommand = function () {\n        return 'cat';\n    };\n    CatCommand.prototype.run = function (terminal, args, cb) {\n        if (args.length == 0) {\n            terminal.stdout(\"Usage: cat <file>\\n\");\n            return cb();\n        }\n        async.eachSeries(args, function (item, next) {\n            fs.readFile(item, 'utf8', function (err, data) {\n                if (err) {\n                    terminal.stderr(\"Could not open file '\" + item + \"': \" + err + \"\\n\");\n                }\n                else {\n                    terminal.stdout(data);\n                }\n                next();\n            });\n        }, cb);\n    };\n    return CatCommand;\n}(meta_1.AbstractShellCommand));\nexports.CatCommand = CatCommand;\nvar MvCommand = (function (_super) {\n    __extends(MvCommand, _super);\n    function MvCommand() {\n        _super.apply(this, arguments);\n    }\n    MvCommand.prototype.getCommand = function () {\n        return 'mv';\n    };\n    MvCommand.prototype.run = function (terminal, args, cb) {\n        if (args.length < 2) {\n            terminal.stdout(\"Usage: mv <from-file> <to-file>\\n\");\n            return cb();\n        }\n        // TODO: support mv foo bar someDir/\n        fs.rename(args[0], args[1], function (err) {\n            if (err) {\n                terminal.stderr(\"Could not rename \" + args[0] + \" to \" + args[1] + \": \" + err + \"\\n\");\n            }\n            cb();\n        });\n    };\n    return MvCommand;\n}(meta_1.AbstractShellCommand));\nexports.MvCommand = MvCommand;\nvar CpCommand = (function (_super) {\n    __extends(CpCommand, _super);\n    function CpCommand() {\n        _super.apply(this, arguments);\n    }\n    CpCommand.prototype.getCommand = function () {\n        return 'cp';\n    };\n    CpCommand.prototype.run = function (terminal, args, cb) {\n        if (args.length < 2) {\n            terminal.stdout(\"Usage: cp <from-file> <to-file>\\n\");\n            return cb();\n        }\n        var dest = args.pop();\n        // hack around BFS bug: stat('foo/') fails for some reason\n        if (dest.lastIndexOf('/') == dest.length - 1) {\n            dest = dest.substr(0, dest.length - 1);\n        }\n        fs.stat(dest, function (err, stat) {\n            if (err && err.code !== 'ENOENT') {\n                terminal.stderr(\"Invalid destination: \" + dest + \": \" + err + \"\\n\");\n                cb();\n            }\n            else if (stat != null && stat.isDirectory()) {\n                // copy args to dest directory\n                async.each(args, function (item, next) {\n                    util_1.copyFile(item, path.resolve(dest, path.basename(item)), function (err) {\n                        if (err) {\n                            terminal.stderr(\"Copy failed for \" + item + \": \" + err + \"\\n\");\n                        }\n                        next();\n                    });\n                }, cb);\n            }\n            else if (args.length > 1) {\n                terminal.stderr(\"Too many arguments for file target.\\n\");\n                cb();\n            }\n            else if (args[0] == dest) {\n                terminal.stderr(\"Source and target are identical.\\n\");\n                cb();\n            }\n            else {\n                util_1.copyFile(args[0], dest, function (err) {\n                    if (err) {\n                        terminal.stderr(\"Copy failed: \" + err + \"\\n\");\n                    }\n                    cb();\n                });\n            }\n        });\n    };\n    return CpCommand;\n}(meta_1.AbstractShellCommand));\nexports.CpCommand = CpCommand;\nvar MkdirCommand = (function (_super) {\n    __extends(MkdirCommand, _super);\n    function MkdirCommand() {\n        _super.apply(this, arguments);\n    }\n    MkdirCommand.prototype.getCommand = function () {\n        return 'mkdir';\n    };\n    MkdirCommand.prototype.run = function (terminal, args, cb) {\n        if (args.length < 1) {\n            terminal.stdout(\"Usage: mkdir <dirname>\\n\");\n            return cb();\n        }\n        async.each(args, function (item, next) {\n            fs.mkdir(item, function (err) {\n                if (err) {\n                    terminal.stderr(\"Could not make directory \" + item + \": \" + err + \"\\n\");\n                }\n                next();\n            });\n        }, cb);\n    };\n    return MkdirCommand;\n}(meta_1.AbstractShellCommand));\nexports.MkdirCommand = MkdirCommand;\nvar CDCommand = (function (_super) {\n    __extends(CDCommand, _super);\n    function CDCommand() {\n        _super.apply(this, arguments);\n    }\n    CDCommand.prototype.getCommand = function () {\n        return 'cd';\n    };\n    CDCommand.prototype.run = function (shell, args, cb) {\n        if (args.length > 1) {\n            shell.stdout(\"Usage: cd <directory>\\n\");\n            cb();\n        }\n        else {\n            var dir;\n            if (args.length == 0 || args[0] == '~') {\n                // Change to the default (starting) directory.\n                dir = '/home';\n            }\n            else {\n                dir = path.resolve(args[0]);\n            }\n            // Verify path exists before going there.\n            // chdir does not verify that the directory exists.\n            fs.exists(dir, function (doesExist) {\n                if (doesExist) {\n                    process.chdir(dir);\n                }\n                else {\n                    shell.stderr(\"Directory \" + dir + \" does not exist.\\n\");\n                }\n                cb();\n            });\n        }\n    };\n    return CDCommand;\n}(meta_1.AbstractShellCommand));\nexports.CDCommand = CDCommand;\nvar RMCommand = (function (_super) {\n    __extends(RMCommand, _super);\n    function RMCommand() {\n        _super.apply(this, arguments);\n    }\n    RMCommand.prototype.getCommand = function () {\n        return 'rm';\n    };\n    RMCommand.prototype.run = function (terminal, args, cb) {\n        if (args[0] == null) {\n            terminal.stdout(\"Usage: rm <file>\\n\");\n            cb();\n        }\n        else {\n            async.each(args, function (item, next) {\n                fs.unlink(item, function (err) {\n                    if (err) {\n                        terminal.stderr(\"Could not remove file \" + item + \": \" + err + \"\\n\");\n                    }\n                    next();\n                });\n            }, cb);\n        }\n    };\n    return RMCommand;\n}(meta_1.AbstractShellCommand));\nexports.RMCommand = RMCommand;\nvar RmdirCommand = (function (_super) {\n    __extends(RmdirCommand, _super);\n    function RmdirCommand() {\n        _super.apply(this, arguments);\n    }\n    RmdirCommand.prototype.getCommand = function () {\n        return 'rmdir';\n    };\n    RmdirCommand.prototype.run = function (terminal, args, cb) {\n        if (args[0] == null) {\n            terminal.stdout(\"Usage: rmdir <dir>\\n\");\n            cb();\n        }\n        else {\n            async.each(args, function (item, next) {\n                fs.rmdir(item, function (err) {\n                    if (err) {\n                        terminal.stderr(\"Could not remove directory \" + item + \": \" + err + \"\\n\");\n                    }\n                    next();\n                });\n            }, cb);\n        }\n    };\n    return RmdirCommand;\n}(meta_1.AbstractShellCommand));\nexports.RmdirCommand = RmdirCommand;\nvar MountDropboxCommand = (function (_super) {\n    __extends(MountDropboxCommand, _super);\n    function MountDropboxCommand() {\n        _super.apply(this, arguments);\n    }\n    MountDropboxCommand.prototype.getCommand = function () {\n        return 'mount_dropbox';\n    };\n    MountDropboxCommand.prototype.getAutocompleteFilter = function () {\n        // takes no completable arguments\n        return function () { return false; };\n    };\n    MountDropboxCommand.prototype.run = function (terminal, args, cb) {\n        var api_key = \"j07r6fxu4dyd08r\";\n        // For some weird reason. document.URL is undefined?\n        var URL = window.document.URL ? window.document.URL : location.href;\n        // Can't connect to Dropbox over HTTP unless served locally during development.\n        if (URL.indexOf(\"http:\") === 0 && URL.indexOf(\"http://localhost\") === -1) {\n            terminal.stdout(\"You are currently accessing the demo from a non-secure URL:\\n\\n\" + document.URL + \"\\n\\nDropbox only allows authentication over a secure connection. Please access the\\ndemo from the following HTTPS URL and try again:\\n\\n\" + document.URL.replace(/^http:/, 'https:') + \"\\n\");\n            cb();\n        }\n        else if (args.length < 1 || args[0] !== 'Y') {\n            terminal.stdout(\"This command may redirect you to Dropbox's site for authentication.\\nIf you would like to proceed with mounting Dropbox into the in-browser\\nfilesystem, please type \\\"mount_dropbox Y\\\".\\n\\nOnce you have successfully authenticated with Dropbox and the page reloads,\\nyou will need to type \\\"mount_dropbox Y\\\" again to finish mounting.\\n(If you would like to use your own API key, please type \\\"mount_dropbox Y your_api_key_here\\\".)\\n\");\n            cb();\n        }\n        else {\n            if (args.length == 2 && args[1].length === 15) {\n                api_key = args[1];\n                terminal.stdout(\"Using API key \" + api_key + \"...\\n\");\n            }\n            var client = new Dropbox.Client({ key: api_key });\n            client.authenticate(function (error, data) {\n                if (!error) {\n                    var mfs = fs.getRootFS();\n                    mfs.mount('/mnt/dropbox', new BrowserFS.FileSystem.Dropbox(client));\n                    terminal.stdout(\"Successfully connected to your Dropbox account. You can now access files in the /Apps/DoppioJVM folder of your Dropbox account at /mnt/dropbox.\\n\");\n                }\n                else {\n                    terminal.stderr(\"Unable to connect to Dropbox: \" + error + \"\\n\");\n                }\n                cb();\n            });\n        }\n    };\n    return MountDropboxCommand;\n}(meta_1.AbstractShellCommand));\nexports.MountDropboxCommand = MountDropboxCommand;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxxQkFBbUMsUUFBUSxDQUFDLENBQUE7QUFFNUMsSUFBTyxLQUFLLFdBQVcsT0FBTyxDQUFDLENBQUM7QUFDaEMsSUFBTyxTQUFTLFdBQVcsV0FBVyxDQUFDLENBQUM7QUFDeEMscUJBQWtDLFNBQVMsQ0FBQyxDQUFBO0FBSTVDLElBQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQ3ZDLEVBQUUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUMvQixPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUU1QywyQkFBMkI7QUFDM0IsaUJBQWlCLEdBQVcsRUFBRSxNQUFlLEVBQUUsT0FBZ0IsRUFBRSxPQUFlLEVBQUUsRUFBNkI7SUFDN0csRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFVBQUMsR0FBVSxFQUFFLFFBQWtCO1FBQzNELEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoQixDQUFDO1FBQ0QsUUFBUSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMzQixFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDWixNQUFNLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDO1FBQ0QsSUFBSSxVQUFVLEdBQWEsRUFBRSxDQUFDO1FBQzlCLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUTtRQUNqQix1QkFBdUI7UUFDdkIsVUFBQyxDQUFTLEVB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QUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxVQUFDLEtBQVUsRUFBRSxJQUFVO2dCQUN6QyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ1gsSUFBSSxHQUFHLEdBQThDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztvQkFDcEUsR0FBRyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsSUFBVSxTQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUMzRSxRQUFRLENBQUMsTUFBTSxDQUFDLG1KQUFtSixDQUFDLENBQUM7Z0JBQ3ZLLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ04sUUFBUSxDQUFDLE1BQU0sQ0FBQyxtQ0FBaUMsS0FBSyxPQUFJLENBQUMsQ0FBQztnQkFDOUQsQ0FBQztnQkFDRCxFQUFFLEVBQUUsQ0FBQztZQUNQLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztJQUNILENBQUM7SUFDSCwwQkFBQztBQUFELENBQUMsQUF2REQsQ0FBeUMsMkJBQW9CLEdBdUQ1RDtBQXZEWSwyQkFBbUIsc0JBdUQvQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBYnN0cmFjdFNoZWxsQ29tbWFuZH0gZnJvbSAnLi9tZXRhJztcbmltcG9ydCBTaGVsbCBmcm9tICcuLi9zaGVsbCc7XG5pbXBvcnQgYXN5bmMgPSByZXF1aXJlKCdhc3luYycpO1xuaW1wb3J0IEJyb3dzZXJGUyA9IHJlcXVpcmUoJ2Jyb3dzZXJmcycpO1xuaW1wb3J0IHtjb2x1bW5pemUsIGNvcHlGaWxlfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IF9mcyA9IHJlcXVpcmUoJ2ZzJyk7XG5pbXBvcnQgU3RhdHMgPSBfZnMuU3RhdHM7XG5jb25zdCBwYXRoID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ3BhdGgnKSxcbiAgZnMgPSBCcm93c2VyRlMuQkZTUmVxdWlyZSgnZnMnKSxcbiAgcHJvY2VzcyA9IEJyb3dzZXJGUy5CRlNSZXF1aXJlKCdwcm9jZXNzJyk7XG5cbi8vIGhlbHBlciBmdW5jdGlvbiBmb3IgJ2xzJ1xuZnVuY3Rpb24gcmVhZERpcihkaXI6IHN0cmluZywgcHJldHR5OiBib29sZWFuLCBjb2x1bW5zOiBib29sZWFuLCBudW1Db2xzOiBudW1iZXIsIGNiOiAobGlzdGluZzogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gIGZzLnJlYWRkaXIocGF0aC5yZXNvbHZlKGRpciksIChlcnI6IEVycm9yLCBjb250ZW50czogc3RyaW5nW10pID0+IHtcbiAgICBpZiAoZXJyIHx8IGNvbnRlbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4gY2IoJycpO1xuICAgIH1cbiAgICBjb250ZW50cyA9IGNvbnRlbnRzLnNvcnQoKTtcbiAgICBpZiAoIXByZXR0eSkge1xuICAgICAgcmV0dXJuIGNiKGNvbnRlbnRzLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgdmFyIHByZXR0eUxpc3Q6IHN0cmluZ1tdID0gW107XG4gICAgYXN5bmMuZWFjaChjb250ZW50cyxcbiAgICAgIC8vIHJ1bnMgb24gZWFjaCBlbGVtZW50XG4gICAgICAoYzogc3RyaW5nLCBuZXh0SXRlbTogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBmcy5zdGF0KGAke2Rpcn0vJHtjfWAsIChlcnI6IEVycm9yLCBzdGF0PzogU3RhdHMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgYyArPSAnLyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV0dHlMaXN0LnB1c2goYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRJdGVtKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIC8vIHJ1bnMgYXQgdGhlIGVuZCBvZiBwcm9jZXNzaW5nXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmIChjb2x1bW5zKVxuICAgICAgICAgIGNiKGNvbHVtbml6ZShwcmV0dHlMaXN0LCBudW1Db2xzKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjYihwcmV0dHlMaXN0LmpvaW4oJ1xcbicpKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIExTQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdscyc7XG4gIH1cbiAgcHVibGljIHJ1bihzaGVsbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbHMgPSBzaGVsbC5jb2xzKCk7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZWFkRGlyKCcuJywgdHJ1ZSwgdHJ1ZSwgY29scywgKGxpc3RpbmcpID0+IHtcbiAgICAgICAgc2hlbGwuc3Rkb3V0KGxpc3RpbmcgKyBcIlxcblwiKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJlYWREaXIoYXJnc1swXSwgdHJ1ZSwgdHJ1ZSwgY29scywgKGxpc3RpbmcpID0+IHtcbiAgICAgICAgc2hlbGwuc3Rkb3V0KGxpc3RpbmcgKyBcIlxcblwiKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3luYy5lYWNoKGFyZ3MsIChkaXI6IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICByZWFkRGlyKGRpciwgdHJ1ZSwgdHJ1ZSwgY29scywgKGxpc3Rpbmc6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHNoZWxsLnN0ZG91dChgJHtkaXJ9OlxcbiR7bGlzdGluZ31cXG5cXG5gKTtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgY2IpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2F0Q29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdjYXQnO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgdGVybWluYWwuc3Rkb3V0KFwiVXNhZ2U6IGNhdCA8ZmlsZT5cXG5cIik7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG4gICAgYXN5bmMuZWFjaFNlcmllcyhhcmdzLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICBmcy5yZWFkRmlsZShpdGVtLCAndXRmOCcsIGZ1bmN0aW9uIChlcnI6IEVycm9yLCBkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHRlcm1pbmFsLnN0ZGVycihgQ291bGQgbm90IG9wZW4gZmlsZSAnJHtpdGVtfSc6ICR7ZXJyfVxcbmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlcm1pbmFsLnN0ZG91dChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICB9LCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE12Q29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdtdic7XG4gIH1cbiAgcHVibGljIHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChcIlVzYWdlOiBtdiA8ZnJvbS1maWxlPiA8dG8tZmlsZT5cXG5cIik7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG4gICAgLy8gVE9ETzogc3VwcG9ydCBtdiBmb28gYmFyIHNvbWVEaXIvXG4gICAgZnMucmVuYW1lKGFyZ3NbMF0sIGFyZ3NbMV0sIChlcnI/OiBFcnJvcikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYENvdWxkIG5vdCByZW5hbWUgJHthcmdzWzBdfSB0byAke2FyZ3NbMV19OiAke2Vycn1cXG5gKTtcbiAgICAgIH1cbiAgICAgIGNiKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENwQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdjcCc7XG4gIH1cbiAgcHVibGljIHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChcIlVzYWdlOiBjcCA8ZnJvbS1maWxlPiA8dG8tZmlsZT5cXG5cIik7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG4gICAgdmFyIGRlc3QgPSBhcmdzLnBvcCgpO1xuICAgIC8vIGhhY2sgYXJvdW5kIEJGUyBidWc6IHN0YXQoJ2Zvby8nKSBmYWlscyBmb3Igc29tZSByZWFzb25cbiAgICBpZiAoZGVzdC5sYXN0SW5kZXhPZignLycpID09IGRlc3QubGVuZ3RoLTEpIHtcbiAgICAgIGRlc3QgPSBkZXN0LnN1YnN0cigwLCBkZXN0Lmxlbmd0aC0xKTtcbiAgICB9XG4gICAgZnMuc3RhdChkZXN0LCAoZXJyOiBFcnJvciwgc3RhdDogYW55KSA9PiB7XG4gICAgICBpZiAoZXJyICYmICg8YW55PmVycikuY29kZSAhPT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgdGVybWluYWwuc3RkZXJyKGBJbnZhbGlkIGRlc3RpbmF0aW9uOiAke2Rlc3R9OiAke2Vycn1cXG5gKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdCAhPSBudWxsICYmIHN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAvLyBjb3B5IGFyZ3MgdG8gZGVzdCBkaXJlY3RvcnlcbiAgICAgICAgYXN5bmMuZWFjaChhcmdzLCAoaXRlbTogc3RyaW5nLCBuZXh0OiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgY29weUZpbGUoaXRlbSwgcGF0aC5yZXNvbHZlKGRlc3QsIHBhdGguYmFzZW5hbWUoaXRlbSkpLCAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYENvcHkgZmFpbGVkIGZvciAke2l0ZW19OiAke2Vycn1cXG5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY2IpO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGVybWluYWwuc3RkZXJyKFwiVG9vIG1hbnkgYXJndW1lbnRzIGZvciBmaWxlIHRhcmdldC5cXG5cIik7XG4gICAgICAgIGNiKCk7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3NbMF0gPT0gZGVzdCkge1xuICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoXCJTb3VyY2UgYW5kIHRhcmdldCBhcmUgaWRlbnRpY2FsLlxcblwiKTtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvcHlGaWxlKGFyZ3NbMF0sIGRlc3QsIChlcnI6IEVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGVybWluYWwuc3RkZXJyKGBDb3B5IGZhaWxlZDogJHtlcnJ9XFxuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNa2RpckNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAnbWtkaXInO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPCAxKSB7XG4gICAgICB0ZXJtaW5hbC5zdGRvdXQoXCJVc2FnZTogbWtkaXIgPGRpcm5hbWU+XFxuXCIpO1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuICAgIGFzeW5jLmVhY2goYXJncywgKGl0ZW06IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgZnMubWtkaXIoaXRlbSwgKGVycj86IEVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYENvdWxkIG5vdCBtYWtlIGRpcmVjdG9yeSAke2l0ZW19OiAke2Vycn1cXG5gKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICB9LCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENEQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdjZCc7XG4gIH1cbiAgcHVibGljIHJ1bihzaGVsbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHNoZWxsLnN0ZG91dChcIlVzYWdlOiBjZCA8ZGlyZWN0b3J5PlxcblwiKTtcbiAgICAgIGNiKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkaXI6IHN0cmluZztcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PSAwIHx8IGFyZ3NbMF0gPT0gJ34nKSB7XG4gICAgICAgIC8vIENoYW5nZSB0byB0aGUgZGVmYXVsdCAoc3RhcnRpbmcpIGRpcmVjdG9yeS5cbiAgICAgICAgZGlyID0gJy9ob21lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpciA9IHBhdGgucmVzb2x2ZShhcmdzWzBdKTtcbiAgICAgIH1cbiAgICAgIC8vIFZlcmlmeSBwYXRoIGV4aXN0cyBiZWZvcmUgZ29pbmcgdGhlcmUuXG4gICAgICAvLyBjaGRpciBkb2VzIG5vdCB2ZXJpZnkgdGhhdCB0aGUgZGlyZWN0b3J5IGV4aXN0cy5cbiAgICAgIGZzLmV4aXN0cyhkaXIsIChkb2VzRXhpc3Q6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKGRvZXNFeGlzdCkge1xuICAgICAgICAgIHByb2Nlc3MuY2hkaXIoZGlyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaGVsbC5zdGRlcnIoYERpcmVjdG9yeSAke2Rpcn0gZG9lcyBub3QgZXhpc3QuXFxuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUk1Db21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gJ3JtJztcbiAgfVxuICBwdWJsaWMgcnVuKHRlcm1pbmFsOiBTaGVsbCwgYXJnczogc3RyaW5nW10sIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKGFyZ3NbMF0gPT0gbnVsbCkge1xuICAgICAgdGVybWluYWwuc3Rkb3V0KFwiVXNhZ2U6IHJtIDxmaWxlPlxcblwiKTtcbiAgICAgIGNiKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzeW5jLmVhY2goYXJncywgKGl0ZW06IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBmcy51bmxpbmsoaXRlbSwgKGVycj86IEVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGVybWluYWwuc3RkZXJyKGBDb3VsZCBub3QgcmVtb3ZlIGZpbGUgJHtpdGVtfTogJHtlcnJ9XFxuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBjYik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSbWRpckNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAncm1kaXInO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoYXJnc1swXSA9PSBudWxsKSB7XG4gICAgICB0ZXJtaW5hbC5zdGRvdXQoXCJVc2FnZTogcm1kaXIgPGRpcj5cXG5cIik7XG4gICAgICBjYigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3luYy5lYWNoKGFyZ3MsIChpdGVtOiBzdHJpbmcsIG5leHQ6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgZnMucm1kaXIoaXRlbSwgKGVycj86IEVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGVybWluYWwuc3RkZXJyKGBDb3VsZCBub3QgcmVtb3ZlIGRpcmVjdG9yeSAke2l0ZW19OiAke2Vycn1cXG5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGNiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdW50RHJvcGJveENvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAnbW91bnRfZHJvcGJveCc7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXV0b2NvbXBsZXRlRmlsdGVyKCkge1xuICAgIC8vIHRha2VzIG5vIGNvbXBsZXRhYmxlIGFyZ3VtZW50c1xuICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB2YXIgYXBpX2tleTogc3RyaW5nID0gXCJqMDdyNmZ4dTRkeWQwOHJcIjtcbiAgICAvLyBGb3Igc29tZSB3ZWlyZCByZWFzb24uIGRvY3VtZW50LlVSTCBpcyB1bmRlZmluZWQ/XG4gICAgY29uc3QgVVJMID0gd2luZG93LmRvY3VtZW50LlVSTCA/IHdpbmRvdy5kb2N1bWVudC5VUkwgOiBsb2NhdGlvbi5ocmVmO1xuICAgIC8vIENhbid0IGNvbm5lY3QgdG8gRHJvcGJveCBvdmVyIEhUVFAgdW5sZXNzIHNlcnZlZCBsb2NhbGx5IGR1cmluZyBkZXZlbG9wbWVudC5cbiAgICBpZiAoVVJMLmluZGV4T2YoXCJodHRwOlwiKSA9PT0gMCAmJiBVUkwuaW5kZXhPZihcImh0dHA6Ly9sb2NhbGhvc3RcIikgPT09IC0xKSB7XG4gICAgICB0ZXJtaW5hbC5zdGRvdXQoXG5gWW91IGFyZSBjdXJyZW50bHkgYWNjZXNzaW5nIHRoZSBkZW1vIGZyb20gYSBub24tc2VjdXJlIFVSTDpcblxuJHtkb2N1bWVudC5VUkx9XG5cbkRyb3Bib3ggb25seSBhbGxvd3MgYXV0aGVudGljYXRpb24gb3ZlciBhIHNlY3VyZSBjb25uZWN0aW9uLiBQbGVhc2UgYWNjZXNzIHRoZVxuZGVtbyBmcm9tIHRoZSBmb2xsb3dpbmcgSFRUUFMgVVJMIGFuZCB0cnkgYWdhaW46XG5cbiR7ZG9jdW1lbnQuVVJMLnJlcGxhY2UoL15odHRwOi8sICdodHRwczonKX1cXG5gXG4gICAgICApO1xuICAgICAgY2IoKTtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoIDwgMSB8fCBhcmdzWzBdICE9PSAnWScpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChcbmBUaGlzIGNvbW1hbmQgbWF5IHJlZGlyZWN0IHlvdSB0byBEcm9wYm94J3Mgc2l0ZSBmb3IgYXV0aGVudGljYXRpb24uXG5JZiB5b3Ugd291bGQgbGlrZSB0byBwcm9jZWVkIHdpdGggbW91bnRpbmcgRHJvcGJveCBpbnRvIHRoZSBpbi1icm93c2VyXG5maWxlc3lzdGVtLCBwbGVhc2UgdHlwZSBcIm1vdW50X2Ryb3Bib3ggWVwiLlxuXG5PbmNlIHlvdSBoYXZlIHN1Y2Nlc3NmdWxseSBhdXRoZW50aWNhdGVkIHdpdGggRHJvcGJveCBhbmQgdGhlIHBhZ2UgcmVsb2FkcyxcbnlvdSB3aWxsIG5lZWQgdG8gdHlwZSBcIm1vdW50X2Ryb3Bib3ggWVwiIGFnYWluIHRvIGZpbmlzaCBtb3VudGluZy5cbihJZiB5b3Ugd291bGQgbGlrZSB0byB1c2UgeW91ciBvd24gQVBJIGtleSwgcGxlYXNlIHR5cGUgXCJtb3VudF9kcm9wYm94IFkgeW91cl9hcGlfa2V5X2hlcmVcIi4pXFxuYCk7XG4gICAgICBjYigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPT0gMiAmJiBhcmdzWzFdLmxlbmd0aCA9PT0gMTUpIHtcbiAgICAgICAgYXBpX2tleSA9IGFyZ3NbMV07XG4gICAgICAgIHRlcm1pbmFsLnN0ZG91dChgVXNpbmcgQVBJIGtleSAke2FwaV9rZXl9Li4uXFxuYCk7XG4gICAgICB9XG4gICAgICB2YXIgY2xpZW50ID0gbmV3IERyb3Bib3guQ2xpZW50KHsga2V5OiBhcGlfa2V5IH0pO1xuICAgICAgY2xpZW50LmF1dGhlbnRpY2F0ZSgoZXJyb3I6IGFueSwgZGF0YT86IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgbGV0IG1mcyA9IDxCcm93c2VyRlMuRmlsZVN5c3RlbS5Nb3VudGFibGVGaWxlU3lzdGVtPiBmcy5nZXRSb290RlMoKTtcbiAgICAgICAgICBtZnMubW91bnQoJy9tbnQvZHJvcGJveCcsIG5ldyAoPGFueT5Ccm93c2VyRlMpLkZpbGVTeXN0ZW0uRHJvcGJveChjbGllbnQpKTtcbiAgICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoXCJTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIHlvdXIgRHJvcGJveCBhY2NvdW50LiBZb3UgY2FuIG5vdyBhY2Nlc3MgZmlsZXMgaW4gdGhlIC9BcHBzL0RvcHBpb0pWTSBmb2xkZXIgb2YgeW91ciBEcm9wYm94IGFjY291bnQgYXQgL21udC9kcm9wYm94LlxcblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXJtaW5hbC5zdGRlcnIoYFVuYWJsZSB0byBjb25uZWN0IHRvIERyb3Bib3g6ICR7ZXJyb3J9XFxuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl19\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/commands/fs.ts\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar meta_1 = require('./meta');\nvar TimeCommand = (function (_super) {\n    __extends(TimeCommand, _super);\n    function TimeCommand() {\n        _super.apply(this, arguments);\n    }\n    TimeCommand.prototype.getCommand = function () {\n        return 'time';\n    };\n    TimeCommand.prototype.run = function (terminal, args, cb) {\n        var command = args[0], commandObj = terminal.getAvailableCommands()[command];\n        if (args.length == 0) {\n            terminal.stdout(\"Usage: time [program] [args]\");\n            cb();\n        }\n        else if (commandObj === undefined) {\n            terminal.stderr(\"Undefined command: \" + command + \"\\n\");\n            cb();\n        }\n        else {\n            var start = (new Date).getTime();\n            console.profile(command);\n            commandObj.run(terminal, args.slice(1), function () {\n                console.profileEnd();\n                var end = (new Date).getTime();\n                terminal.stdout(\"\\nTime elapsed: \" + (end - start) + \" ms.\\n\");\n                cb();\n            });\n        }\n    };\n    return TimeCommand;\n}(meta_1.AbstractShellCommand));\nexports.TimeCommand = TimeCommand;\nvar ProfileCommand = (function (_super) {\n    __extends(ProfileCommand, _super);\n    function ProfileCommand() {\n        _super.apply(this, arguments);\n    }\n    ProfileCommand.prototype.getCommand = function () {\n        return 'profile';\n    };\n    ProfileCommand.prototype.run = function (terminal, args, cb) {\n        var count = 0, runs = 5, duration = 0, command = args[0], commandObj = terminal.getAvailableCommands()[command];\n        if (commandObj === undefined) {\n            terminal.stdout(\"Undefined command: \" + command + \"\\n\");\n            cb();\n        }\n        else {\n            function timeOnce(isWarmup) {\n                var start = (new Date).getTime();\n                commandObj.run(terminal, args.slice(1), function () {\n                    if (!isWarmup) {\n                        var end = (new Date).getTime();\n                        duration += end - start;\n                    }\n                    if (count < runs) {\n                        timeOnce(false);\n                    }\n                    else {\n                        terminal.stdout(\"\\n\" + command + \" took an average of \" + duration / runs + \" ms to run.\\n\");\n                        cb();\n                    }\n                });\n            }\n            timeOnce(true);\n        }\n    };\n    return ProfileCommand;\n}(meta_1.AbstractShellCommand));\nexports.ProfileCommand = ProfileCommand;\nvar HelpCommand = (function (_super) {\n    __extends(HelpCommand, _super);\n    function HelpCommand() {\n        _super.apply(this, arguments);\n    }\n    HelpCommand.prototype.getCommand = function () {\n        return 'help';\n    };\n    HelpCommand.prototype.getAutocompleteFilter = function () {\n        // help command takes no arguments\n        return function () { return false; };\n    };\n    HelpCommand.prototype.run = function (terminal, args, cb) {\n        terminal.stdout(\"Use Ctrl-C for SIGINT, tab for autocomplete, and the upload button to upload\\nfiles into the current virtual filesystem directory.\\n\\n\\u001B[1mStandard commands:\\u001B[0m\\n  cat <file>     ls <dir>       mv <src> <dst>    time <command>\\n  edit <file>    cd <dir>       cp <src> <dst>\\n  rm <file>      rmdir <dir>\\n                 mkdir <dir>\\n\\n\\u001B[1mREPLs and Compilers:\\u001B[0m (WARNING: These trigger downloads!)\\n  nashorn (JavaScript)    scala (Scala)         groovy (Groovy)\\n  rhino (JavaScript)      abcl (Common LISP)    clojure (Clojure)\\n  kawa (Scheme)\\n\\n\\u001B[1mSpecial commands:\\u001B[0m\\n  mount_dropbox           -- Mount a Dropbox folder into the file system.\\n  profile <command>       -- Profile a command with 5 runs.\\n  tip                     -- Get a random idea to try out in the demo.\\n\\n\\u001B[1mJava-related commands:\\u001B[0m\\n  javac <source file>     -- Invoke the Java 8 compiler.\\n  ecj <source file>       -- Invoke the Eclipse Java compiler.\\n  java <class> [args...]  -- Run with command-line arguments.\\n  javap [args...] <class> -- Run the Java 8 disassembler.\\n\\n\\u001B[1mPrograms and Demos:\\u001B[0m\\n  abandon   Double-entry accounting software written in Scala.\\n            Try 'abandon -c /home/files/abandon/examples/complete/accounts.conf'\\n  scimark2  An old-school Java benchmark for JVMs. Measures JVM speed for\\n            scientific and numerical computing. May freeze up the browser,\\n            as the program has a number of long-running loops.\\n\\n  Small Java demos are located in /home/classes/demo, along with their source\\n  code.\\n\\n\");\n        cb();\n    };\n    return HelpCommand;\n}(meta_1.AbstractShellCommand));\nexports.HelpCommand = HelpCommand;\nvar tips = [\n    \"Upload a JAR using the \\\"Upload Files\\\" button, and run it in DoppioJVM with\\njava -jar [file.jar]\",\n    \"Mount a Dropbox folder into the in-browser filesystem with mount_dropbox, sync\\nJava programs to Dropbox, and watch them appear in the in-browser filesystem!\",\n    \"Edit one of the built-in demos at /home/classes/demo, re-compile it with javac,\\nand re-run it with java!\",\n    \"Ever use Java 8? Try experimenting with new Java 8 features! DoppioJVM\\nsupports them.\",\n    \"Try random JAR files in DoppioJVM and see what works. If it seems\\ninteresting, file an issue at https://github.com/plasma-umass/doppio-demo and\\nwe may include it in a demo update!\",\n    \"Run the abandon accounting software on the example input:\\nabandon -c /home/files/abandon/examples/complete/accounts.conf\\nModify the input, and try it again.\"\n];\nfunction getRandomTip() {\n    var min = 0, max = tips.length;\n    return tips[Math.floor(Math.random() * (max - min))];\n}\nvar TipCommand = (function (_super) {\n    __extends(TipCommand, _super);\n    function TipCommand() {\n        _super.apply(this, arguments);\n    }\n    TipCommand.prototype.getCommand = function () {\n        return 'tip';\n    };\n    TipCommand.prototype.getAutocompleteFilter = function () {\n        // tip command takes no arguments\n        return function () { return false; };\n    };\n    TipCommand.prototype.run = function (terminal, args, cb) {\n        terminal.stdout(getRandomTip() + \"\\n\");\n        cb();\n    };\n    return TipCommand;\n}(meta_1.AbstractShellCommand));\nexports.TipCommand = TipCommand;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscUJBQW1DLFFBQVEsQ0FBQyxDQUFBO0FBRzVDO0lBQWlDLCtCQUFvQjtJQUFyRDtRQUFpQyw4QkFBb0I7SUF5QnJELENBQUM7SUF4QlEsZ0NBQVUsR0FBakI7UUFDRSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFDTSx5QkFBRyxHQUFWLFVBQVcsUUFBZSxFQUFFLElBQWMsRUFBRSxFQUFjO1FBQ3hELElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkIsVUFBVSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXhELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQixRQUFRLENBQUMsTUFBTSxDQUFDLDhCQUE4QixDQUFDLENBQUM7WUFDaEQsRUFBRSxFQUFFLENBQUM7UUFDUCxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFVBQVUsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLFFBQVEsQ0FBQyxNQUFNLENBQUMsd0JBQXNCLE9BQU8sT0FBSSxDQUFDLENBQUM7WUFDbkQsRUFBRSxFQUFFLENBQUM7UUFDUCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6QixVQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUN0QyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ3JCLElBQUksR0FBRyxHQUFHLENB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QUNyQiwrSkFDOEU7SUFDOUUsMkdBQ3lCO0lBQ3pCLHdGQUNlO0lBQ2YsdUxBRW9DO0lBQ3BDLGdLQUVvQztDQUNuQyxDQUFDO0FBQ0Y7SUFDRSxJQUFNLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkQsQ0FBQztBQUVEO0lBQWdDLDhCQUFvQjtJQUFwRDtRQUFnQyw4QkFBb0I7SUFjcEQsQ0FBQztJQWJRLCtCQUFVLEdBQWpCO1FBQ0UsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFTSwwQ0FBcUIsR0FBNUI7UUFDRSxpQ0FBaUM7UUFDakMsTUFBTSxDQUFDLGNBQU0sT0FBQSxLQUFLLEVBQUwsQ0FBSyxDQUFDO0lBQ3JCLENBQUM7SUFFTSx3QkFBRyxHQUFWLFVBQVcsUUFBZSxFQUFFLElBQWMsRUFBRSxFQUFjO1FBQ3hELFFBQVEsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDdkMsRUFBRSxFQUFFLENBQUM7SUFDUCxDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQUFDLEFBZEQsQ0FBZ0MsMkJBQW9CLEdBY25EO0FBZFksa0JBQVUsYUFjdEIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWJzdHJhY3RTaGVsbENvbW1hbmR9IGZyb20gJy4vbWV0YSc7XG5pbXBvcnQgU2hlbGwgZnJvbSAnLi4vc2hlbGwnO1xuXG5leHBvcnQgY2xhc3MgVGltZUNvbW1hbmQgZXh0ZW5kcyBBYnN0cmFjdFNoZWxsQ29tbWFuZCB7XG4gIHB1YmxpYyBnZXRDb21tYW5kKCkge1xuICAgIHJldHVybiAndGltZSc7XG4gIH1cbiAgcHVibGljIHJ1bih0ZXJtaW5hbDogU2hlbGwsIGFyZ3M6IHN0cmluZ1tdLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHZhciBjb21tYW5kID0gYXJnc1swXSxcbiAgICAgIGNvbW1hbmRPYmogPSB0ZXJtaW5hbC5nZXRBdmFpbGFibGVDb21tYW5kcygpW2NvbW1hbmRdO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09IDApIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChgVXNhZ2U6IHRpbWUgW3Byb2dyYW1dIFthcmdzXWApO1xuICAgICAgY2IoKTtcbiAgICB9IGVsc2UgaWYgKGNvbW1hbmRPYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVybWluYWwuc3RkZXJyKGBVbmRlZmluZWQgY29tbWFuZDogJHtjb21tYW5kfVxcbmApO1xuICAgICAgY2IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YXJ0ID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7XG4gICAgICBjb25zb2xlLnByb2ZpbGUoY29tbWFuZCk7XG4gICAgICBjb21tYW5kT2JqLnJ1bih0ZXJtaW5hbCwgYXJncy5zbGljZSgxKSwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLnByb2ZpbGVFbmQoKTtcbiAgICAgICAgdmFyIGVuZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICB0ZXJtaW5hbC5zdGRvdXQoYFxcblRpbWUgZWxhcHNlZDogJHtlbmQgLSBzdGFydH0gbXMuXFxuYCk7XG4gICAgICAgIGNiKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2ZpbGVDb21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gJ3Byb2ZpbGUnO1xuICB9XG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB2YXIgY291bnQgPSAwLCBydW5zID0gNSwgZHVyYXRpb24gPSAwLCBjb21tYW5kID0gYXJnc1swXSxcbiAgICAgIGNvbW1hbmRPYmogPSB0ZXJtaW5hbC5nZXRBdmFpbGFibGVDb21tYW5kcygpW2NvbW1hbmRdO1xuICAgIGlmIChjb21tYW5kT2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlcm1pbmFsLnN0ZG91dChgVW5kZWZpbmVkIGNvbW1hbmQ6ICR7Y29tbWFuZH1cXG5gKTtcbiAgICAgIGNiKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bmN0aW9uIHRpbWVPbmNlKGlzV2FybXVwOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHZhciBzdGFydCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICBjb21tYW5kT2JqLnJ1bih0ZXJtaW5hbCwgYXJncy5zbGljZSgxKSwoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1dhcm11cCkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgZHVyYXRpb24gKz0gZW5kIC0gc3RhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3VudCA8IHJ1bnMpIHtcbiAgICAgICAgICAgIHRpbWVPbmNlKGZhbHNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGVybWluYWwuc3Rkb3V0KGBcXG4ke2NvbW1hbmR9IHRvb2sgYW4gYXZlcmFnZSBvZiAke2R1cmF0aW9uIC8gcnVuc30gbXMgdG8gcnVuLlxcbmApO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGltZU9uY2UodHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIZWxwQ29tbWFuZCBleHRlbmRzIEFic3RyYWN0U2hlbGxDb21tYW5kIHtcbiAgcHVibGljIGdldENvbW1hbmQoKSB7XG4gICAgcmV0dXJuICdoZWxwJztcbiAgfVxuXG4gIHB1YmxpYyBnZXRBdXRvY29tcGxldGVGaWx0ZXIoKSB7XG4gICAgLy8gaGVscCBjb21tYW5kIHRha2VzIG5vIGFyZ3VtZW50c1xuICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0ZXJtaW5hbC5zdGRvdXQoXG5gVXNlIEN0cmwtQyBmb3IgU0lHSU5ULCB0YWIgZm9yIGF1dG9jb21wbGV0ZSwgYW5kIHRoZSB1cGxvYWQgYnV0dG9uIHRvIHVwbG9hZFxuZmlsZXMgaW50byB0aGUgY3VycmVudCB2aXJ0dWFsIGZpbGVzeXN0ZW0gZGlyZWN0b3J5LlxuXG5cXHgxYlsxbVN0YW5kYXJkIGNvbW1hbmRzOlxceDFiWzBtXG4gIGNhdCA8ZmlsZT4gICAgIGxzIDxkaXI+ICAgICAgIG12IDxzcmM+IDxkc3Q+ICAgIHRpbWUgPGNvbW1hbmQ+XG4gIGVkaXQgPGZpbGU+ICAgIGNkIDxkaXI+ICAgICAgIGNwIDxzcmM+IDxkc3Q+XG4gIHJtIDxmaWxlPiAgICAgIHJtZGlyIDxkaXI+XG4gICAgICAgICAgICAgICAgIG1rZGlyIDxkaXI+XG5cblxceDFiWzFtUkVQTHMgYW5kIENvbXBpbGVyczpcXHgxYlswbSAoV0FSTklORzogVGhlc2UgdHJpZ2dlciBkb3dubG9hZHMhKVxuICBuYXNob3JuIChKYXZhU2NyaXB0KSAgICBzY2FsYSAoU2NhbGEpICAgICAgICAgZ3Jvb3Z5IChHcm9vdnkpXG4gIHJoaW5vIChKYXZhU2NyaXB0KSAgICAgIGFiY2wgKENvbW1vbiBMSVNQKSAgICBjbG9qdXJlIChDbG9qdXJlKVxuICBrYXdhIChTY2hlbWUpXG5cblxceDFiWzFtU3BlY2lhbCBjb21tYW5kczpcXHgxYlswbVxuICBtb3VudF9kcm9wYm94ICAgICAgICAgICAtLSBNb3VudCBhIERyb3Bib3ggZm9sZGVyIGludG8gdGhlIGZpbGUgc3lzdGVtLlxuICBwcm9maWxlIDxjb21tYW5kPiAgICAgICAtLSBQcm9maWxlIGEgY29tbWFuZCB3aXRoIDUgcnVucy5cbiAgdGlwICAgICAgICAgICAgICAgICAgICAgLS0gR2V0IGEgcmFuZG9tIGlkZWEgdG8gdHJ5IG91dCBpbiB0aGUgZGVtby5cblxuXFx4MWJbMW1KYXZhLXJlbGF0ZWQgY29tbWFuZHM6XFx4MWJbMG1cbiAgamF2YWMgPHNvdXJjZSBmaWxlPiAgICAgLS0gSW52b2tlIHRoZSBKYXZhIDggY29tcGlsZXIuXG4gIGVjaiA8c291cmNlIGZpbGU+ICAgICAgIC0tIEludm9rZSB0aGUgRWNsaXBzZSBKYXZhIGNvbXBpbGVyLlxuICBqYXZhIDxjbGFzcz4gW2FyZ3MuLi5dICAtLSBSdW4gd2l0aCBjb21tYW5kLWxpbmUgYXJndW1lbnRzLlxuICBqYXZhcCBbYXJncy4uLl0gPGNsYXNzPiAtLSBSdW4gdGhlIEphdmEgOCBkaXNhc3NlbWJsZXIuXG5cblxceDFiWzFtUHJvZ3JhbXMgYW5kIERlbW9zOlxceDFiWzBtXG4gIGFiYW5kb24gICBEb3VibGUtZW50cnkgYWNjb3VudGluZyBzb2Z0d2FyZSB3cml0dGVuIGluIFNjYWxhLlxuICAgICAgICAgICAgVHJ5ICdhYmFuZG9uIC1jIC9ob21lL2ZpbGVzL2FiYW5kb24vZXhhbXBsZXMvY29tcGxldGUvYWNjb3VudHMuY29uZidcbiAgc2NpbWFyazIgIEFuIG9sZC1zY2hvb2wgSmF2YSBiZW5jaG1hcmsgZm9yIEpWTXMuIE1lYXN1cmVzIEpWTSBzcGVlZCBmb3JcbiAgICAgICAgICAgIHNjaWVudGlmaWMgYW5kIG51bWVyaWNhbCBjb21wdXRpbmcuIE1heSBmcmVlemUgdXAgdGhlIGJyb3dzZXIsXG4gICAgICAgICAgICBhcyB0aGUgcHJvZ3JhbSBoYXMgYSBudW1iZXIgb2YgbG9uZy1ydW5uaW5nIGxvb3BzLlxuXG4gIFNtYWxsIEphdmEgZGVtb3MgYXJlIGxvY2F0ZWQgaW4gL2hvbWUvY2xhc3Nlcy9kZW1vLCBhbG9uZyB3aXRoIHRoZWlyIHNvdXJjZVxuICBjb2RlLlxuXG5gKTtcbiAgICBjYigpO1xuICB9XG59XG5cbmNvbnN0IHRpcHM6IHN0cmluZ1tdID0gW1xuYFVwbG9hZCBhIEpBUiB1c2luZyB0aGUgXCJVcGxvYWQgRmlsZXNcIiBidXR0b24sIGFuZCBydW4gaXQgaW4gRG9wcGlvSlZNIHdpdGhcbmphdmEgLWphciBbZmlsZS5qYXJdYCxcbmBNb3VudCBhIERyb3Bib3ggZm9sZGVyIGludG8gdGhlIGluLWJyb3dzZXIgZmlsZXN5c3RlbSB3aXRoIG1vdW50X2Ryb3Bib3gsIHN5bmNcbkphdmEgcHJvZ3JhbXMgdG8gRHJvcGJveCwgYW5kIHdhdGNoIHRoZW0gYXBwZWFyIGluIHRoZSBpbi1icm93c2VyIGZpbGVzeXN0ZW0hYCxcbmBFZGl0IG9uZSBvZiB0aGUgYnVpbHQtaW4gZGVtb3MgYXQgL2hvbWUvY2xhc3Nlcy9kZW1vLCByZS1jb21waWxlIGl0IHdpdGggamF2YWMsXG5hbmQgcmUtcnVuIGl0IHdpdGggamF2YSFgLFxuYEV2ZXIgdXNlIEphdmEgOD8gVHJ5IGV4cGVyaW1lbnRpbmcgd2l0aCBuZXcgSmF2YSA4IGZlYXR1cmVzISBEb3BwaW9KVk1cbnN1cHBvcnRzIHRoZW0uYCxcbmBUcnkgcmFuZG9tIEpBUiBmaWxlcyBpbiBEb3BwaW9KVk0gYW5kIHNlZSB3aGF0IHdvcmtzLiBJZiBpdCBzZWVtc1xuaW50ZXJlc3RpbmcsIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3BsYXNtYS11bWFzcy9kb3BwaW8tZGVtbyBhbmRcbndlIG1heSBpbmNsdWRlIGl0IGluIGEgZGVtbyB1cGRhdGUhYCxcbmBSdW4gdGhlIGFiYW5kb24gYWNjb3VudGluZyBzb2Z0d2FyZSBvbiB0aGUgZXhhbXBsZSBpbnB1dDpcbmFiYW5kb24gLWMgL2hvbWUvZmlsZXMvYWJhbmRvbi9leGFtcGxlcy9jb21wbGV0ZS9hY2NvdW50cy5jb25mXG5Nb2RpZnkgdGhlIGlucHV0LCBhbmQgdHJ5IGl0IGFnYWluLmBcbl07XG5mdW5jdGlvbiBnZXRSYW5kb21UaXAoKTogc3RyaW5nIHtcbiAgY29uc3QgbWluID0gMCwgbWF4ID0gdGlwcy5sZW5ndGg7XG4gIHJldHVybiB0aXBzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKV07XG59XG5cbmV4cG9ydCBjbGFzcyBUaXBDb21tYW5kIGV4dGVuZHMgQWJzdHJhY3RTaGVsbENvbW1hbmQge1xuICBwdWJsaWMgZ2V0Q29tbWFuZCgpIHtcbiAgICByZXR1cm4gJ3RpcCc7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXV0b2NvbXBsZXRlRmlsdGVyKCkge1xuICAgIC8vIHRpcCBjb21tYW5kIHRha2VzIG5vIGFyZ3VtZW50c1xuICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBydW4odGVybWluYWw6IFNoZWxsLCBhcmdzOiBzdHJpbmdbXSwgY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0ZXJtaW5hbC5zdGRvdXQoZ2V0UmFuZG9tVGlwKCkgKyBcIlxcblwiKTtcbiAgICBjYigpO1xuICB9XG59XG4iXX0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/commands/util.ts\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = {\n\t\"Bench.class\": null,\n\t\"Bench.java\": null,\n\t\"FrozenCompile.class\": null,\n\t\"FrozenCompile.java\": null,\n\t\"NashornBenchmark.class\": null,\n\t\"NashornBenchmark.java\": null,\n\t\"abandon.jar\": null,\n\t\"abcl-1.3.3.jar\": null,\n\t\"clojure-1.7.0.jar\": null,\n\t\"ecj-4.5.jar\": null,\n\t\"groovy-all-2.4.5-indy.jar\": null,\n\t\"jruby-complete-9.0.1.0.jar\": null,\n\t\"jython-standalone-2.7.0.jar\": null,\n\t\"kawa-2.0.jar\": null,\n\t\"listings.json\": null,\n\t\"rhino1.7.6.jar\": null,\n\t\"scala-2.11.7\": {\n\t\t\"bin\": {\n\t\t\t\"fsc\": null,\n\t\t\t\"fsc.bat\": null,\n\t\t\t\"scala\": null,\n\t\t\t\"scala.bat\": null,\n\t\t\t\"scalac\": null,\n\t\t\t\"scalac.bat\": null,\n\t\t\t\"scaladoc\": null,\n\t\t\t\"scaladoc.bat\": null,\n\t\t\t\"scalap\": null,\n\t\t\t\"scalap.bat\": null\n\t\t},\n\t\t\"doc\": {\n\t\t\t\"LICENSE.md\": null,\n\t\t\t\"License.rtf\": null,\n\t\t\t\"README\": null,\n\t\t\t\"licenses\": {\n\t\t\t\t\"apache_jansi.txt\": null,\n\t\t\t\t\"bsd_asm.txt\": null,\n\t\t\t\t\"bsd_jline.txt\": null,\n\t\t\t\t\"mit_jquery-layout.txt\": null,\n\t\t\t\t\"mit_jquery-ui.txt\": null,\n\t\t\t\t\"mit_jquery.txt\": null,\n\t\t\t\t\"mit_sizzle.txt\": null,\n\t\t\t\t\"mit_tools.tooltip.txt\": null\n\t\t\t},\n\t\t\t\"tools\": {\n\t\t\t\t\"css\": {\n\t\t\t\t\t\"style.css\": null\n\t\t\t\t},\n\t\t\t\t\"fsc.html\": null,\n\t\t\t\t\"images\": {\n\t\t\t\t\t\"external.gif\": null,\n\t\t\t\t\t\"scala_logo.png\": null\n\t\t\t\t},\n\t\t\t\t\"index.html\": null,\n\t\t\t\t\"scala.html\": null,\n\t\t\t\t\"scalac.html\": null,\n\t\t\t\t\"scaladoc.html\": null,\n\t\t\t\t\"scalap.html\": null\n\t\t\t}\n\t\t},\n\t\t\"lib\": {\n\t\t\t\"akka-actor_2.11-2.3.10.jar\": null,\n\t\t\t\"config-1.2.1.jar\": null,\n\t\t\t\"jline-2.12.1.jar\": null,\n\t\t\t\"scala-actors-2.11.0.jar\": null,\n\t\t\t\"scala-actors-migration_2.11-1.1.0.jar\": null,\n\t\t\t\"scala-compiler.jar\": null,\n\t\t\t\"scala-continuations-library_2.11-1.0.2.jar\": null,\n\t\t\t\"scala-continuations-plugin_2.11.7-1.0.2.jar\": null,\n\t\t\t\"scala-library.jar\": null,\n\t\t\t\"scala-parser-combinators_2.11-1.0.4.jar\": null,\n\t\t\t\"scala-reflect.jar\": null,\n\t\t\t\"scala-swing_2.11-1.0.2.jar\": null,\n\t\t\t\"scala-xml_2.11-1.0.4.jar\": null,\n\t\t\t\"scalap-2.11.7.jar\": null\n\t\t},\n\t\t\"man\": {\n\t\t\t\"man1\": {\n\t\t\t\t\"fsc.1\": null,\n\t\t\t\t\"scala.1\": null,\n\t\t\t\t\"scalac.1\": null,\n\t\t\t\t\"scaladoc.1\": null,\n\t\t\t\t\"scalap.1\": null\n\t\t\t}\n\t\t}\n\t},\n\t\"scimark2lib.jar\": null\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/json-loader!./build/programs/listings.json\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}